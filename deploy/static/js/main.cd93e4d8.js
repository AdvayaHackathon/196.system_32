/*! For license information please see main.cd93e4d8.js.LICENSE.txt */
(()=>{var e={46:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},81:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusResponsePayload=void 0;class r{constructor(e){this.privMessageStatusResponse=JSON.parse(e)}static fromJSON(e){return new r(e)}get interactionId(){return this.privMessageStatusResponse.interactionId}get conversationId(){return this.privMessageStatusResponse.conversationId}get statusCode(){switch(this.privMessageStatusResponse.statusCode){case"Success":return 200;case"Failed":return 400;case"TimedOut":return 429;default:return this.privMessageStatusResponse.statusCode}}}t.TurnStatusResponsePayload=r},94:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProfanityOption=void 0,function(e){e[e.Masked=0]="Masked",e[e.Removed=1]="Removed",e[e.Raw=2]="Raw"}(t.ProfanityOption||(t.ProfanityOption={}))},125:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},127:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionResult=void 0;const n=r(8040);class i extends n.RecognitionResult{constructor(e,t,r,n,i,o,s,a,c,l,u){super(e,t,r,n,i,o,s,c,l,u),this.privSpeakerId=a}get speakerId(){return this.privSpeakerId}}t.SpeechRecognitionResult=i},175:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGradingSystem=void 0,function(e){e[e.FivePoint=1]="FivePoint",e[e.HundredMark=2]="HundredMark"}(t.PronunciationAssessmentGradingSystem||(t.PronunciationAssessmentGradingSystem={}))},177:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return p.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return l.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=d(r(7884)),i=d(r(9638)),o=d(r(2855)),s=d(r(1552)),a=d(r(1282)),c=d(r(1185)),l=d(r(7019)),u=d(r(5080)),p=d(r(4470));function d(e){return e&&e.__esModule?e:{default:e}}},182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriber=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040),a=r(5463);t.MeetingTranscriber=class{constructor(e){this.privAudioConfig=e,this.privProperties=new s.PropertyCollection,this.privRecognizer=void 0,this.privDisposedRecognizer=!1}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get internalData(){return this.privRecognizer.internalData}get connection(){return s.Connection.fromRecognizer(this.privRecognizer)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}joinMeetingAsync(e,t,r){const s=e;o.Contracts.throwIfNullOrUndefined(a.MeetingImpl,"Meeting"),this.privRecognizer=new n.TranscriberRecognizer(e.config,this.privAudioConfig),o.Contracts.throwIfNullOrUndefined(this.privRecognizer,"Recognizer"),this.privRecognizer.connectMeetingCallbacks(this),i.marshalPromiseToCallbacks(s.connectTranscriberRecognizer(this.privRecognizer),t,r)}startTranscribingAsync(e,t){this.privRecognizer.startContinuousRecognitionAsync(e,t)}stopTranscribingAsync(e,t){this.privRecognizer.stopContinuousRecognitionAsync(e,t)}leaveMeetingAsync(e,t){this.privRecognizer.disconnectCallbacks(),i.marshalPromiseToCallbacks((async()=>{})(),e,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(this.privRecognizer&&(await this.privRecognizer.close(),this.privRecognizer=void 0),e&&(this.privDisposedRecognizer=!0))}}},222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionMessage=void 0;const n=r(2307),i=r(8643);class o extends n.ConnectionMessage{constructor(e,t,r,o,s,a,c,l){if(!t)throw new n.ArgumentNullError("path");if(!r)throw new n.ArgumentNullError("requestId");const u={};if(u[i.HeaderNames.Path]=t,u[i.HeaderNames.RequestId]=r,u[i.HeaderNames.RequestTimestamp]=(new Date).toISOString(),o&&(u[i.HeaderNames.ContentType]=o),a&&(u[i.HeaderNames.RequestStreamId]=a),c)for(const n in c)n&&(u[n]=c[n]);l?super(e,s,u,l):super(e,s,u),this.privPath=t,this.privRequestId=r,this.privContentType=o,this.privStreamId=a,this.privAdditionalHeaders=c}get path(){return this.privPath}get requestId(){return this.privRequestId}get contentType(){return this.privContentType}get streamId(){return this.privStreamId}get additionalHeaders(){return this.privAdditionalHeaders}static fromConnectionMessage(e){let t=null,r=null,n=null,s=null;const a={};if(e.headers)for(const o in e.headers)o&&(o.toLowerCase()===i.HeaderNames.Path.toLowerCase()?t=e.headers[o]:o.toLowerCase()===i.HeaderNames.RequestId.toLowerCase()?r=e.headers[o]:o.toLowerCase()===i.HeaderNames.ContentType.toLowerCase()?n=e.headers[o]:o.toLowerCase()===i.HeaderNames.RequestStreamId.toLowerCase()?s=e.headers[o]:a[o]=e.headers[o]);return new o(e.messageType,t,r,n,e.body,s,a,e.id)}}t.SpeechConnectionMessage=o},260:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Contracts=void 0;class r{static throwIfNullOrUndefined(e,t){if(void 0===e||null===e)throw new Error("throwIfNullOrUndefined:"+t)}static throwIfNull(e,t){if(null===e)throw new Error("throwIfNull:"+t)}static throwIfNullOrWhitespace(e,t){if(r.throwIfNullOrUndefined(e,t),(""+e).trim().length<1)throw new Error("throwIfNullOrWhitespace:"+t)}static throwIfNullOrTooLong(e,t,n){if(r.throwIfNullOrUndefined(e,t),(""+e).length>n)throw new Error("throwIfNullOrTooLong:"+t+" (more than "+n.toString()+" characters)")}static throwIfNullOrTooShort(e,t,n){if(r.throwIfNullOrUndefined(e,t),(""+e).length<n)throw new Error("throwIfNullOrTooShort:"+t+" (less than "+n.toString()+" characters)")}static throwIfDisposed(e){if(e)throw new Error("the object is already disposed")}static throwIfArrayEmptyOrWhitespace(e,t){if(r.throwIfNullOrUndefined(e,t),0===e.length)throw new Error("throwIfArrayEmptyOrWhitespace:"+t);for(const n of e)r.throwIfNullOrWhitespace(n,t)}static throwIfFileDoesNotExist(e,t){r.throwIfNullOrWhitespace(e,t)}static throwIfNotUndefined(e,t){if(void 0!==e)throw new Error("throwIfNotUndefined:"+t)}}t.Contracts=r},323:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SendingAgentContextMessageEvent=t.DialogEvent=void 0;const n=r(333);class i extends n.PlatformEvent{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:n.EventType.Info)}}t.DialogEvent=i;t.SendingAgentContextMessageEvent=class extends i{constructor(e){super("SendingAgentContextMessageEvent"),this.privAgentConfig=e}get agentConfig(){return this.privAgentConfig}}},333:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PlatformEvent=t.EventType=void 0;const n=r(9463);!function(e){e[e.Debug=0]="Debug",e[e.Info=1]="Info",e[e.Warning=2]="Warning",e[e.Error=3]="Error",e[e.None=4]="None"}(t.EventType||(t.EventType={}));t.PlatformEvent=class{constructor(e,t){this.privName=e,this.privEventId=n.createNoDashGuid(),this.privEventTime=(new Date).toISOString(),this.privEventType=t,this.privMetadata={}}get name(){return this.privName}get eventId(){return this.privEventId}get eventTime(){return this.privEventTime}get eventType(){return this.privEventType}get metadata(){return this.privMetadata}}},338:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentGranularity=void 0,function(e){e[e.Phoneme=1]="Phoneme",e[e.Word=2]="Word",e[e.FullText=3]="FullText"}(t.PronunciationAssessmentGranularity||(t.PronunciationAssessmentGranularity={}))},344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageImpl=t.ConnectionMessage=void 0;const n=r(8643),i=r(2307),o=r(6058),s=r(1743);t.ConnectionMessage=class{};t.ConnectionMessageImpl=class{constructor(e){this.privConnectionMessage=e,this.privProperties=new o.PropertyCollection,this.privConnectionMessage.headers[n.HeaderNames.ConnectionId]&&this.privProperties.setProperty(s.PropertyId.Speech_SessionId,this.privConnectionMessage.headers[n.HeaderNames.ConnectionId]),Object.keys(this.privConnectionMessage.headers).forEach((e=>{this.privProperties.setProperty(e,this.privConnectionMessage.headers[e])}))}get path(){return this.privConnectionMessage.headers[Object.keys(this.privConnectionMessage.headers).find((e=>e.toLowerCase()==="path".toLowerCase()))]}get isTextMessage(){return this.privConnectionMessage.messageType===i.MessageType.Text}get isBinaryMessage(){return this.privConnectionMessage.messageType===i.MessageType.Binary}get TextMessage(){return this.privConnectionMessage.textBody}get binaryMessage(){return this.privConnectionMessage.binaryBody}get properties(){return this.privProperties}toString(){return""}}},372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationErrorCode=void 0,function(e){e[e.NoError=0]="NoError",e[e.AuthenticationFailure=1]="AuthenticationFailure",e[e.BadRequestParameters=2]="BadRequestParameters",e[e.TooManyRequests=3]="TooManyRequests",e[e.ConnectionFailure=4]="ConnectionFailure",e[e.ServiceTimeout=5]="ServiceTimeout",e[e.ServiceError=6]="ServiceError",e[e.RuntimeError=7]="RuntimeError",e[e.Forbidden=8]="Forbidden"}(t.CancellationErrorCode||(t.CancellationErrorCode={}))},385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EventSource=void 0;const n=r(8446),i=r(9463);t.EventSource=class{constructor(e){this.privEventListeners={},this.privIsDisposed=!1,this.privConsoleListener=void 0,this.privMetadata=e}onEvent(e){if(this.isDisposed())throw new n.ObjectDisposedError("EventSource");if(this.metadata)for(const t in this.metadata)t&&e.metadata&&(e.metadata[t]||(e.metadata[t]=this.metadata[t]));for(const t in this.privEventListeners)t&&this.privEventListeners[t]&&this.privEventListeners[t](e)}attach(e){const t=i.createNoDashGuid();return this.privEventListeners[t]=e,{detach:()=>(delete this.privEventListeners[t],Promise.resolve())}}attachListener(e){return this.attach((t=>e.onEvent(t)))}attachConsoleListener(e){return this.privConsoleListener&&this.privConsoleListener.detach(),this.privConsoleListener=this.attach((t=>e.onEvent(t))),this.privConsoleListener}isDisposed(){return this.privIsDisposed}dispose(){this.privEventListeners=null,this.privIsDisposed=!0}get metadata(){return this.privMetadata}}},482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileConnectionFactory=t.SpeakerRecognitionConnectionFactory=void 0;const n=r(2277),i=r(8040),o=r(2679),s=r(9859),a=r(8643);class c extends o.ConnectionFactoryBase{create(e,t,r,c){let l=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint);if(!l){const t=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region),n=o.ConnectionFactoryBase.getHostSuffix(t),s=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,`wss://${t}.spr-frontend.speech${n}`),a=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_SpeakerIdMode,"TextIndependentIdentification");l=`${s}/speaker/ws/${this.scenarioToPath(a)}/${r}`}const u={format:"simple",language:e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,u,l);const p={};void 0!==t.token&&""!==t.token&&(p[t.headerName]=t.token),p[a.HeaderNames.ConnectionId]=c,p[a.HeaderNames.SpIDAuthKey]=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Key),e.parameters.setProperty(i.PropertyId.SpeechServiceConnection_Url,l);const d="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(l,u,p,new s.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),d,c)}scenarioToPath(e){switch(e){case"TextIndependentVerification":case"2":return"verification/text-independent";case"TextDependentVerification":case"1":return"verification/text-dependent";default:return"identification/text-independent"}}}t.SpeakerRecognitionConnectionFactory=class extends c{create(e,t,r){return super.create(e,t,"recognition",r)}};t.VoiceProfileConnectionFactory=class extends c{create(e,t,r){return super.create(e,t,"profile",r)}}},495:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,s,a){var c;if("string"===typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"===typeof n&&(n=(0,o.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let l=new Uint8Array(16+e.length);if(l.set(n),l.set(e,n.length),l=r(l),l[6]=15&l[6]|t,l[8]=63&l[8]|128,s){a=a||0;for(let e=0;e<16;++e)s[a+e]=l[e];return s}return(0,i.unsafeStringify)(l)}try{n.name=e}catch(c){}return n.DNS=s,n.URL=a,n};var n,i=r(5080),o=(n=r(4470))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const a="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=a},553:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.marshalPromiseToCallbacks=t.Sink=t.Deferred=t.PromiseResultEventSource=t.PromiseResult=t.PromiseState=void 0,function(e){e[e.None=0]="None",e[e.Resolved=1]="Resolved",e[e.Rejected=2]="Rejected"}(r=t.PromiseState||(t.PromiseState={}));class n{constructor(e){this.throwIfError=()=>{if(this.isError)throw this.error},e.on((e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!1,this.privResult=e)}),(e=>{this.privIsCompleted||(this.privIsCompleted=!0,this.privIsError=!0,this.privError=e)}))}get isCompleted(){return this.privIsCompleted}get isError(){return this.privIsError}get error(){return this.privError}get result(){return this.privResult}}t.PromiseResult=n;class i{constructor(){this.setResult=e=>{this.privOnSetResult(e)},this.setError=e=>{this.privOnSetError(e)},this.on=(e,t)=>{this.privOnSetResult=e,this.privOnSetError=t}}}t.PromiseResultEventSource=i;t.Deferred=class{constructor(){this.resolve=e=>(this.privResolve(e),this),this.reject=e=>(this.privReject(e),this),this.privPromise=new Promise(((e,t)=>{this.privResolve=e,this.privReject=t}))}get promise(){return this.privPromise}};t.Sink=class{constructor(){this.privState=r.None,this.privPromiseResult=null,this.privPromiseResultEvents=null,this.privSuccessHandlers=[],this.privErrorHandlers=[],this.privPromiseResultEvents=new i,this.privPromiseResult=new n(this.privPromiseResultEvents)}get state(){return this.privState}get result(){return this.privPromiseResult}resolve(e){if(this.privState!==r.None)throw new Error("'Cannot resolve a completed promise'");this.privState=r.Resolved,this.privPromiseResultEvents.setResult(e);for(let t=0;t<this.privSuccessHandlers.length;t++)this.executeSuccessCallback(e,this.privSuccessHandlers[t],this.privErrorHandlers[t]);this.detachHandlers()}reject(e){if(this.privState!==r.None)throw new Error("'Cannot reject a completed promise'");this.privState=r.Rejected,this.privPromiseResultEvents.setError(e);for(const t of this.privErrorHandlers)this.executeErrorCallback(e,t);this.detachHandlers()}on(e,t){null==e&&(e=()=>{}),this.privState===r.None?(this.privSuccessHandlers.push(e),this.privErrorHandlers.push(t)):(this.privState===r.Resolved?this.executeSuccessCallback(this.privPromiseResult.result,e,t):this.privState===r.Rejected&&this.executeErrorCallback(this.privPromiseResult.error,t),this.detachHandlers())}executeSuccessCallback(e,t,r){try{t(e)}catch(n){this.executeErrorCallback(`'Unhandled callback error: ${n}'`,r)}}executeErrorCallback(e,t){if(!t)throw new Error(`'Unhandled error: ${e}'`);try{t(e)}catch(r){throw new Error(`'Unhandled callback error: ${r}. InnerError: ${e}'`)}}detachHandlers(){this.privErrorHandlers=[],this.privSuccessHandlers=[]}},t.marshalPromiseToCallbacks=function(e,t,r){e.then((e=>{try{t&&t(e)}catch(n){if(r)try{if(n instanceof Error){const e=n;r(e.name+": "+e.message)}else r(n)}catch(n){}}}),(e=>{if(r)try{if(e instanceof Error){const t=e;r(t.name+": "+t.message)}else r(e)}catch(e){}}))}},579:(e,t,r)=>{"use strict";e.exports=r(1153)},590:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageUnderstandingModelImpl=t.LanguageUnderstandingModel=void 0;const n=r(260);class i{constructor(){}static fromEndpoint(e){n.Contracts.throwIfNull(e,"uri"),n.Contracts.throwIfNullOrWhitespace(e.hostname,"uri");const t=new o,r=e.host.indexOf(".");if(-1===r)throw new Error("Could not determine region from endpoint");t.region=e.host.substr(0,r);const i=e.pathname.lastIndexOf("/")+1;if(-1===i)throw new Error("Could not determine appId from endpoint");if(t.appId=e.pathname.substr(i),t.subscriptionKey=e.searchParams.get("subscription-key"),void 0===t.subscriptionKey)throw new Error("Could not determine subscription key from endpoint");return t}static fromAppId(e){n.Contracts.throwIfNullOrWhitespace(e,"appId");const t=new o;return t.appId=e,t}static fromSubscription(e,t,r){n.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),n.Contracts.throwIfNullOrWhitespace(t,"appId"),n.Contracts.throwIfNullOrWhitespace(r,"region");const i=new o;return i.appId=t,i.region=r,i.subscriptionKey=e,i}}t.LanguageUnderstandingModel=i;class o extends i{}t.LanguageUnderstandingModelImpl=o},684:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionCanceledEventArgs=void 0;const n=r(8706);class i extends n.CancellationEventArgsBase{}t.ConversationTranscriptionCanceledEventArgs=i},699:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Timeout=void 0;class r{static load(){const e=new Map([[0,()=>{}]]),t=new Map,n="data:text/javascript;base64,"+btoa('!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=14)}([function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return u})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return d}));const r=new Map,o=new Map,i=e=>{const t=r.get(e);if(void 0===t)throw new Error(\'There is no interval scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),r.delete(e)},u=e=>{const t=o.get(e);if(void 0===t)throw new Error(\'There is no timeout scheduled with the given id "\'.concat(e,\'".\'));clearTimeout(t),o.delete(e)},f=(e,t)=>{let n,r;if("performance"in self){const o=performance.now();n=o,r=e-Math.max(0,o-t)}else n=Date.now(),r=e;return{expected:n+r,remainingDelay:r}},c=(e,t,n,r)=>{const o="performance"in self?performance.now():Date.now();o>n?postMessage({id:null,method:"call",params:{timerId:t}}):e.set(t,setTimeout(c,n-o,e,t,n))},a=(e,t,n)=>{const{expected:o,remainingDelay:i}=f(e,n);r.set(t,setTimeout(c,i,r,t,o))},d=(e,t,n)=>{const{expected:r,remainingDelay:i}=f(e,n);o.set(t,setTimeout(c,i,o,t,r))}},function(e,t,n){"use strict";n.r(t);var r=n(2);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(3);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(4);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o);var f=n(5);for(var o in f)"default"!==o&&function(e){n.d(t,e,(function(){return f[e]}))}(o);var c=n(6);for(var o in c)"default"!==o&&function(e){n.d(t,e,(function(){return c[e]}))}(o);var a=n(7);for(var o in a)"default"!==o&&function(e){n.d(t,e,(function(){return a[e]}))}(o);var d=n(8);for(var o in d)"default"!==o&&function(e){n.d(t,e,(function(){return d[e]}))}(o);var s=n(9);for(var o in s)"default"!==o&&function(e){n.d(t,e,(function(){return s[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(11);for(var o in r)"default"!==o&&function(e){n.d(t,e,(function(){return r[e]}))}(o);var i=n(12);for(var o in i)"default"!==o&&function(e){n.d(t,e,(function(){return i[e]}))}(o);var u=n(13);for(var o in u)"default"!==o&&function(e){n.d(t,e,(function(){return u[e]}))}(o)},function(e,t){},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t);var r=n(0),o=n(1);for(var i in o)"default"!==i&&function(e){n.d(t,e,(function(){return o[e]}))}(i);var u=n(10);for(var i in u)"default"!==i&&function(e){n.d(t,e,(function(){return u[e]}))}(i);addEventListener("message",({data:e})=>{try{if("clear"===e.method){const{id:t,params:{timerId:n}}=e;Object(r.b)(n),postMessage({error:null,id:t})}else{if("set"!==e.method)throw new Error(\'The given method "\'.concat(e.method,\'" is not supported\'));{const{params:{delay:t,now:n,timerId:o}}=e;Object(r.d)(t,o,n)}}}catch(t){postMessage({error:{message:t.message},id:e.id,result:null})}})}]);'),i=new Worker(n);i.addEventListener("message",(n=>{let{data:i}=n;if(r.isCallNotification(i)){const{params:{timerId:r}}=i,n=e.get(r);if("number"===typeof n){const e=t.get(n);if(void 0===e||e!==r)throw new Error("The timer is in an undefined state.")}else{if("undefined"===typeof n)throw new Error("The timer is in an undefined state.");n(),e.delete(r)}}else{if(!r.isClearResponse(i)){const{error:{message:e}}=i;throw new Error(e)}{const{id:r}=i,n=t.get(r);if(void 0===n)throw new Error("The timer is in an undefined state.");t.delete(r),e.delete(n)}}}));return{clearTimeout:r=>{const n=Math.random();t.set(n,r),e.set(r,n),i.postMessage({id:n,method:"clear",params:{timerId:r}})},setTimeout:(t,r)=>{const n=Math.random();return e.set(n,t),i.postMessage({id:null,method:"set",params:{delay:r,now:performance.now(),timerId:n}}),n}}}static loadWorkerTimers(){return()=>(null!==r.workerTimers||(r.workerTimers=r.load()),r.workerTimers)}static isCallNotification(e){return void 0!==e.method&&"call"===e.method}static isClearResponse(e){return null===e.error&&"number"===typeof e.id}}t.Timeout=r,r.workerTimers=null,r.clearTimeout=e=>r.timers().clearTimeout(e),r.setTimeout=(e,t)=>r.timers().setTimeout(e,t),r.timers=r.loadWorkerTimers()},716:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TurnStatusReceivedEventArgs=void 0;const n=r(81);t.TurnStatusReceivedEventArgs=class{constructor(e){this.privTurnStatus=n.TurnStatusResponsePayload.fromJSON(e)}get interactionId(){return this.privTurnStatus.interactionId}get conversationId(){return this.privTurnStatus.conversationId}get statusCode(){return this.privTurnStatus.statusCode}}},796:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationCommon=void 0;t.ConversationCommon=class{constructor(e){this.privAudioConfig=e}handleCallback(e,t){if(e){try{e()}catch(r){t&&t(r)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const r=e;t(r.name+": "+r.message)}else t(e)}}},840:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActivityReceivedEventArgs=void 0;t.ActivityReceivedEventArgs=class{constructor(e,t){this.privActivity=e,this.privAudioStream=t}get activity(){return this.privActivity}get audioStream(){return this.privAudioStream}}},952:()=>{},980:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CustomCommandsConfig=void 0;const n=r(260),i=r(3542),o=r(8040);class s extends i.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(e,t,r){n.Contracts.throwIfNullOrWhitespace(e,"applicationId"),n.Contracts.throwIfNullOrWhitespace(t,"subscription"),n.Contracts.throwIfNullOrWhitespace(r,"region");const s=new i.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.CustomCommands),s.setProperty(o.PropertyId.Conversation_ApplicationId,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,r),s}static fromAuthorizationToken(e,t,r){n.Contracts.throwIfNullOrWhitespace(e,"applicationId"),n.Contracts.throwIfNullOrWhitespace(t,"authorizationToken"),n.Contracts.throwIfNullOrWhitespace(r,"region");const s=new i.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.CustomCommands),s.setProperty(o.PropertyId.Conversation_ApplicationId,e),s.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,t),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,r),s}set applicationId(e){n.Contracts.throwIfNullOrWhitespace(e,"value"),this.setProperty(o.PropertyId.Conversation_ApplicationId,e)}get applicationId(){return this.getProperty(o.PropertyId.Conversation_ApplicationId)}}t.CustomCommandsConfig=s},1045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentResult=t.ContentAssessmentResult=void 0;const n=r(260),i=r(8040);class o{constructor(e){this.privPronJson=e}get grammarScore(){return this.privPronJson.ContentAssessment.GrammarScore}get vocabularyScore(){return this.privPronJson.ContentAssessment.VocabularyScore}get topicScore(){return this.privPronJson.ContentAssessment.TopicScore}}t.ContentAssessmentResult=o;class s{constructor(e){const t=JSON.parse(e);n.Contracts.throwIfNullOrUndefined(t.NBest[0],"NBest"),this.privPronJson=t.NBest[0]}static fromResult(e){n.Contracts.throwIfNullOrUndefined(e,"result");const t=e.properties.getProperty(i.PropertyId.SpeechServiceResponse_JsonResult);return n.Contracts.throwIfNullOrUndefined(t,"json"),new s(t)}get detailResult(){return this.privPronJson}get accuracyScore(){return this.detailResult.PronunciationAssessment?.AccuracyScore}get pronunciationScore(){return this.detailResult.PronunciationAssessment?.PronScore}get completenessScore(){return this.detailResult.PronunciationAssessment?.CompletenessScore}get fluencyScore(){return this.detailResult.PronunciationAssessment?.FluencyScore}get prosodyScore(){return this.detailResult.PronunciationAssessment?.ProsodyScore}get contentAssessmentResult(){if(void 0!==this.detailResult.ContentAssessment)return new o(this.detailResult)}}t.PronunciationAssessmentResult=s},1074:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PronunciationAssessmentConfig=void 0;const n=r(260),i=r(8040);class o{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.PronunciationAssessmentGradingSystem.FivePoint,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.PronunciationAssessmentGranularity.Phoneme,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];n.Contracts.throwIfNullOrUndefined(e,"referenceText"),this.privProperties=new i.PropertyCollection,this.privProperties.setProperty(i.PropertyId.PronunciationAssessment_ReferenceText,e),this.privProperties.setProperty(i.PropertyId.PronunciationAssessment_GradingSystem,i.PronunciationAssessmentGradingSystem[t]),this.privProperties.setProperty(i.PropertyId.PronunciationAssessment_Granularity,i.PronunciationAssessmentGranularity[r]),this.privProperties.setProperty(i.PropertyId.PronunciationAssessment_EnableMiscue,String(o))}static fromJSON(e){n.Contracts.throwIfNullOrUndefined(e,"json");const t=new o("");return t.privProperties=new i.PropertyCollection,t.properties.setProperty(i.PropertyId.PronunciationAssessment_Json,e),t}toJSON(){return this.updateJson(),this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_Params)}applyTo(e){this.updateJson();const t=e.internalData;t.expectContentAssessmentResponse=!!this.privContentAssessmentTopic,t.speechContext.setPronunciationAssessmentParams(this.properties.getProperty(i.PropertyId.PronunciationAssessment_Params),this.privContentAssessmentTopic,t.isSpeakerDiarizationEnabled)}get referenceText(){return this.properties.getProperty(i.PropertyId.PronunciationAssessment_ReferenceText)}set referenceText(e){n.Contracts.throwIfNullOrWhitespace(e,"referenceText"),this.properties.setProperty(i.PropertyId.PronunciationAssessment_ReferenceText,e)}set phonemeAlphabet(e){n.Contracts.throwIfNullOrWhitespace(e,"phonemeAlphabet"),this.privPhonemeAlphabet=e}set enableMiscue(e){const t=e?"true":"false";this.properties.setProperty(i.PropertyId.PronunciationAssessment_EnableMiscue,t)}get enableMiscue(){return"true"===this.properties.getProperty(i.PropertyId.PronunciationAssessment_EnableMiscue,"false").toLowerCase()}set nbestPhonemeCount(e){this.privNBestPhonemeCount=e}set enableProsodyAssessment(e){this.privEnableProsodyAssessment=e}enableContentAssessmentWithTopic(e){this.privContentAssessmentTopic=e}get properties(){return this.privProperties}updateJson(){const e=this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_Json,"{}"),t=JSON.parse(e),r=this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_ReferenceText);r&&(t.referenceText=r);const n=this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_GradingSystem);n&&(t.gradingSystem=n);const o=this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_Granularity);o&&(t.granularity=o),this.privPhonemeAlphabet&&(t.phonemeAlphabet=this.privPhonemeAlphabet),this.privNBestPhonemeCount&&(t.nbestPhonemeCount=this.privNBestPhonemeCount),t.enableProsodyAssessment=this.privEnableProsodyAssessment,t.dimension="Comprehensive";this.privProperties.getProperty(i.PropertyId.PronunciationAssessment_EnableMiscue)&&(t.enableMiscue=this.enableMiscue),this.privProperties.setProperty(i.PropertyId.PronunciationAssessment_Params,JSON.stringify(t))}}t.PronunciationAssessmentConfig=o},1086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationServiceRecognizer=void 0;const n=r(2307),i=r(8040),o=r(9859);class s extends o.ConversationServiceRecognizer{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privTranslationRecognizer=i,this.connectionEvents.attach((e=>{"ConnectionEstablishedEvent"===e.name&&this.privTranslationRecognizer.onConnection()}))}async processTypeSpecificMessages(e){const t=new i.PropertyCollection;let r=await this.processSpeechMessages(e);if(r)return!0;const s=async e=>{if(t.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.asJson()),this.privRequestSession.onPhraseRecognized(e.Offset+e.Duration),e.RecognitionStatus===o.RecognitionStatus.Success){const r=this.fireEventForResult(e,t);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,r)}catch(n){}if(this.privSuccessCallback){try{this.privSuccessCallback(r.result)}catch(s){this.privErrorCallback&&this.privErrorCallback(s)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}else{const a=o.EnumTranslation.implTranslateRecognitionResult(e.RecognitionStatus),c=new i.TranslationRecognitionResult(void 0,this.privRequestSession.requestId,a,e.Text,e.Duration,e.Offset,e.Language,e.Confidence,void 0,e.asJson(),t);if(a===i.ResultReason.Canceled){const t=o.EnumTranslation.implTranslateCancelResult(e.RecognitionStatus),r=o.EnumTranslation.implTranslateCancelErrorCode(e.RecognitionStatus);await this.cancelRecognitionLocal(t,r,o.EnumTranslation.implTranslateErrorDetails(r))}else if(e.RecognitionStatus!==o.RecognitionStatus.EndOfDictation){const e=new i.TranslationRecognitionEventArgs(c,c.offset,this.privRequestSession.sessionId);if(this.privTranslationRecognizer.recognized)try{this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,e)}catch(n){}if(this.privSuccessCallback){try{this.privSuccessCallback(c)}catch(s){this.privErrorCallback&&this.privErrorCallback(s)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}r=!0}},a=e=>{t.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.asJson());const n=this.fireEventForResult(e,t);if(this.privRequestSession.onHypothesis(n.offset),this.privTranslationRecognizer.recognizing)try{this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,n)}catch(o){}r=!0};switch(e.messageType===n.MessageType.Text&&t.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"translation.hypothesis":a(o.TranslationHypothesis.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.response":const t=JSON.parse(e.textBody);if(t.SpeechPhrase)await s(o.TranslationPhrase.fromTranslationResponse(t,this.privRequestSession.currentTurnAudioOffset));else{const t=JSON.parse(e.textBody);t.SpeechHypothesis&&a(o.TranslationHypothesis.fromTranslationResponse(t,this.privRequestSession.currentTurnAudioOffset))}break;case"translation.phrase":await s(o.TranslationPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset));break;case"translation.synthesis":this.sendSynthesisAudio(e.binaryBody,this.privRequestSession.sessionId),r=!0;break;case"audio.end":case"translation.synthesis.end":const n=o.TranslationSynthesisEnd.fromJSON(e.textBody);switch(n.SynthesisStatus){case o.SynthesisStatus.Error:if(this.privTranslationRecognizer.synthesizing){const e=new i.TranslationSynthesisResult(i.ResultReason.Canceled,void 0),t=new i.TranslationSynthesisEventArgs(e,this.privRequestSession.sessionId);try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,t)}catch(c){}}if(this.privTranslationRecognizer.canceled){const e=new i.TranslationRecognitionCanceledEventArgs(this.privRequestSession.sessionId,i.CancellationReason.Error,n.FailureReason,i.CancellationErrorCode.ServiceError,null);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,e)}catch(c){}}break;case o.SynthesisStatus.Success:this.sendSynthesisAudio(void 0,this.privRequestSession.sessionId)}r=!0}return r}cancelRecognition(e,t,r,n,s){const a=new i.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[n]),this.privTranslationRecognizer.canceled){const t=new i.TranslationRecognitionCanceledEventArgs(e,r,s,n,void 0);try{this.privTranslationRecognizer.canceled(this.privTranslationRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new i.TranslationRecognitionResult(void 0,t,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}handleRecognizingCallback(e,t,r){try{const n=new i.TranslationRecognitionEventArgs(i.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,r);this.privTranslationRecognizer.recognizing(this.privTranslationRecognizer,n)}catch(n){}}handleRecognizedCallback(e,t,r){try{const n=new i.TranslationRecognitionEventArgs(i.TranslationRecognitionResult.fromSpeechRecognitionResult(e),t,r);this.privTranslationRecognizer.recognized(this.privTranslationRecognizer,n)}catch(n){}}fireEventForResult(e,t){let r,s,a;if(void 0!==e.Translation.Translations){r=new i.Translations;for(const t of e.Translation.Translations)r.set(t.Language,t.Text||t.DisplayText)}e instanceof o.TranslationPhrase?(s=e.Translation&&e.Translation.TranslationStatus===n.TranslationStatus.Success?i.ResultReason.TranslatedSpeech:i.ResultReason.RecognizedSpeech,a=e.Confidence):s=i.ResultReason.TranslatingSpeech;const c=e.Language,l=new i.TranslationRecognitionResult(r,this.privRequestSession.requestId,s,e.Text,e.Duration,e.Offset,c,a,e.Translation.FailureReason,e.asJson(),t);return new i.TranslationRecognitionEventArgs(l,e.Offset,this.privRequestSession.sessionId)}sendSynthesisAudio(e,t){const r=void 0===e?i.ResultReason.SynthesizingAudioCompleted:i.ResultReason.SynthesizingAudio,n=new i.TranslationSynthesisResult(r,e),o=new i.TranslationSynthesisEventArgs(n,t);if(this.privTranslationRecognizer.synthesizing)try{this.privTranslationRecognizer.synthesizing(this.privTranslationRecognizer,o)}catch(s){}}}t.TranslationServiceRecognizer=s},1115:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationExpirationEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t){super(t),this.privExpirationTime=e}get expirationTime(){return this.privExpirationTime}}t.ConversationExpirationEventArgs=i},1153:(e,t,r)=>{"use strict";var n=r(5043),i=Symbol.for("react.element"),o=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,r){var n,o={},l=null,u=null;for(n in void 0!==r&&(l=""+r),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)s.call(t,n)&&!c.hasOwnProperty(n)&&(o[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===o[n]&&(o[n]=t[n]);return{$$typeof:i,type:e,key:l,ref:u,props:o,_owner:a.current}}t.jsx=l,t.jsxs=l},1185:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7019))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)};t.default=o},1220:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeywordRecognitionModel=void 0;const n=r(260);t.KeywordRecognitionModel=class{constructor(){this.privDisposed=!1}static fromFile(e){throw n.Contracts.throwIfFileDoesNotExist(e,"fileName"),new Error("Not yet implemented.")}static fromStream(e){throw n.Contracts.throwIfNull(e,"file"),new Error("Not yet implemented.")}close(){this.privDisposed||(this.privDisposed=!0)}}},1282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default="00000000-0000-0000-0000-000000000000"},1345:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ChunkedArrayBufferStream=void 0;const n=r(2307);class i extends n.Stream{constructor(e,t){super(t),this.privTargetChunkSize=Math.round(e),this.privNextBufferReadyBytes=0}writeStreamChunk(e){if(e.isEnd||0===this.privNextBufferReadyBytes&&e.buffer.byteLength===this.privTargetChunkSize)return void super.writeStreamChunk(e);let t=0;for(;t<e.buffer.byteLength;){void 0===this.privNextBufferToWrite&&(this.privNextBufferToWrite=new ArrayBuffer(this.privTargetChunkSize),this.privNextBufferStartTime=e.timeReceived);const r=Math.min(e.buffer.byteLength-t,this.privTargetChunkSize-this.privNextBufferReadyBytes),n=new Uint8Array(this.privNextBufferToWrite),i=new Uint8Array(e.buffer.slice(t,r+t));n.set(i,this.privNextBufferReadyBytes),this.privNextBufferReadyBytes+=r,t+=r,this.privNextBufferReadyBytes===this.privTargetChunkSize&&(super.writeStreamChunk({buffer:this.privNextBufferToWrite,isEnd:!1,timeReceived:this.privNextBufferStartTime}),this.privNextBufferReadyBytes=0,this.privNextBufferToWrite=void 0)}}close(){0===this.privNextBufferReadyBytes||this.isClosed||super.writeStreamChunk({buffer:this.privNextBufferToWrite.slice(0,this.privNextBufferReadyBytes),isEnd:!1,timeReceived:this.privNextBufferStartTime}),super.close()}}t.ChunkedArrayBufferStream=i},1552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(495)),i=o(r(1560));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,i.default);t.default=s},1560:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s);for(let r=0;r<s;++r){const t=new Uint32Array(16);for(let n=0;n<16;++n)t[n]=e[64*r+4*n]<<24|e[64*r+4*n+1]<<16|e[64*r+4*n+2]<<8|e[64*r+4*n+3];a[r]=t}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(let c=0;c<s;++c){const e=new Uint32Array(80);for(let t=0;t<16;++t)e[t]=a[c][t];for(let t=16;t<80;++t)e[t]=n(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=i[0],s=i[1],l=i[2],u=i[3],p=i[4];for(let i=0;i<80;++i){const a=Math.floor(i/20),c=n(o,5)+r(a,s,l,u)+p+t[a]+e[i]>>>0;p=u,u=l,l=n(s,30)>>>0,s=o,o=c}i[0]=i[0]+o>>>0,i[1]=i[1]+s>>>0,i[2]=i[2]+l>>>0,i[3]=i[3]+u>>>0,i[4]=i[4]+p>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]};t.default=i},1632:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionServiceRecognizer=void 0;const n=r(8040),i=r(9859);class o extends i.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privConversationTranscriber=i,this.setSpeakerDiarizationJson()}setSpeakerDiarizationJson(){if(this.privEnableSpeakerId){const e=this.privSpeechContext.getSection("phraseDetection");e.mode="Conversation";const t={mode:"Anonymous"};t.audioSessionId=this.privDiarizationSessionId,t.audioOffsetMs=0,t.diarizeIntermediates="true"===this.privRecognizerConfig.parameters.getProperty(n.PropertyId.SpeechServiceResponse_DiarizeIntermediateResults,"false"),e.speakerDiarization=t,this.privSpeechContext.setSection("phraseDetection",e)}}async processTypeSpecificMessages(e){let t;const r=new n.PropertyCollection;r.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,e.textBody);let o=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const a=i.SpeechHypothesis.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);t=new n.ConversationTranscriptionResult(this.privRequestSession.requestId,n.ResultReason.RecognizingSpeech,a.Text,a.Duration,a.Offset,a.Language,a.LanguageDetectionConfidence,a.SpeakerId,void 0,a.asJson(),r),this.privRequestSession.onHypothesis(a.Offset);const c=new n.ConversationTranscriptionEventArgs(t,a.Duration,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribing)try{this.privConversationTranscriber.transcribing(this.privConversationTranscriber,c)}catch(s){}o=!0;break;case"speech.phrase":const l=i.SimpleSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset),u=i.EnumTranslation.implTranslateRecognitionResult(l.RecognitionStatus);if(this.privRequestSession.onPhraseRecognized(l.Offset+l.Duration),n.ResultReason.Canceled===u){const e=i.EnumTranslation.implTranslateCancelResult(l.RecognitionStatus),t=i.EnumTranslation.implTranslateCancelErrorCode(l.RecognitionStatus);await this.cancelRecognitionLocal(e,t,i.EnumTranslation.implTranslateErrorDetails(t))}else if(!this.privRequestSession.isSpeechEnded||u!==n.ResultReason.NoMatch||l.RecognitionStatus===i.RecognitionStatus.InitialSilenceTimeout){if(this.privRecognizerConfig.parameters.getProperty(i.OutputFormatPropertyName)===n.OutputFormat[n.OutputFormat.Simple])t=new n.ConversationTranscriptionResult(this.privRequestSession.requestId,u,l.DisplayText,l.Duration,l.Offset,l.Language,l.LanguageDetectionConfidence,l.SpeakerId,void 0,l.asJson(),r);else{const o=i.DetailedSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);t=new n.ConversationTranscriptionResult(this.privRequestSession.requestId,u,o.RecognitionStatus===i.RecognitionStatus.Success?o.NBest[0].Display:void 0,o.Duration,o.Offset,o.Language,o.LanguageDetectionConfidence,l.SpeakerId,void 0,o.asJson(),r)}const o=new n.ConversationTranscriptionEventArgs(t,t.offset,this.privRequestSession.sessionId);if(this.privConversationTranscriber.transcribed)try{this.privConversationTranscriber.transcribed(this.privConversationTranscriber,o)}catch(s){}}o=!0}return o}cancelRecognition(e,t,r,o,s){if((new n.PropertyCollection).setProperty(i.CancellationErrorCodePropertyName,n.CancellationErrorCode[o]),this.privConversationTranscriber.canceled){const t=new n.ConversationTranscriptionCanceledEventArgs(r,s,o,void 0,e);try{this.privConversationTranscriber.canceled(this.privConversationTranscriber,t)}catch{}}}}t.ConversationTranscriptionServiceRecognizer=o},1649:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionEventArgs=t.ConversationTranscriptionEventArgs=t.SpeechRecognitionEventArgs=void 0;const n=r(8040);class i extends n.RecognitionEventArgs{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}t.SpeechRecognitionEventArgs=i;class o extends n.RecognitionEventArgs{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}t.ConversationTranscriptionEventArgs=o;t.MeetingTranscriptionEventArgs=class extends i{}},1666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionConfig=void 0;const n=r(3593);class i extends n.RestConfigBase{static get host(){return i.privHost}static get apiVersion(){return i.privApiVersion}static get clientAppId(){return i.privClientAppId}static get defaultLanguageCode(){return i.privDefaultLanguageCode}static get restPath(){return i.privRestPath}static get webSocketPath(){return i.privWebSocketPath}static get transcriptionEventKeys(){return i.privTranscriptionEventKeys}}t.ConversationConnectionConfig=i,i.privHost="dev.microsofttranslator.com",i.privRestPath="/capito/room",i.privApiVersion="2.0",i.privDefaultLanguageCode="en-US",i.privClientAppId="FC539C22-1767-4F1F-84BC-B4D811114F15",i.privWebSocketPath="/capito/translate",i.privTranscriptionEventKeys=["iCalUid","callId","organizer","FLAC","MTUri","DifferentiateGuestSpeakers","audiorecording","Threadid","OrganizerMri","OrganizerTenantId","UserToken"]},1743:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyId=void 0,function(e){e[e.SpeechServiceConnection_Key=0]="SpeechServiceConnection_Key",e[e.SpeechServiceConnection_Endpoint=1]="SpeechServiceConnection_Endpoint",e[e.SpeechServiceConnection_Region=2]="SpeechServiceConnection_Region",e[e.SpeechServiceAuthorization_Token=3]="SpeechServiceAuthorization_Token",e[e.SpeechServiceAuthorization_Type=4]="SpeechServiceAuthorization_Type",e[e.SpeechServiceConnection_EndpointId=5]="SpeechServiceConnection_EndpointId",e[e.SpeechServiceConnection_TranslationToLanguages=6]="SpeechServiceConnection_TranslationToLanguages",e[e.SpeechServiceConnection_TranslationVoice=7]="SpeechServiceConnection_TranslationVoice",e[e.SpeechServiceConnection_TranslationFeatures=8]="SpeechServiceConnection_TranslationFeatures",e[e.SpeechServiceConnection_IntentRegion=9]="SpeechServiceConnection_IntentRegion",e[e.SpeechServiceConnection_ProxyHostName=10]="SpeechServiceConnection_ProxyHostName",e[e.SpeechServiceConnection_ProxyPort=11]="SpeechServiceConnection_ProxyPort",e[e.SpeechServiceConnection_ProxyUserName=12]="SpeechServiceConnection_ProxyUserName",e[e.SpeechServiceConnection_ProxyPassword=13]="SpeechServiceConnection_ProxyPassword",e[e.SpeechServiceConnection_RecoMode=14]="SpeechServiceConnection_RecoMode",e[e.SpeechServiceConnection_RecoLanguage=15]="SpeechServiceConnection_RecoLanguage",e[e.Speech_SessionId=16]="Speech_SessionId",e[e.SpeechServiceConnection_SynthLanguage=17]="SpeechServiceConnection_SynthLanguage",e[e.SpeechServiceConnection_SynthVoice=18]="SpeechServiceConnection_SynthVoice",e[e.SpeechServiceConnection_SynthOutputFormat=19]="SpeechServiceConnection_SynthOutputFormat",e[e.SpeechServiceConnection_AutoDetectSourceLanguages=20]="SpeechServiceConnection_AutoDetectSourceLanguages",e[e.SpeechServiceResponse_RequestDetailedResultTrueFalse=21]="SpeechServiceResponse_RequestDetailedResultTrueFalse",e[e.SpeechServiceResponse_RequestProfanityFilterTrueFalse=22]="SpeechServiceResponse_RequestProfanityFilterTrueFalse",e[e.SpeechServiceResponse_JsonResult=23]="SpeechServiceResponse_JsonResult",e[e.SpeechServiceResponse_JsonErrorDetails=24]="SpeechServiceResponse_JsonErrorDetails",e[e.CancellationDetails_Reason=25]="CancellationDetails_Reason",e[e.CancellationDetails_ReasonText=26]="CancellationDetails_ReasonText",e[e.CancellationDetails_ReasonDetailedText=27]="CancellationDetails_ReasonDetailedText",e[e.LanguageUnderstandingServiceResponse_JsonResult=28]="LanguageUnderstandingServiceResponse_JsonResult",e[e.SpeechServiceConnection_Url=29]="SpeechServiceConnection_Url",e[e.SpeechServiceConnection_InitialSilenceTimeoutMs=30]="SpeechServiceConnection_InitialSilenceTimeoutMs",e[e.SpeechServiceConnection_EndSilenceTimeoutMs=31]="SpeechServiceConnection_EndSilenceTimeoutMs",e[e.Speech_SegmentationSilenceTimeoutMs=32]="Speech_SegmentationSilenceTimeoutMs",e[e.Speech_SegmentationMaximumTimeMs=33]="Speech_SegmentationMaximumTimeMs",e[e.Speech_SegmentationStrategy=34]="Speech_SegmentationStrategy",e[e.SpeechServiceConnection_EnableAudioLogging=35]="SpeechServiceConnection_EnableAudioLogging",e[e.SpeechServiceConnection_LanguageIdMode=36]="SpeechServiceConnection_LanguageIdMode",e[e.SpeechServiceConnection_RecognitionEndpointVersion=37]="SpeechServiceConnection_RecognitionEndpointVersion",e[e.SpeechServiceConnection_SpeakerIdMode=38]="SpeechServiceConnection_SpeakerIdMode",e[e.SpeechServiceResponse_ProfanityOption=39]="SpeechServiceResponse_ProfanityOption",e[e.SpeechServiceResponse_PostProcessingOption=40]="SpeechServiceResponse_PostProcessingOption",e[e.SpeechServiceResponse_RequestWordLevelTimestamps=41]="SpeechServiceResponse_RequestWordLevelTimestamps",e[e.SpeechServiceResponse_StablePartialResultThreshold=42]="SpeechServiceResponse_StablePartialResultThreshold",e[e.SpeechServiceResponse_OutputFormatOption=43]="SpeechServiceResponse_OutputFormatOption",e[e.SpeechServiceResponse_TranslationRequestStablePartialResult=44]="SpeechServiceResponse_TranslationRequestStablePartialResult",e[e.SpeechServiceResponse_RequestWordBoundary=45]="SpeechServiceResponse_RequestWordBoundary",e[e.SpeechServiceResponse_RequestPunctuationBoundary=46]="SpeechServiceResponse_RequestPunctuationBoundary",e[e.SpeechServiceResponse_RequestSentenceBoundary=47]="SpeechServiceResponse_RequestSentenceBoundary",e[e.SpeechServiceResponse_DiarizeIntermediateResults=48]="SpeechServiceResponse_DiarizeIntermediateResults",e[e.Conversation_ApplicationId=49]="Conversation_ApplicationId",e[e.Conversation_DialogType=50]="Conversation_DialogType",e[e.Conversation_Initial_Silence_Timeout=51]="Conversation_Initial_Silence_Timeout",e[e.Conversation_From_Id=52]="Conversation_From_Id",e[e.Conversation_Conversation_Id=53]="Conversation_Conversation_Id",e[e.Conversation_Custom_Voice_Deployment_Ids=54]="Conversation_Custom_Voice_Deployment_Ids",e[e.Conversation_Speech_Activity_Template=55]="Conversation_Speech_Activity_Template",e[e.Conversation_Request_Bot_Status_Messages=56]="Conversation_Request_Bot_Status_Messages",e[e.Conversation_Agent_Connection_Id=57]="Conversation_Agent_Connection_Id",e[e.SpeechServiceConnection_Host=58]="SpeechServiceConnection_Host",e[e.ConversationTranslator_Host=59]="ConversationTranslator_Host",e[e.ConversationTranslator_Name=60]="ConversationTranslator_Name",e[e.ConversationTranslator_CorrelationId=61]="ConversationTranslator_CorrelationId",e[e.ConversationTranslator_Token=62]="ConversationTranslator_Token",e[e.PronunciationAssessment_ReferenceText=63]="PronunciationAssessment_ReferenceText",e[e.PronunciationAssessment_GradingSystem=64]="PronunciationAssessment_GradingSystem",e[e.PronunciationAssessment_Granularity=65]="PronunciationAssessment_Granularity",e[e.PronunciationAssessment_EnableMiscue=66]="PronunciationAssessment_EnableMiscue",e[e.PronunciationAssessment_Json=67]="PronunciationAssessment_Json",e[e.PronunciationAssessment_Params=68]="PronunciationAssessment_Params",e[e.SpeakerRecognition_Api_Version=69]="SpeakerRecognition_Api_Version",e[e.WebWorkerLoadType=70]="WebWorkerLoadType",e[e.TalkingAvatarService_WebRTC_SDP=71]="TalkingAvatarService_WebRTC_SDP"}(t.PropertyId||(t.PropertyId={}))},1922:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.ConsoleLoggingListener=void 0;const s=o(r(2250)),a=r(9099),c=r(260);t.ConsoleLoggingListener=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.LogLevel.None;this.privLogPath=void 0,this.privEnableConsoleOutput=!0,this.privLogLevelFilter=e}set logPath(e){c.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available"),this.privLogPath=e}set enableConsoleOutput(e){this.privEnableConsoleOutput=e}onEvent(e){if(e.eventType>=this.privLogLevelFilter){const t=this.toString(e);if(this.logCallback&&this.logCallback(t),this.privLogPath&&s.writeFileSync(this.privLogPath,t+"\n",{flag:"a+"}),this.privEnableConsoleOutput)switch(e.eventType){case a.LogLevel.Debug:console.debug(t);break;case a.LogLevel.Info:console.info(t);break;case a.LogLevel.Warning:console.warn(t);break;case a.LogLevel.Error:console.error(t);break;default:console.log(t)}}}toString(e){const t=[`${e.eventTime}`,`${e.name}`],r=e;for(const n in r)if(n&&e.hasOwnProperty(n)&&"eventTime"!==n&&"eventType"!==n&&"eventId"!==n&&"name"!==n&&"constructor"!==n){const e=r[n];let i="<NULL>";void 0!==e&&null!==e&&(i="number"===typeof e||"string"===typeof e?e.toString():JSON.stringify(e)),t.push(`${n}: ${i}`)}return t.join(" | ")}}},1953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisTurn=void 0;const n=r(2307),i=r(9709),o=r(8040),s=r(4543),a=r(3903);class c{constructor(){this.privIsDisposed=!1,this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!1,this.privBytesReceived=0,this.privInTurn=!1,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privRequestId=n.createNoDashGuid(),this.privTurnDeferral=new n.Deferred,this.privTurnDeferral.resolve()}get requestId(){return this.privRequestId}get streamId(){return this.privStreamId}set streamId(e){this.privStreamId=e}get audioOutputFormat(){return this.privAudioOutputFormat}set audioOutputFormat(e){this.privAudioOutputFormat=e}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSynthesisEnded(){return this.privIsSynthesisEnded}get isSynthesizing(){return this.privIsSynthesizing}get currentTextOffset(){return this.privTextOffset}get currentSentenceOffset(){return this.privSentenceOffset}get bytesReceived(){return this.privBytesReceived}get audioDuration(){return this.privAudioDuration}get extraProperties(){if(this.privWebRTCSDP){const e=new o.PropertyCollection;return e.setProperty(o.PropertyId.TalkingAvatarService_WebRTC_SDP,this.privWebRTCSDP),e}}async getAllReceivedAudio(){return this.privReceivedAudio?Promise.resolve(this.privReceivedAudio):this.privIsSynthesisEnded?(await this.readAllAudioFromStream(),Promise.resolve(this.privReceivedAudio)):null}async getAllReceivedAudioWithHeader(){if(this.privReceivedAudioWithHeader)return this.privReceivedAudioWithHeader;if(!this.privIsSynthesisEnded)return null;if(this.audioOutputFormat.hasHeader){const e=await this.getAllReceivedAudio();return this.privReceivedAudioWithHeader=this.audioOutputFormat.addHeader(e),this.privReceivedAudioWithHeader}return this.getAllReceivedAudio()}startNewSynthesis(e,t,r,n){this.privIsSynthesisEnded=!1,this.privIsSynthesizing=!0,this.privRequestId=e,this.privRawText=t,this.privIsSSML=r,this.privAudioOutputStream=new i.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privAudioOutputFormat,this.privReceivedAudio=null,this.privReceivedAudioWithHeader=null,this.privBytesReceived=0,this.privTextOffset=0,this.privNextSearchTextIndex=0,this.privSentenceOffset=0,this.privNextSearchSentenceIndex=0,this.privPartialVisemeAnimation="",this.privWebRTCSDP="",void 0!==n&&(this.privTurnAudioDestination=n,this.privTurnAudioDestination.format=this.privAudioOutputFormat),this.onEvent(new a.SynthesisTriggeredEvent(this.requestId,void 0,void 0===n?void 0:n.id()))}onPreConnectionStart(e){this.privAuthFetchEventId=e,this.onEvent(new a.ConnectingToSynthesisServiceEvent(this.privRequestId,this.privAuthFetchEventId))}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){if(200===e)return this.onEvent(new a.SynthesisStartedEvent(this.requestId,this.privAuthFetchEventId)),void(this.privBytesReceived=0);403===e&&this.onComplete()}onServiceResponseMessage(e){const t=JSON.parse(e);this.streamId=t.audio.streamId}onServiceTurnEndResponse(){this.privInTurn=!1,this.privTurnDeferral.resolve(),this.onComplete()}onServiceTurnStartResponse(e){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new n.Deferred;const t=JSON.parse(e);t.webrtc&&(this.privWebRTCSDP=t.webrtc.connectionString)}onAudioChunkReceived(e){this.isSynthesizing&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength,void 0!==this.privTurnAudioDestination&&this.privTurnAudioDestination.write(e))}onTextBoundaryEvent(e){this.updateTextOffset(e.Data.text.Text,e.Type)}onVisemeMetadataReceived(e){void 0!==e.Data.AnimationChunk&&(this.privPartialVisemeAnimation+=e.Data.AnimationChunk)}onSessionEnd(e){this.privAudioDuration=e.Data.Offset}async constructSynthesisResult(){const e=await this.getAllReceivedAudioWithHeader();return new o.SpeechSynthesisResult(this.requestId,o.ResultReason.SynthesizingAudioCompleted,e,void 0,this.extraProperties,this.audioDuration)}dispose(){this.privIsDisposed||(this.privIsDisposed=!0)}onStopSynthesizing(){this.onComplete()}getAndClearVisemeAnimation(){const e=this.privPartialVisemeAnimation;return this.privPartialVisemeAnimation="",e}onEvent(e){n.Events.instance.onEvent(e)}static isXmlTag(e){return e.length>=2&&"<"===e[0]&&">"===e[e.length-1]}updateTextOffset(e,t){t===s.MetadataType.WordBoundary?(this.privTextOffset=this.privRawText.indexOf(e,this.privNextSearchTextIndex),this.privTextOffset>=0&&(this.privNextSearchTextIndex=this.privTextOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privTextOffset)&&!c.isXmlTag(e)&&this.updateTextOffset(e,t))):(this.privSentenceOffset=this.privRawText.indexOf(e,this.privNextSearchSentenceIndex),this.privSentenceOffset>=0&&(this.privNextSearchSentenceIndex=this.privSentenceOffset+e.length,this.privIsSSML&&this.withinXmlTag(this.privSentenceOffset)&&!c.isXmlTag(e)&&this.updateTextOffset(e,t)))}onComplete(){this.privIsSynthesizing&&(this.privIsSynthesizing=!1,this.privIsSynthesisEnded=!0,this.privAudioOutputStream.close(),this.privInTurn=!1,void 0!==this.privTurnAudioDestination&&(this.privTurnAudioDestination.close(),this.privTurnAudioDestination=void 0))}async readAllAudioFromStream(){if(this.privIsSynthesisEnded){this.privReceivedAudio=new ArrayBuffer(this.bytesReceived);try{await this.privAudioOutputStream.read(this.privReceivedAudio)}catch(e){this.privReceivedAudio=new ArrayBuffer(0)}}}withinXmlTag(e){return this.privRawText.indexOf("<",e+1)>this.privRawText.indexOf(">",e+1)}}t.SynthesisTurn=c},1974:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationPhrase=void 0;const n=r(260),i=r(9859),o=r(5253);class s{constructor(e,t){this.privTranslationPhrase=e,this.privTranslationPhrase.Offset+=t,this.privTranslationPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privTranslationPhrase.RecognitionStatus),void 0!==this.privTranslationPhrase.Translation&&(this.privTranslationPhrase.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationPhrase.Translation.TranslationStatus))}static fromJSON(e,t){return new s(JSON.parse(e),t)}static fromTranslationResponse(e,t){n.Contracts.throwIfNullOrUndefined(e,"translationResponse");const r=e.SpeechPhrase;return e.SpeechPhrase=void 0,r.Translation=e,r.Text=r.DisplayText,new s(r,t)}get RecognitionStatus(){return this.privTranslationPhrase.RecognitionStatus}get Offset(){return this.privTranslationPhrase.Offset}get Duration(){return this.privTranslationPhrase.Duration}get Text(){return this.privTranslationPhrase.Text}get Language(){return this.privTranslationPhrase.PrimaryLanguage?.Language}get Confidence(){return this.privTranslationPhrase.PrimaryLanguage?.Confidence}get Translation(){return this.privTranslationPhrase.Translation}asJson(){const e={...this.privTranslationPhrase},t={...e,RecognitionStatus:i.RecognitionStatus[e.RecognitionStatus]};return e.Translation&&(t.Translation={...e.Translation,TranslationStatus:o.TranslationStatus[e.Translation.TranslationStatus]}),JSON.stringify(t)}mapRecognitionStatus(e){return"string"===typeof e?i.RecognitionStatus[e]:"number"===typeof e?e:void 0}mapTranslationStatus(e){return"string"===typeof e?o.TranslationStatus[e]:"number"===typeof e?e:void 0}}t.TranslationPhrase=s},2013:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionCanceledEventArgs=void 0;const n=r(8706);class i extends n.CancellationEventArgsBase{}t.MeetingTranscriptionCanceledEventArgs=i},2033:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationEventArgs=void 0;const n=r(8040);class i extends n.RecognitionEventArgs{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}t.ConversationTranslationEventArgs=i},2040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerVerificationModel=void 0;const n=r(260),i=r(8040);class o{constructor(e){if(n.Contracts.throwIfNullOrUndefined(e,"VoiceProfile"),e.profileType===i.VoiceProfileType.TextIndependentIdentification)throw new Error("Verification model cannot be created from Identification profile");this.privVoiceProfile=e}static fromProfile(e){return new o(e)}get voiceProfile(){return this.privVoiceProfile}get profileIds(){return[this.voiceProfile.profileId]}get scenario(){return this.voiceProfile.profileType===i.VoiceProfileType.TextDependentVerification?"TextDependentVerification":"TextIndependentVerification"}}t.SpeakerVerificationModel=o},2058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognizer=void 0;const n=r(9859),i=r(2307),o=r(4931),s=r(260),a=r(8040);class c extends a.Recognizer{constructor(e,t,r){const i=e;s.Contracts.throwIfNull(i,"speechConfig"),super(t,i.properties,r||new n.TranslationConnectionFactory),this.privDisposedTranslationRecognizer=!1,void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)&&s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice),a.PropertyId[a.PropertyId.SpeechServiceConnection_TranslationVoice]),s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages),a.PropertyId[a.PropertyId.SpeechServiceConnection_TranslationToLanguages]),s.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage),a.PropertyId[a.PropertyId.SpeechServiceConnection_RecoLanguage])}static FromConfig(e,t,r){const i=e;return t.properties.mergeTo(i.properties),t.properties.getProperty(a.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)===n.AutoDetectSourceLanguagesOpenRangeOptionName&&i.properties.setProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),new c(e,r)}get speechRecognitionLanguage(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage)}get targetLanguages(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(",")}get voiceName(){return s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationVoice,void 0)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(a.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.properties.setProperty(a.PropertyId.SpeechServiceAuthorization_Token,e)}recognizeOnceAsync(e,t){s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),i.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(n.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}removeTargetLanguage(e){if(s.Contracts.throwIfNullOrUndefined(e,"language to be removed"),void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)){const t=this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),r=t.indexOf(e);r>-1&&(t.splice(r,1),this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")),this.updateLanguages(t))}}addTargetLanguage(e){s.Contracts.throwIfNullOrUndefined(e,"language to be added");let t=[];void 0!==this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?(t=this.properties.getProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","),t.includes(e)||(t.push(e),this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")))):(this.properties.setProperty(a.PropertyId.SpeechServiceConnection_TranslationToLanguages,e),t=[e]),this.updateLanguages(t)}close(e,t){s.Contracts.throwIfDisposed(this.privDisposedTranslationRecognizer),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}onConnection(){}async dispose(e){this.privDisposedTranslationRecognizer||(this.privDisposedTranslationRecognizer=!0,e&&(await this.implRecognizerStop(),await super.dispose(e)))}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,i){const o=r;return new n.TranslationServiceRecognizer(e,t,o,i,this)}updateLanguages(e){const t=o.Connection.fromRecognizer(this);t&&(t.setMessageProperty("speech.context","translationcontext",{to:e}),t.sendMessageAsync("event",JSON.stringify({id:"translation",name:"updateLanguage",to:e})))}}t.TranslationRecognizer=c},2064:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2070:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveSubscriptionKeyAuthentication=void 0;const n=r(2307),i=r(8643),o=r(7339);t.CognitiveSubscriptionKeyAuthentication=class{constructor(e){if(!e)throw new n.ArgumentNullError("subscriptionKey");this.privAuthInfo=new o.AuthInfo(i.HeaderNames.AuthKey,e)}fetch(e){return Promise.resolve(this.privAuthInfo)}fetchOnExpiry(e){return Promise.resolve(this.privAuthInfo)}}},2080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(9469);Object.defineProperty(t,"ConversationManager",{enumerable:!0,get:function(){return n.ConversationManager}});var i=r(1666);Object.defineProperty(t,"ConversationConnectionConfig",{enumerable:!0,get:function(){return i.ConversationConnectionConfig}});var o=r(8388);Object.defineProperty(t,"ConversationRecognizerFactory",{enumerable:!0,get:function(){return o.ConversationRecognizerFactory}});var s=r(7130);Object.defineProperty(t,"TranscriberRecognizer",{enumerable:!0,get:function(){return s.TranscriberRecognizer}});var a=r(9537);Object.defineProperty(t,"ConversationReceivedTranslationEventArgs",{enumerable:!0,get:function(){return a.ConversationReceivedTranslationEventArgs}}),Object.defineProperty(t,"LockRoomEventArgs",{enumerable:!0,get:function(){return a.LockRoomEventArgs}}),Object.defineProperty(t,"MuteAllEventArgs",{enumerable:!0,get:function(){return a.MuteAllEventArgs}}),Object.defineProperty(t,"ParticipantAttributeEventArgs",{enumerable:!0,get:function(){return a.ParticipantAttributeEventArgs}}),Object.defineProperty(t,"ParticipantEventArgs",{enumerable:!0,get:function(){return a.ParticipantEventArgs}}),Object.defineProperty(t,"ParticipantsListEventArgs",{enumerable:!0,get:function(){return a.ParticipantsListEventArgs}});var c=r(4566);Object.defineProperty(t,"ConversationTranslatorCommandTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorCommandTypes}}),Object.defineProperty(t,"ConversationTranslatorMessageTypes",{enumerable:!0,get:function(){return c.ConversationTranslatorMessageTypes}}),Object.defineProperty(t,"InternalParticipants",{enumerable:!0,get:function(){return c.InternalParticipants}})},2091:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Queue=void 0;const n=r(8446),i=r(2670),o=r(553);var s;!function(e){e[e.Dequeue=0]="Dequeue",e[e.Peek=1]="Peek"}(s||(s={}));t.Queue=class{constructor(e){this.privPromiseStore=new i.List,this.privIsDrainInProgress=!1,this.privIsDisposing=!1,this.privDisposeReason=null,this.privList=e||new i.List,this.privDetachables=[],this.privSubscribers=new i.List,this.privDetachables.push(this.privList.onAdded((()=>this.drain())))}enqueue(e){this.throwIfDispose(),this.enqueueFromPromise(new Promise((t=>t(e))))}enqueueFromPromise(e){this.throwIfDispose(),e.then((e=>{this.privList.add(e)}),(()=>{}))}dequeue(){this.throwIfDispose();const e=new o.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:s.Dequeue}),this.drain()),e.promise}peek(){this.throwIfDispose();const e=new o.Deferred;return this.privSubscribers&&(this.privSubscribers.add({deferral:e,type:s.Peek}),this.drain()),e.promise}length(){return this.throwIfDispose(),this.privList.length()}isDisposed(){return null==this.privSubscribers}async drainAndDispose(e,t){if(!this.isDisposed()&&!this.privIsDisposing){this.privDisposeReason=t,this.privIsDisposing=!0;const r=this.privSubscribers;if(r){for(;r.length()>0;){r.removeFirst().deferral.resolve(void 0)}this.privSubscribers===r&&(this.privSubscribers=r)}for(const e of this.privDetachables)await e.detach();if(this.privPromiseStore.length()>0&&e){const t=[];return this.privPromiseStore.toArray().forEach((e=>{t.push(e)})),Promise.all(t).finally((()=>{this.privSubscribers=null,this.privList.forEach((t=>{e(t)})),this.privList=null})).then()}this.privSubscribers=null,this.privList=null}}async dispose(e){await this.drainAndDispose(null,e)}drain(){if(!this.privIsDrainInProgress&&!this.privIsDisposing){this.privIsDrainInProgress=!0;const e=this.privSubscribers,t=this.privList;if(e&&t){for(;t.length()>0&&e.length()>0&&!this.privIsDisposing;){const r=e.removeFirst();if(r.type===s.Peek)r.deferral.resolve(t.first());else{const e=t.removeFirst();r.deferral.resolve(e)}}this.privSubscribers===e&&(this.privSubscribers=e),this.privList===t&&(this.privList=t)}this.privIsDrainInProgress=!1}}throwIfDispose(){if(this.isDisposed()){if(this.privDisposeReason)throw new n.InvalidOperationError(this.privDisposeReason);throw new n.ObjectDisposedError("Queue")}if(this.privIsDisposing)throw new n.InvalidOperationError("Queue disposing")}}},2096:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationReason=void 0,function(e){e[e.Error=0]="Error",e[e.EndOfStream=1]="EndOfStream"}(t.CancellationReason||(t.CancellationReason={}))},2188:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2250:()=>{},2259:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentResponse=void 0;class r{constructor(e){this.privIntentResponse=""===e?{}:JSON.parse(e)}static fromJSON(e){return new r(e)}get query(){return this.privIntentResponse.query}get topScoringIntent(){return this.privIntentResponse.topScoringIntent}get entities(){return this.privIntentResponse.entities}}t.IntentResponse=r},2274:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamNodeErrorEvent=t.AudioStreamNodeDetachedEvent=t.AudioStreamNodeAttachedEvent=t.AudioStreamNodeAttachingEvent=t.AudioStreamNodeEvent=t.AudioSourceErrorEvent=t.AudioSourceOffEvent=t.AudioSourceReadyEvent=t.AudioSourceInitializingEvent=t.AudioSourceEvent=void 0;const n=r(333);class i extends n.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.EventType.Info),this.privAudioSourceId=t}get audioSourceId(){return this.privAudioSourceId}}t.AudioSourceEvent=i;t.AudioSourceInitializingEvent=class extends i{constructor(e){super("AudioSourceInitializingEvent",e)}};t.AudioSourceReadyEvent=class extends i{constructor(e){super("AudioSourceReadyEvent",e)}};t.AudioSourceOffEvent=class extends i{constructor(e){super("AudioSourceOffEvent",e)}};t.AudioSourceErrorEvent=class extends i{constructor(e,t){super("AudioSourceErrorEvent",e,n.EventType.Error),this.privError=t}get error(){return this.privError}};class o extends i{constructor(e,t,r){super(e,t),this.privAudioNodeId=r}get audioNodeId(){return this.privAudioNodeId}}t.AudioStreamNodeEvent=o;t.AudioStreamNodeAttachingEvent=class extends o{constructor(e,t){super("AudioStreamNodeAttachingEvent",e,t)}};t.AudioStreamNodeAttachedEvent=class extends o{constructor(e,t){super("AudioStreamNodeAttachedEvent",e,t)}};t.AudioStreamNodeDetachedEvent=class extends o{constructor(e,t){super("AudioStreamNodeDetachedEvent",e,t)}};t.AudioStreamNodeErrorEvent=class extends o{constructor(e,t,r){super("AudioStreamNodeErrorEvent",e,t),this.privError=r}get error(){return this.privError}}},2277:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(1922),t),i(r(2371),t),i(r(4218),t),i(r(9868),t),i(r(3912),t),i(r(2965),t),i(r(4955),t),i(r(4057),t),i(r(7882),t),i(r(2588),t),i(r(3593),t)},2307:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),i(r(2274),t),i(r(7811),t),i(r(2771),t),i(r(4941),t),i(r(7155),t),i(r(323),t),i(r(8446),t),i(r(7807),t),i(r(385),t),i(r(9463),t),i(r(2188),t),i(r(3151),t),i(r(2064),t),i(r(3643),t),i(r(9973),t),i(r(5047),t),i(r(5670),t),i(r(125),t),i(r(4474),t),i(r(6959),t),i(r(2670),t),i(r(333),t),i(r(553),t),i(r(2091),t),i(r(7252),t),i(r(3071),t),i(r(7722),t);var o=r(5253);Object.defineProperty(t,"TranslationStatus",{enumerable:!0,get:function(){return o.TranslationStatus}}),i(r(1345),t),i(r(2537),t),i(r(699),t),i(r(6002),t),i(r(9862),t)},2359:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisVoicesResult=void 0;const n=r(8040);class i extends n.SynthesisResult{constructor(e,t,r){if(Array.isArray(t)){super(e,n.ResultReason.VoicesListRetrieved,void 0,new n.PropertyCollection),this.privVoices=[];for(const e of t)this.privVoices.push(new n.VoiceInfo(e))}else super(e,n.ResultReason.Canceled,r||"Error information unavailable",new n.PropertyCollection)}get voices(){return this.privVoices}}t.SynthesisVoicesResult=i},2371:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2399:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionResult=void 0;const n=r(8040);class i extends n.SpeechRecognitionResult{constructor(e,t,r,n,i,o,s,a,c,l,u){super(t,r,n,i,o,s,a,void 0,c,l,u),this.privIntentId=e}get intentId(){return this.privIntentId}}t.IntentRecognitionResult=i},2433:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationConnectionFactory=void 0;const n=r(2277),i=r(7354),o=r(8040),s=r(2679),a=r(9859),c=r(8643),l=r(7237);class u extends s.ConnectionFactoryBase{create(e,t,r){const i=this.getEndpointUrl(e),s={};void 0!==e.autoDetectSourceLanguages&&(s[l.QueryParameterNames.EnableLanguageId]="true"),this.setQueryParams(s,e,i);const u={};void 0!==t.token&&""!==t.token&&(u[t.headerName]=t.token),u[c.HeaderNames.ConnectionId]=r,e.parameters.setProperty(o.PropertyId.SpeechServiceConnection_Url,i);const p="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(i,s,u,new a.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),p,r)}getEndpointUrl(e,t){const r=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region),n=s.ConnectionFactoryBase.getHostSuffix(r);let a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!a)if(void 0!==e.autoDetectSourceLanguages){a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://{region}.stt.speech"+n)+"/speech/universal/v2"}else{a=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://{region}.s2s.speech"+n)+"/speech/translation/cognitiveservices/v1"}return!0===t?a:i.StringUtils.formatString(a,{region:r})}setQueryParams(e,t,r){e.from=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage),e.to=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages),e.scenario=t.recognitionMode===a.RecognitionMode.Interactive?"interactive":t.recognitionMode===a.RecognitionMode.Conversation?"conversation":"",this.setCommonUrlParams(t,e,r),this.setUrlParameter(o.PropertyId.SpeechServiceResponse_TranslationRequestStablePartialResult,l.QueryParameterNames.StableTranslation,t,e,r);const n=t.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0);void 0!==n&&(e.voice=n,e.features="texttospeech")}}t.TranslationConnectionFactory=u},2465:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationImpl=t.Conversation=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a{constructor(){}static createConversationAsync(e,t,r,a){let l,u,p;return o.Contracts.throwIfNullOrUndefined(e,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),o.Contracts.throwIfNullOrUndefined(e.region,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),e.subscriptionKey||e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceAuthorization_Token])||o.Contracts.throwIfNullOrUndefined(e.subscriptionKey,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key")),"string"===typeof t?(l=new c(e,t),i.marshalPromiseToCallbacks((async()=>{})(),r,a)):(l=new c(e),u=t,p=r,l.createConversationAsync((()=>{u&&u()}),(e=>{p&&p(e)}))),l}}t.Conversation=a;class c extends a{constructor(e,t){super(),this.privErrors=n.ConversationConnectionConfig.restErrors,this.onConnected=e=>{this.privIsConnected=!0;try{this.privConversationTranslator?.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,e)}catch(e){}},this.onDisconnected=e=>{try{this.privConversationTranslator?.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,e)}catch(e){}finally{this.close(!1)}},this.onCanceled=(e,t)=>{try{this.privConversationTranslator?.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,t)}catch(t){}},this.onParticipantUpdateCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.id);if(void 0!==e){switch(t.key){case n.ConversationTranslatorCommandTypes.changeNickname:e.displayName=t.value;break;case n.ConversationTranslatorCommandTypes.setUseTTS:e.isUsingTts=t.value;break;case n.ConversationTranslatorCommandTypes.setProfanityFiltering:e.profanity=t.value;break;case n.ConversationTranslatorCommandTypes.setMute:e.isMuted=t.value;break;case n.ConversationTranslatorCommandTypes.setTranslateToLanguages:e.translateToLanguages=t.value}this.privParticipants.addOrUpdateParticipant(e),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,[this.toParticipant(e)],t.sessionId))}}catch(t){}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(e,t)=>{try{this.privParticipants.participants.forEach((e=>e.isMuted=!e.isHost&&t.isMuted)),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,this.toParticipants(!1),t.sessionId))}catch(t){}},this.onParticipantJoinCommandReceived=(e,t)=>{try{const e=this.privParticipants.addOrUpdateParticipant(t.participant);void 0!==e&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,[this.toParticipant(e)],t.sessionId))}catch(t){}},this.onParticipantLeaveCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.participant.id);void 0!==e&&(this.privParticipants.deleteParticipant(t.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.LeftConversation,[this.toParticipant(e)],t.sessionId)))}catch(t){}},this.onTranslationReceived=(e,t)=>{try{switch(t.command){case n.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case n.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case n.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId))}}catch(t){}},this.onParticipantsListReceived=(e,t)=>{try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(this.privRoom.token=t.sessionToken),this.privParticipants.participants=[...t.participants],void 0!==this.privParticipants.me&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),t.sessionId)),this.me.isHost){const e=this.privConversationTranslator?.properties.getProperty(s.PropertyId.ConversationTranslator_Name);void 0!==e&&e.length>0&&e!==this.me.displayName&&this.changeNicknameAsync(e)}}catch(t){}},this.onConversationExpiration=(e,t)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,t)}catch(t){}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new s.PropertyCollection,this.privManager=new n.ConversationManager;if(e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])||e.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],n.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),t)this.privConversationId=t;else{0===e.targetLanguages.length&&e.addTargetLanguage(this.privLanguage);e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceResponse_ProfanityOption])||e.setProfanity(s.ProfanityOption.Masked);let t=e.getProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name]);void 0!==t&&null!==t||(t="Host"),o.Contracts.throwIfNullOrTooLong(t,"nickname",50),o.Contracts.throwIfNullOrTooShort(t,"nickname",2),e.setProperty(s.PropertyId[s.PropertyId.ConversationTranslator_Name],t)}this.privConfig=e;const r=e;o.Contracts.throwIfNull(r,"speechConfig"),this.privProperties=r.properties.clone(),this.privIsConnected=!1,this.privParticipants=new n.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get conversationId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){return!this.privParticipants.me?.isHost&&this.privParticipants.me?.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get conversationInfo(){const e=this.conversationId,t=this.participants.map((e=>({id:e.id,preferredLanguage:e.preferredLanguage,voice:e.voice}))),r={};for(const i of n.ConversationConnectionConfig.transcriptionEventKeys){const e=this.properties.getProperty(i,"");""!==e&&(r[i]=e)}return{id:e,participants:t,conversationProperties:r}}get canSend(){return this.privIsConnected&&!this.privParticipants.me?.isMuted}get canSendAsHost(){return this.privIsConnected&&this.privParticipants.me?.isHost}get authorizationToken(){return this.privToken}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}set conversationTranslator(e){this.privConversationTranslator=e}onToken(e){this.privConversationTranslator.onToken(e)}createConversationAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),this.privManager.createOrJoin(this.privProperties,void 0,(r=>{r||this.handleError(new Error(this.privErrors.permissionDeniedConnect),t),this.privRoom=r,this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}startConversationAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer=n.ConversationRecognizerFactory.fromConfig(this,this.privConfig),this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}addParticipantAsync(e,t,r){o.Contracts.throwIfNullOrUndefined(e,"Participant"),i.marshalPromiseToCallbacks(this.addParticipantImplAsync(e),t,r)}joinConversationAsync(e,t,r,n,i){try{o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","conversationId")),o.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrWhitespace(r,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,(e=>{o.Contracts.throwIfNullOrUndefined(e,this.privErrors.permissionDeniedConnect),this.privRoom=e,this.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,n&&n(e.cognitiveSpeechAuthToken)}),(e=>{this.handleError(e,i)}))}catch(s){this.handleError(s,i)}}deleteConversationAsync(e,t){i.marshalPromiseToCallbacks(this.deleteConversationImplAsync(),e,t)}async deleteConversationImplAsync(){o.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endConversationAsync(e,t){i.marshalPromiseToCallbacks(this.endConversationImplAsync(),e,t)}endConversationImplAsync(){return this.close(!0)}lockConversationAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}muteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}muteParticipantAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),r);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!0),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}removeParticipantAsync(e,t,r){try{if(o.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&e.hasOwnProperty("id"))i.marshalPromiseToCallbacks(this.removeParticipantImplAsync(e),t,r);else{o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),r);let n="";if("string"===typeof e)n=e;else if(e.hasOwnProperty("id")){n=e.id}else if(e.hasOwnProperty("userId")){n=e.userId}o.Contracts.throwIfNullOrWhitespace(n,this.privErrors.invalidArgs.replace("{arg}","userId"));-1===this.participants.findIndex((e=>e.id===n))&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(n),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}}catch(n){this.handleError(n,r)}}unlockConversationAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}unmuteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}unmuteParticipantAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),r);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!1),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}sendTextMessageAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","message")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),e.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}setTranslatedLanguagesAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfArrayEmptyOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","languages")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}changeNicknameAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(e){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await e.enforceAudioGating(),this.privTranscriberRecognizer=e,this.privTranscriberRecognizer.conversation=this}getKeepAlive(){const e=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:e,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(e){if(void 0!==this.privParticipants.addOrUpdateParticipant(e)&&this.privTranscriberRecognizer){const t=this.conversationInfo;return t.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(t,"join")}}removeParticipantImplAsync(e){this.privParticipants.deleteParticipant(e.id);const t=this.conversationInfo;return t.participants=[e],this.privTranscriberRecognizer.pushConversationEvent(t,"leave")}async close(e){try{this.privIsConnected=!1,await(this.privConversationRecognizer?.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(t){throw t}e&&this.dispose()}handleCallback(e,t){if(e){try{e()}catch(r){t&&t(r)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const r=e;t(r.name+": "+r.message)}else t(e)}toParticipants(e){const t=this.privParticipants.participants.map((e=>this.toParticipant(e)));return e?t:t.filter((e=>!1===e.isHost))}toParticipant(e){return new s.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage,e.voice)}getMuteAllCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMuteCommand(e,t){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:t})}getLockCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getEjectCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getChangeNicknameCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"nickname"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMessageCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),o.Contracts.throwIfNullOrWhitespace(e,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:n.ConversationTranslatorMessageTypes.instantMessage})}}t.ConversationImpl=c},2537:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2588:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RestMessageAdapter=t.RestRequestType=void 0;const i=n(r(7174)),o=r(2307);var s;!function(e){e.Get="GET",e.Post="POST",e.Delete="DELETE",e.File="file"}(s=t.RestRequestType||(t.RestRequestType={}));t.RestMessageAdapter=class{constructor(e){if(!e)throw new o.ArgumentNullError("configParams");this.privHeaders=e.headers,this.privIgnoreCache=e.ignoreCache}static extractHeaderValue(e,t){let r="";try{const n=t.trim().split(/[\r\n]+/),i={};n.forEach((e=>{const t=e.split(": "),r=t.shift().toLowerCase(),n=t.join(": ");i[r]=n})),r=i[e.toLowerCase()]}catch(n){}return r}set options(e){this.privHeaders=e.headers,this.privIgnoreCache=e.ignoreCache}setHeaders(e,t){this.privHeaders[e]=t}request(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const a=new o.Deferred,c=e===s.File?"POST":e,l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e;return{data:JSON.stringify(t),headers:JSON.stringify(e.headers),json:t,ok:e.statusCode>=200&&e.statusCode<300,status:e.statusCode,statusText:t.error?t.error.message:r.statusText?r.statusText:r.statusMessage}};return this.privIgnoreCache&&(this.privHeaders["Cache-Control"]="no-cache"),e===s.Post&&n&&(this.privHeaders["content-type"]="application/json",this.privHeaders["Content-Type"]="application/json"),(n=>{i.default(t,c,this.privHeaders,200,201,202,204,400,401,402,403,404)(""===this.queryParams(r)?"":`?${this.queryParams(r)}`,n).then((async t=>{if(e===s.Delete||204===t.statusCode)a.resolve(l(t));else try{const e=await t.json();a.resolve(l(t,e))}catch{a.resolve(l(t))}})).catch((e=>{a.reject(e)}))})(n),a.promise}queryParams(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.keys(e).map((t=>encodeURIComponent(t)+"="+encodeURIComponent(e[t]))).join("&")}}},2663:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslator=t.SpeechState=void 0;const n=r(9859),i=r(5934),o=r(2307),s=r(260),a=r(8040),c=r(2465),l=r(5463);var u;!function(e){e[e.Inactive=0]="Inactive",e[e.Connecting=1]="Connecting",e[e.Connected=2]="Connected"}(u=t.SpeechState||(t.SpeechState={}));class p extends a.TranslationRecognizer{constructor(e,t,r,n){super(e,t,new i.ConversationTranslatorConnectionFactory(n)),this.privSpeechState=u.Inactive,r&&(this.privTranslator=r,this.sessionStarted=()=>{this.privSpeechState=u.Connected},this.sessionStopped=()=>{this.privSpeechState=u.Inactive},this.recognizing=(e,t)=>{this.privTranslator.recognizing&&this.privTranslator.recognizing(this.privTranslator,t)},this.recognized=async(e,t)=>{t.result?.errorDetails?(await this.cancelSpeech(),this.fireCancelEvent(t.result.errorDetails)):this.privTranslator.recognized&&this.privTranslator.recognized(this.privTranslator,t)},this.canceled=async()=>{if(this.privSpeechState!==u.Inactive)try{await this.cancelSpeech()}catch(e){this.privSpeechState=u.Inactive}})}get state(){return this.privSpeechState}set state(e){this.privSpeechState=e}set authentication(e){this.privReco.authentication=e}onConnection(){this.privSpeechState=u.Connected}async onCancelSpeech(){this.privSpeechState=u.Inactive,await this.cancelSpeech()}fireCancelEvent(e){try{if(this.privTranslator.canceled){const t=new l.ConversationTranslationCanceledEventArgs(a.CancellationReason.Error,e,a.CancellationErrorCode.RuntimeError);this.privTranslator.canceled(this.privTranslator,t)}}catch(t){}}async cancelSpeech(){try{this.stopContinuousRecognitionAsync(),await(this.privReco?.disconnect()),this.privSpeechState=u.Inactive}catch(e){}}}class d extends l.ConversationCommon{constructor(e){super(e),this.privErrors=n.ConversationConnectionConfig.restErrors,this.privIsDisposed=!1,this.privIsSpeaking=!1,this.privPlaceholderKey="abcdefghijklmnopqrstuvwxyz012345",this.privPlaceholderRegion="westus",this.privProperties=new a.PropertyCollection}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get participants(){return this.privConversation?.participants}get canSpeak(){return!(!this.privConversation.isConnected||!this.privCTRecognizer)&&(!this.privIsSpeaking&&this.privCTRecognizer.state!==u.Connected&&this.privCTRecognizer.state!==u.Connecting&&!this.privConversation.isMutedByHost)}onToken(e){this.privCTRecognizer.authentication=e}setServiceProperty(e,t){const r=JSON.parse(this.privProperties.getProperty(n.ServicePropertiesPropertyName,"{}"));r[e]=t,this.privProperties.setProperty(n.ServicePropertiesPropertyName,JSON.stringify(r))}joinConversationAsync(e,t,r,i,o){try{if("string"===typeof e){s.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),s.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privConversation&&this.handleError(new Error(this.privErrors.permissionDeniedStart),o);let l=r;void 0!==l&&null!==l&&""!==l||(l=n.ConversationConnectionConfig.defaultLanguageCode),this.privSpeechTranslationConfig=a.SpeechTranslationConfig.fromSubscription(this.privPlaceholderKey,this.privPlaceholderRegion),this.privSpeechTranslationConfig.setProfanity(a.ProfanityOption.Masked),this.privSpeechTranslationConfig.addTargetLanguage(l),this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_RecoLanguage],l),this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.ConversationTranslator_Name],t);const u=[a.PropertyId.SpeechServiceConnection_Host,a.PropertyId.ConversationTranslator_Host,a.PropertyId.SpeechServiceConnection_Endpoint,a.PropertyId.SpeechServiceConnection_ProxyHostName,a.PropertyId.SpeechServiceConnection_ProxyPassword,a.PropertyId.SpeechServiceConnection_ProxyPort,a.PropertyId.SpeechServiceConnection_ProxyUserName,"ConversationTranslator_MultiChannelAudio","ConversationTranslator_Region"];for(const e of u){const t=this.privProperties.getProperty(e);if(t){const r="string"===typeof e?e:a.PropertyId[e];this.privSpeechTranslationConfig.setProperty(r,t)}}const p=JSON.parse(this.privProperties.getProperty(n.ServicePropertiesPropertyName,"{}"));for(const e of Object.keys(p))this.privSpeechTranslationConfig.setServiceProperty(e,p[e],a.ServicePropertyChannel.UriQueryParameter);this.privConversation=new c.ConversationImpl(this.privSpeechTranslationConfig),this.privConversation.conversationTranslator=this,this.privConversation.joinConversationAsync(e,t,l,(e=>{e||this.handleError(new Error(this.privErrors.permissionDeniedConnect),o),this.privSpeechTranslationConfig.authorizationToken=e,this.privConversation.room.isHost=!1,this.privConversation.startConversationAsync((()=>{this.handleCallback(i,o)}),(e=>{this.handleError(e,o)}))}),(e=>{this.handleError(e,o)}))}else"object"===typeof e?(s.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","conversation id")),s.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),this.privProperties.setProperty(a.PropertyId.ConversationTranslator_Name,t),this.privConversation=e,this.privConversation.conversationTranslator=this,this.privConversation.room.isHost=!0,s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedConnect),s.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),this.privSpeechTranslationConfig=e.config,this.handleCallback(r,i)):this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","invalid conversation type")),i)}catch(l){this.handleError(l,"string"===typeof r?o:i)}}leaveConversationAsync(e,t){o.marshalPromiseToCallbacks((async()=>{await this.cancelSpeech(),await this.privConversation.endConversationImplAsync(),await this.privConversation.deleteConversationImplAsync(),this.dispose()})(),e,t)}sendTextMessageAsync(e,t,r){try{s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),s.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}",e)),this.privConversation.sendTextMessageAsync(e,t,r)}catch(n){this.handleError(n,r)}}startTranscribingAsync(e,t){o.marshalPromiseToCallbacks((async()=>{try{s.Contracts.throwIfNullOrUndefined(this.privConversation,this.privErrors.permissionDeniedSend),s.Contracts.throwIfNullOrUndefined(this.privConversation.room.token,this.privErrors.permissionDeniedConnect),void 0===this.privCTRecognizer&&await this.connectTranslatorRecognizer(),s.Contracts.throwIfNullOrUndefined(this.privCTRecognizer,this.privErrors.permissionDeniedSend),this.canSpeak||this.handleError(new Error(this.privErrors.permissionDeniedSend),t),await this.startContinuousRecognition(),this.privIsSpeaking=!0}catch(e){throw this.privIsSpeaking=!1,await this.cancelSpeech(),e}})(),e,t)}stopTranscribingAsync(e,t){o.marshalPromiseToCallbacks((async()=>{try{if(!this.privIsSpeaking)return void await this.cancelSpeech();this.privIsSpeaking=!1,await new Promise(((e,t)=>{this.privCTRecognizer.stopContinuousRecognitionAsync(e,t)}))}catch(e){await this.cancelSpeech()}})(),e,t)}isDisposed(){return this.privIsDisposed}dispose(e,t,r){o.marshalPromiseToCallbacks((async()=>{this.isDisposed&&!this.privIsSpeaking||(await this.cancelSpeech(),this.privIsDisposed=!0,this.privSpeechTranslationConfig.close(),this.privSpeechRecognitionLanguage=void 0,this.privProperties=void 0,this.privAudioConfig=void 0,this.privSpeechTranslationConfig=void 0,this.privConversation.dispose(),this.privConversation=void 0)})(),t,r)}async cancelSpeech(){try{this.privIsSpeaking=!1,await(this.privCTRecognizer?.onCancelSpeech()),this.privCTRecognizer=void 0}catch(e){}}async connectTranslatorRecognizer(){try{void 0===this.privAudioConfig&&(this.privAudioConfig=a.AudioConfig.fromDefaultMicrophoneInput()),this.privSpeechTranslationConfig.getProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_Key])===this.privPlaceholderKey&&this.privSpeechTranslationConfig.setProperty(a.PropertyId[a.PropertyId.SpeechServiceConnection_Key],"");const e=()=>this.privConversation;this.privCTRecognizer=new p(this.privSpeechTranslationConfig,this.privAudioConfig,this,e)}catch(e){throw await this.cancelSpeech(),e}}startContinuousRecognition(){return new Promise(((e,t)=>{this.privCTRecognizer.startContinuousRecognitionAsync(e,t)}))}}t.ConversationTranslator=d},2670:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.List=void 0;const n=r(8446);class i{constructor(e){if(this.privSubscriptionIdCounter=0,this.privAddSubscriptions={},this.privRemoveSubscriptions={},this.privDisposedSubscriptions={},this.privDisposeReason=null,this.privList=[],e)for(const t of e)this.privList.push(t)}get(e){return this.throwIfDisposed(),this.privList[e]}first(){return this.get(0)}last(){return this.get(this.length()-1)}add(e){this.throwIfDisposed(),this.insertAt(this.privList.length,e)}insertAt(e,t){this.throwIfDisposed(),0===e?this.privList.unshift(t):e===this.privList.length?this.privList.push(t):this.privList.splice(e,0,t),this.triggerSubscriptions(this.privAddSubscriptions)}removeFirst(){return this.throwIfDisposed(),this.removeAt(0)}removeLast(){return this.throwIfDisposed(),this.removeAt(this.length()-1)}removeAt(e){return this.throwIfDisposed(),this.remove(e,1)[0]}remove(e,t){this.throwIfDisposed();const r=this.privList.splice(e,t);return this.triggerSubscriptions(this.privRemoveSubscriptions),r}clear(){this.throwIfDisposed(),this.remove(0,this.length())}length(){return this.throwIfDisposed(),this.privList.length}onAdded(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privAddSubscriptions[t]=e,{detach:()=>(delete this.privAddSubscriptions[t],Promise.resolve())}}onRemoved(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privRemoveSubscriptions[t]=e,{detach:()=>(delete this.privRemoveSubscriptions[t],Promise.resolve())}}onDisposed(e){this.throwIfDisposed();const t=this.privSubscriptionIdCounter++;return this.privDisposedSubscriptions[t]=e,{detach:()=>(delete this.privDisposedSubscriptions[t],Promise.resolve())}}join(e){return this.throwIfDisposed(),this.privList.join(e)}toArray(){const e=Array();return this.privList.forEach((t=>{e.push(t)})),e}any(e){return this.throwIfDisposed(),e?this.where(e).length()>0:this.length()>0}all(e){return this.throwIfDisposed(),this.where(e).length()===this.length()}forEach(e){this.throwIfDisposed();for(let t=0;t<this.length();t++)e(this.privList[t],t)}select(e){this.throwIfDisposed();const t=[];for(let r=0;r<this.privList.length;r++)t.push(e(this.privList[r],r));return new i(t)}where(e){this.throwIfDisposed();const t=new i;for(let r=0;r<this.privList.length;r++)e(this.privList[r],r)&&t.add(this.privList[r]);return t}orderBy(e){this.throwIfDisposed();const t=this.toArray().sort(e);return new i(t)}orderByDesc(e){return this.throwIfDisposed(),this.orderBy(((t,r)=>e(r,t)))}clone(){return this.throwIfDisposed(),new i(this.toArray())}concat(e){return this.throwIfDisposed(),new i(this.privList.concat(e.toArray()))}concatArray(e){return this.throwIfDisposed(),new i(this.privList.concat(e))}isDisposed(){return null==this.privList}dispose(e){this.isDisposed()||(this.privDisposeReason=e,this.privList=null,this.privAddSubscriptions=null,this.privRemoveSubscriptions=null,this.triggerSubscriptions(this.privDisposedSubscriptions))}throwIfDisposed(){if(this.isDisposed())throw new n.ObjectDisposedError("List",this.privDisposeReason)}triggerSubscriptions(e){if(e)for(const t in e)t&&e[t]()}}t.List=i},2679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionFactoryBase=void 0;const n=r(9859),i=r(8040),o=r(7237);t.ConnectionFactoryBase=class{static getHostSuffix(e){if(e){if(e.toLowerCase().startsWith("china"))return".azure.cn";if(e.toLowerCase().startsWith("usgov"))return".azure.us"}return".microsoft.com"}setCommonUrlParams(e,t,r){new Map([[i.PropertyId.Speech_SegmentationSilenceTimeoutMs,o.QueryParameterNames.SegmentationSilenceTimeoutMs],[i.PropertyId.SpeechServiceConnection_EnableAudioLogging,o.QueryParameterNames.EnableAudioLogging],[i.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,o.QueryParameterNames.EndSilenceTimeoutMs],[i.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,o.QueryParameterNames.InitialSilenceTimeoutMs],[i.PropertyId.SpeechServiceResponse_PostProcessingOption,o.QueryParameterNames.Postprocessing],[i.PropertyId.SpeechServiceResponse_ProfanityOption,o.QueryParameterNames.Profanity],[i.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,o.QueryParameterNames.EnableWordLevelTimestamps],[i.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,o.QueryParameterNames.StableIntermediateThreshold]]).forEach(((n,i)=>{this.setUrlParameter(i,n,e,t,r)}));const s=JSON.parse(e.parameters.getProperty(n.ServicePropertiesPropertyName,"{}"));Object.keys(s).forEach((e=>{t[e]=s[e]}))}setUrlParameter(e,t,r,n,i){const o=r.parameters.getProperty(e,void 0);!o||i&&-1!==i.search(t)||(n[t]=o.toLocaleLowerCase())}}},2696:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},2730:(e,t,r)=>{"use strict";var n=r(5043),i=r(8853);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(a[e]=t,e=0;e<t.length;e++)s.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),p=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,h={},v={};function f(e,t,r,n,i,o,s){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=s}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new f(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new f(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new f(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new f(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new f(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new f(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new f(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new f(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new f(e,5,!1,e.toLowerCase(),null,!1,!1)}));var m=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function S(e,t,r,n){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,i,n)&&(r=null),n||null===i?function(e){return!!p.call(v,e)||!p.call(h,e)&&(d.test(e)?v[e]=!0:(h[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):i.mustUseProperty?e[i.propertyName]=null===r?3!==i.type&&"":r:(t=i.attributeName,n=i.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(i=i.type)||4===i&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(m,y);g[t]=new f(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new f("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new f(e,1,!1,e.toLowerCase(),null,!0,!0)}));var C=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),P=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),R=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),N=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var M=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function _(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var z,L=Object.assign;function j(e){if(void 0===z)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);z=t&&t[1]||""}return"\n"+z+e}var F=!1;function B(e,t){if(!e||F)return"";F=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(l){var n=l}Reflect.construct(e,[],t)}else{try{t.call()}catch(l){n=l}e.call(t.prototype)}else{try{throw Error()}catch(l){n=l}e()}}catch(l){if(l&&n&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=n.stack.split("\n"),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(1!==s||1!==a)do{if(s--,0>--a||i[s]!==o[a]){var c="\n"+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}}while(1<=s&&0<=a);break}}}finally{F=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?j(e):""}function U(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=B(e.type,!1);case 11:return e=B(e.type.render,!1);case 1:return e=B(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case w:return"Fragment";case P:return"Portal";case I:return"Profiler";case R:return"StrictMode";case A:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case k:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case N:t=e._payload,e=e._init;try{return q(e(t))}catch(r){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===R?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function V(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function K(e){e._valueTracker||(e._valueTracker=function(e){var t=V(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var i=r.get,o=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){n=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function J(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=V(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function $(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var r=t.checked;return L({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=H(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&S(e,"checked",t,!1)}function X(e,t){Y(e,t);var r=H(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&$(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var i=0;i<r.length;i++)t["$"+r[i]]=!0;for(r=0;r<e.length;r++)i=t.hasOwnProperty("$"+e[r].value),e[r].selected!==i&&(e[r].selected=i),i&&n&&(e[r].defaultSelected=!0)}else{for(r=""+H(r),t=null,i=0;i<e.length;i++){if(e[i].value===r)return e[i].selected=!0,void(n&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return L({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(o(92));if(te(r)){if(1<r.length)throw Error(o(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:H(r)}}function oe(e,t){var r=H(t.value),n=H(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function se(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ae(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ce(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ae(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var le,ue,pe=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((le=le||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=le.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,r,n){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ve=["Webkit","ms","Moz","O"];function fe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function ge(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),i=fe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,i):e[r]=i}}Object.keys(he).forEach((function(e){ve.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var me=L({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(me[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ce=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pe=null,we=null,Re=null;function Ie(e){if(e=Si(e)){if("function"!==typeof Pe)throw Error(o(280));var t=e.stateNode;t&&(t=bi(t),Pe(e.stateNode,e.type,t))}}function Ee(e){we?Re?Re.push(e):Re=[e]:we=e}function Te(){if(we){var e=we,t=Re;if(Re=we=null,Ie(e),t)for(e=0;e<t.length;e++)Ie(t[e])}}function xe(e,t){return e(t)}function Ae(){}var Oe=!1;function ke(e,t,r){if(Oe)return e(t,r);Oe=!0;try{return xe(e,t,r)}finally{Oe=!1,(null!==we||null!==Re)&&(Ae(),Te())}}function Ne(e,t){var r=e.stateNode;if(null===r)return null;var n=bi(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(o(231,t,typeof r));return r}var Me=!1;if(u)try{var De={};Object.defineProperty(De,"passive",{get:function(){Me=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(ue){Me=!1}function _e(e,t,r,n,i,o,s,a,c){var l=Array.prototype.slice.call(arguments,3);try{t.apply(r,l)}catch(u){this.onError(u)}}var ze=!1,Le=null,je=!1,Fe=null,Be={onError:function(e){ze=!0,Le=e}};function Ue(e,t,r,n,i,o,s,a,c){ze=!1,Le=null,_e.apply(Be,arguments)}function qe(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(qe(e)!==e)throw Error(o(188))}function Ve(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=qe(e)))throw Error(o(188));return t!==e?null:e}for(var r=e,n=t;;){var i=r.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(n=i.return)){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return He(i),e;if(s===n)return He(i),t;s=s.sibling}throw Error(o(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,c=i.child;c;){if(c===r){a=!0,r=i,n=s;break}if(c===n){a=!0,n=i,r=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===r){a=!0,r=s,n=i;break}if(c===n){a=!0,n=s,r=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(r.alternate!==n)throw Error(o(190))}if(3!==r.tag)throw Error(o(188));return r.stateNode.current===r?e:t}(e))?Ke(e):null}function Ke(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ke(e);if(null!==t)return t;e=e.sibling}return null}var Je=i.unstable_scheduleCallback,$e=i.unstable_cancelCallback,Ge=i.unstable_shouldYield,Qe=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,rt=i.unstable_LowPriority,nt=i.unstable_IdlePriority,it=null,ot=null;var st=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(at(e)/ct|0)|0},at=Math.log,ct=Math.LN2;var lt=64,ut=4194304;function pt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,i=e.suspendedLanes,o=e.pingedLanes,s=268435455&r;if(0!==s){var a=s&~i;0!==a?n=pt(a):0!==(o&=s)&&(n=pt(o))}else 0!==(s=r&~i)?n=pt(s):0!==o&&(n=pt(o));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&i)&&((i=n&-n)>=(o=t&-t)||16===i&&0!==(4194240&o)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)i=1<<(r=31-st(t)),n|=e[r],t&=~i;return n}function ht(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function vt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ft(){var e=lt;return 0===(4194240&(lt<<=1))&&(lt=64),e}function gt(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function mt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-st(t)]=r}function yt(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-st(r),i=1<<n;i&t|e[n]&t&&(e[n]|=t),r&=~i}}var St=0;function Ct(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,Pt,wt,Rt,It,Et=!1,Tt=[],xt=null,At=null,Ot=null,kt=new Map,Nt=new Map,Mt=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function _t(e,t){switch(e){case"focusin":case"focusout":xt=null;break;case"dragenter":case"dragleave":At=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":kt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nt.delete(t.pointerId)}}function zt(e,t,r,n,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Si(t))&&Pt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Lt(e){var t=yi(e.target);if(null!==t){var r=qe(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=We(r)))return e.blockedOn=t,void It(e.priority,(function(){wt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Si(r))&&Pt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);Ce=n,r.target.dispatchEvent(n),Ce=null,t.shift()}return!0}function Ft(e,t,r){jt(e)&&r.delete(t)}function Bt(){Et=!1,null!==xt&&jt(xt)&&(xt=null),null!==At&&jt(At)&&(At=null),null!==Ot&&jt(Ot)&&(Ot=null),kt.forEach(Ft),Nt.forEach(Ft)}function Ut(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Bt)))}function qt(e){function t(t){return Ut(t,e)}if(0<Tt.length){Ut(Tt[0],e);for(var r=1;r<Tt.length;r++){var n=Tt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==xt&&Ut(xt,e),null!==At&&Ut(At,e),null!==Ot&&Ut(Ot,e),kt.forEach(t),Nt.forEach(t),r=0;r<Mt.length;r++)(n=Mt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Mt.length&&null===(r=Mt[0]).blockedOn;)Lt(r),null===r.blockedOn&&Mt.shift()}var Wt=C.ReactCurrentBatchConfig,Ht=!0;function Vt(e,t,r,n){var i=St,o=Wt.transition;Wt.transition=null;try{St=1,Jt(e,t,r,n)}finally{St=i,Wt.transition=o}}function Kt(e,t,r,n){var i=St,o=Wt.transition;Wt.transition=null;try{St=4,Jt(e,t,r,n)}finally{St=i,Wt.transition=o}}function Jt(e,t,r,n){if(Ht){var i=Gt(e,t,r,n);if(null===i)Hn(e,t,n,$t,r),_t(e,n);else if(function(e,t,r,n,i){switch(t){case"focusin":return xt=zt(xt,e,t,r,n,i),!0;case"dragenter":return At=zt(At,e,t,r,n,i),!0;case"mouseover":return Ot=zt(Ot,e,t,r,n,i),!0;case"pointerover":var o=i.pointerId;return kt.set(o,zt(kt.get(o)||null,e,t,r,n,i)),!0;case"gotpointercapture":return o=i.pointerId,Nt.set(o,zt(Nt.get(o)||null,e,t,r,n,i)),!0}return!1}(i,e,t,r,n))n.stopPropagation();else if(_t(e,n),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var o=Si(i);if(null!==o&&bt(o),null===(o=Gt(e,t,r,n))&&Hn(e,t,n,$t,r),o===i)break;i=o}null!==i&&n.stopPropagation()}else Hn(e,t,n,null,r)}}var $t=null;function Gt(e,t,r,n){if($t=null,null!==(e=yi(e=be(n))))if(null===(t=qe(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $t=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case rt:return 16;case nt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function er(){if(Zt)return Zt;var e,t,r=Xt,n=r.length,i="value"in Yt?Yt.value:Yt.textContent,o=i.length;for(e=0;e<n&&r[e]===i[e];e++);var s=n-e;for(t=1;t<=s&&r[n-t]===i[o-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function rr(){return!0}function nr(){return!1}function ir(e){function t(t,r,n,i,o){for(var s in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(i):i[s]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?rr:nr,this.isPropagationStopped=nr,this}return L(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=rr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=rr)},persist:function(){},isPersistent:rr}),t}var or,sr,ar,cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lr=ir(cr),ur=L({},cr,{view:0,detail:0}),pr=ir(ur),dr=L({},ur,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Rr,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ar&&(ar&&"mousemove"===e.type?(or=e.screenX-ar.screenX,sr=e.screenY-ar.screenY):sr=or=0,ar=e),or)},movementY:function(e){return"movementY"in e?e.movementY:sr}}),hr=ir(dr),vr=ir(L({},dr,{dataTransfer:0})),fr=ir(L({},ur,{relatedTarget:0})),gr=ir(L({},cr,{animationName:0,elapsedTime:0,pseudoElement:0})),mr=L({},cr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yr=ir(mr),Sr=ir(L({},cr,{data:0})),Cr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},br={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Pr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Pr[e])&&!!t[e]}function Rr(){return wr}var Ir=L({},ur,{key:function(e){if(e.key){var t=Cr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?br[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Rr,charCode:function(e){return"keypress"===e.type?tr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Er=ir(Ir),Tr=ir(L({},dr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),xr=ir(L({},ur,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Rr})),Ar=ir(L({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0})),Or=L({},dr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),kr=ir(Or),Nr=[9,13,27,32],Mr=u&&"CompositionEvent"in window,Dr=null;u&&"documentMode"in document&&(Dr=document.documentMode);var _r=u&&"TextEvent"in window&&!Dr,zr=u&&(!Mr||Dr&&8<Dr&&11>=Dr),Lr=String.fromCharCode(32),jr=!1;function Fr(e,t){switch(e){case"keyup":return-1!==Nr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Br(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Ur=!1;var qr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qr[e.type]:"textarea"===t}function Hr(e,t,r,n){Ee(n),0<(t=Kn(t,"onChange")).length&&(r=new lr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var Vr=null,Kr=null;function Jr(e){jn(e,0)}function $r(e){if(J(Ci(e)))return e}function Gr(e,t){if("change"===e)return t}var Qr=!1;if(u){var Yr;if(u){var Xr="oninput"in document;if(!Xr){var Zr=document.createElement("div");Zr.setAttribute("oninput","return;"),Xr="function"===typeof Zr.oninput}Yr=Xr}else Yr=!1;Qr=Yr&&(!document.documentMode||9<document.documentMode)}function en(){Vr&&(Vr.detachEvent("onpropertychange",tn),Kr=Vr=null)}function tn(e){if("value"===e.propertyName&&$r(Kr)){var t=[];Hr(t,Kr,e,be(e)),ke(Jr,t)}}function rn(e,t,r){"focusin"===e?(en(),Kr=r,(Vr=t).attachEvent("onpropertychange",tn)):"focusout"===e&&en()}function nn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $r(Kr)}function on(e,t){if("click"===e)return $r(t)}function sn(e,t){if("input"===e||"change"===e)return $r(t)}var an="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function cn(e,t){if(an(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!p.call(t,i)||!an(e[i],t[i]))return!1}return!0}function ln(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function un(e,t){var r,n=ln(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ln(n)}}function pn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dn(){for(var e=window,t=$();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(n){r=!1}if(!r)break;t=$((e=t.contentWindow).document)}return t}function hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function vn(e){var t=dn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&pn(r.ownerDocument.documentElement,r)){if(null!==n&&hn(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=r.textContent.length,o=Math.min(n.start,i);n=void 0===n.end?o:Math.min(n.end,i),!e.extend&&o>n&&(i=n,n=o,o=i),i=un(r,o);var s=un(r,n);i&&s&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),o>n?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var fn=u&&"documentMode"in document&&11>=document.documentMode,gn=null,mn=null,yn=null,Sn=!1;function Cn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;Sn||null==gn||gn!==$(n)||("selectionStart"in(n=gn)&&hn(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},yn&&cn(yn,n)||(yn=n,0<(n=Kn(mn,"onSelect")).length&&(t=new lr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=gn)))}function bn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Pn={animationend:bn("Animation","AnimationEnd"),animationiteration:bn("Animation","AnimationIteration"),animationstart:bn("Animation","AnimationStart"),transitionend:bn("Transition","TransitionEnd")},wn={},Rn={};function In(e){if(wn[e])return wn[e];if(!Pn[e])return e;var t,r=Pn[e];for(t in r)if(r.hasOwnProperty(t)&&t in Rn)return wn[e]=r[t];return e}u&&(Rn=document.createElement("div").style,"AnimationEvent"in window||(delete Pn.animationend.animation,delete Pn.animationiteration.animation,delete Pn.animationstart.animation),"TransitionEvent"in window||delete Pn.transitionend.transition);var En=In("animationend"),Tn=In("animationiteration"),xn=In("animationstart"),An=In("transitionend"),On=new Map,kn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Nn(e,t){On.set(e,t),c(t,[e])}for(var Mn=0;Mn<kn.length;Mn++){var Dn=kn[Mn];Nn(Dn.toLowerCase(),"on"+(Dn[0].toUpperCase()+Dn.slice(1)))}Nn(En,"onAnimationEnd"),Nn(Tn,"onAnimationIteration"),Nn(xn,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(An,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),zn=new Set("cancel close invalid load scroll toggle".split(" ").concat(_n));function Ln(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,i,s,a,c,l){if(Ue.apply(this,arguments),ze){if(!ze)throw Error(o(198));var u=Le;ze=!1,Le=null,je||(je=!0,Fe=u)}}(n,t,void 0,e),e.currentTarget=null}function jn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],i=n.event;n=n.listeners;e:{var o=void 0;if(t)for(var s=n.length-1;0<=s;s--){var a=n[s],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==o&&i.isPropagationStopped())break e;Ln(i,a,l),o=c}else for(s=0;s<n.length;s++){if(c=(a=n[s]).instance,l=a.currentTarget,a=a.listener,c!==o&&i.isPropagationStopped())break e;Ln(i,a,l),o=c}}}if(je)throw e=Fe,je=!1,Fe=null,e}function Fn(e,t){var r=t[fi];void 0===r&&(r=t[fi]=new Set);var n=e+"__bubble";r.has(n)||(Wn(t,e,2,!1),r.add(n))}function Bn(e,t,r){var n=0;t&&(n|=4),Wn(r,e,n,t)}var Un="_reactListening"+Math.random().toString(36).slice(2);function qn(e){if(!e[Un]){e[Un]=!0,s.forEach((function(t){"selectionchange"!==t&&(zn.has(t)||Bn(t,!1,e),Bn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Un]||(t[Un]=!0,Bn("selectionchange",!1,t))}}function Wn(e,t,r,n){switch(Qt(t)){case 1:var i=Vt;break;case 4:i=Kt;break;default:i=Jt}r=i.bind(null,t,r,e),i=void 0,!Me||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),n?void 0!==i?e.addEventListener(t,r,{capture:!0,passive:i}):e.addEventListener(t,r,!0):void 0!==i?e.addEventListener(t,r,{passive:i}):e.addEventListener(t,r,!1)}function Hn(e,t,r,n,i){var o=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var s=n.tag;if(3===s||4===s){var a=n.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===s)for(s=n.return;null!==s;){var c=s.tag;if((3===c||4===c)&&((c=s.stateNode.containerInfo)===i||8===c.nodeType&&c.parentNode===i))return;s=s.return}for(;null!==a;){if(null===(s=yi(a)))return;if(5===(c=s.tag)||6===c){n=o=s;continue e}a=a.parentNode}}n=n.return}ke((function(){var n=o,i=be(r),s=[];e:{var a=On.get(e);if(void 0!==a){var c=lr,l=e;switch(e){case"keypress":if(0===tr(r))break e;case"keydown":case"keyup":c=Er;break;case"focusin":l="focus",c=fr;break;case"focusout":l="blur",c=fr;break;case"beforeblur":case"afterblur":c=fr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=hr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=vr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=xr;break;case En:case Tn:case xn:c=gr;break;case An:c=Ar;break;case"scroll":c=pr;break;case"wheel":c=kr;break;case"copy":case"cut":case"paste":c=yr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=Tr}var u=0!==(4&t),p=!u&&"scroll"===e,d=u?null!==a?a+"Capture":null:a;u=[];for(var h,v=n;null!==v;){var f=(h=v).stateNode;if(5===h.tag&&null!==f&&(h=f,null!==d&&(null!=(f=Ne(v,d))&&u.push(Vn(v,f,h)))),p)break;v=v.return}0<u.length&&(a=new c(a,l,null,r,i),s.push({event:a,listeners:u}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||r===Ce||!(l=r.relatedTarget||r.fromElement)||!yi(l)&&!l[vi])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=n,null!==(l=(l=r.relatedTarget||r.toElement)?yi(l):null)&&(l!==(p=qe(l))||5!==l.tag&&6!==l.tag)&&(l=null)):(c=null,l=n),c!==l)){if(u=hr,f="onMouseLeave",d="onMouseEnter",v="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tr,f="onPointerLeave",d="onPointerEnter",v="pointer"),p=null==c?a:Ci(c),h=null==l?a:Ci(l),(a=new u(f,v+"leave",c,r,i)).target=p,a.relatedTarget=h,f=null,yi(i)===n&&((u=new u(d,v+"enter",l,r,i)).target=h,u.relatedTarget=p,f=u),p=f,c&&l)e:{for(d=l,v=0,h=u=c;h;h=Jn(h))v++;for(h=0,f=d;f;f=Jn(f))h++;for(;0<v-h;)u=Jn(u),v--;for(;0<h-v;)d=Jn(d),h--;for(;v--;){if(u===d||null!==d&&u===d.alternate)break e;u=Jn(u),d=Jn(d)}u=null}else u=null;null!==c&&$n(s,a,c,u,!1),null!==l&&null!==p&&$n(s,p,l,u,!0)}if("select"===(c=(a=n?Ci(n):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=Gr;else if(Wr(a))if(Qr)g=sn;else{g=nn;var m=rn}else(c=a.nodeName)&&"input"===c.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=on);switch(g&&(g=g(e,n))?Hr(s,g,r,i):(m&&m(e,a,n),"focusout"===e&&(m=a._wrapperState)&&m.controlled&&"number"===a.type&&ee(a,"number",a.value)),m=n?Ci(n):window,e){case"focusin":(Wr(m)||"true"===m.contentEditable)&&(gn=m,mn=n,yn=null);break;case"focusout":yn=mn=gn=null;break;case"mousedown":Sn=!0;break;case"contextmenu":case"mouseup":case"dragend":Sn=!1,Cn(s,r,i);break;case"selectionchange":if(fn)break;case"keydown":case"keyup":Cn(s,r,i)}var y;if(Mr)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ur?Fr(e,r)&&(S="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(S="onCompositionStart");S&&(zr&&"ko"!==r.locale&&(Ur||"onCompositionStart"!==S?"onCompositionEnd"===S&&Ur&&(y=er()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Ur=!0)),0<(m=Kn(n,S)).length&&(S=new Sr(S,e,null,r,i),s.push({event:S,listeners:m}),y?S.data=y:null!==(y=Br(r))&&(S.data=y))),(y=_r?function(e,t){switch(e){case"compositionend":return Br(t);case"keypress":return 32!==t.which?null:(jr=!0,Lr);case"textInput":return(e=t.data)===Lr&&jr?null:e;default:return null}}(e,r):function(e,t){if(Ur)return"compositionend"===e||!Mr&&Fr(e,t)?(e=er(),Zt=Xt=Yt=null,Ur=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=Kn(n,"onBeforeInput")).length&&(i=new Sr("onBeforeInput","beforeinput",null,r,i),s.push({event:i,listeners:n}),i.data=y))}jn(s,t)}))}function Vn(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Kn(e,t){for(var r=t+"Capture",n=[];null!==e;){var i=e,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Ne(e,r))&&n.unshift(Vn(e,o,i)),null!=(o=Ne(e,t))&&n.push(Vn(e,o,i))),e=e.return}return n}function Jn(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function $n(e,t,r,n,i){for(var o=t._reactName,s=[];null!==r&&r!==n;){var a=r,c=a.alternate,l=a.stateNode;if(null!==c&&c===n)break;5===a.tag&&null!==l&&(a=l,i?null!=(c=Ne(r,o))&&s.unshift(Vn(r,c,a)):i||null!=(c=Ne(r,o))&&s.push(Vn(r,c,a))),r=r.return}0!==s.length&&e.push({event:t,listeners:s})}var Gn=/\r\n?/g,Qn=/\u0000|\uFFFD/g;function Yn(e){return("string"===typeof e?e:""+e).replace(Gn,"\n").replace(Qn,"")}function Xn(e,t,r){if(t=Yn(t),Yn(e)!==t&&r)throw Error(o(425))}function Zn(){}var ei=null,ti=null;function ri(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ni="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,oi="function"===typeof Promise?Promise:void 0,si="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof oi?function(e){return oi.resolve(null).then(e).catch(ai)}:ni;function ai(e){setTimeout((function(){throw e}))}function ci(e,t){var r=t,n=0;do{var i=r.nextSibling;if(e.removeChild(r),i&&8===i.nodeType)if("/$"===(r=i.data)){if(0===n)return e.removeChild(i),void qt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=i}while(r);qt(t)}function li(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var pi=Math.random().toString(36).slice(2),di="__reactFiber$"+pi,hi="__reactProps$"+pi,vi="__reactContainer$"+pi,fi="__reactEvents$"+pi,gi="__reactListeners$"+pi,mi="__reactHandles$"+pi;function yi(e){var t=e[di];if(t)return t;for(var r=e.parentNode;r;){if(t=r[vi]||r[di]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=ui(e);null!==e;){if(r=e[di])return r;e=ui(e)}return t}r=(e=r).parentNode}return null}function Si(e){return!(e=e[di]||e[vi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ci(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function bi(e){return e[hi]||null}var Pi=[],wi=-1;function Ri(e){return{current:e}}function Ii(e){0>wi||(e.current=Pi[wi],Pi[wi]=null,wi--)}function Ei(e,t){wi++,Pi[wi]=e.current,e.current=t}var Ti={},xi=Ri(Ti),Ai=Ri(!1),Oi=Ti;function ki(e,t){var r=e.type.contextTypes;if(!r)return Ti;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in r)o[i]=t[i];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=o),o}function Ni(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Mi(){Ii(Ai),Ii(xi)}function Di(e,t,r){if(xi.current!==Ti)throw Error(o(168));Ei(xi,t),Ei(Ai,r)}function _i(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var i in n=n.getChildContext())if(!(i in t))throw Error(o(108,W(e)||"Unknown",i));return L({},r,n)}function zi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Oi=xi.current,Ei(xi,e),Ei(Ai,Ai.current),!0}function Li(e,t,r){var n=e.stateNode;if(!n)throw Error(o(169));r?(e=_i(e,t,Oi),n.__reactInternalMemoizedMergedChildContext=e,Ii(Ai),Ii(xi),Ei(xi,e)):Ii(Ai),Ei(Ai,r)}var ji=null,Fi=!1,Bi=!1;function Ui(e){null===ji?ji=[e]:ji.push(e)}function qi(){if(!Bi&&null!==ji){Bi=!0;var e=0,t=St;try{var r=ji;for(St=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}ji=null,Fi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Je(Ze,qi),i}finally{St=t,Bi=!1}}return null}var Wi=[],Hi=0,Vi=null,Ki=0,Ji=[],$i=0,Gi=null,Qi=1,Yi="";function Xi(e,t){Wi[Hi++]=Ki,Wi[Hi++]=Vi,Vi=e,Ki=t}function Zi(e,t,r){Ji[$i++]=Qi,Ji[$i++]=Yi,Ji[$i++]=Gi,Gi=e;var n=Qi;e=Yi;var i=32-st(n)-1;n&=~(1<<i),r+=1;var o=32-st(t)+i;if(30<o){var s=i-i%5;o=(n&(1<<s)-1).toString(32),n>>=s,i-=s,Qi=1<<32-st(t)+i|r<<i|n,Yi=o+e}else Qi=1<<o|r<<i|n,Yi=e}function eo(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function to(e){for(;e===Vi;)Vi=Wi[--Hi],Wi[Hi]=null,Ki=Wi[--Hi],Wi[Hi]=null;for(;e===Gi;)Gi=Ji[--$i],Ji[$i]=null,Yi=Ji[--$i],Ji[$i]=null,Qi=Ji[--$i],Ji[$i]=null}var ro=null,no=null,io=!1,oo=null;function so(e,t){var r=kl(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ao(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ro=e,no=li(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ro=e,no=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==Gi?{id:Qi,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=kl(18,null,null,0)).stateNode=t,r.return=e,e.child=r,ro=e,no=null,!0);default:return!1}}function co(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function lo(e){if(io){var t=no;if(t){var r=t;if(!ao(e,t)){if(co(e))throw Error(o(418));t=li(r.nextSibling);var n=ro;t&&ao(e,t)?so(n,r):(e.flags=-4097&e.flags|2,io=!1,ro=e)}}else{if(co(e))throw Error(o(418));e.flags=-4097&e.flags|2,io=!1,ro=e}}}function uo(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ro=e}function po(e){if(e!==ro)return!1;if(!io)return uo(e),io=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ri(e.type,e.memoizedProps)),t&&(t=no)){if(co(e))throw ho(),Error(o(418));for(;t;)so(e,t),t=li(t.nextSibling)}if(uo(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){no=li(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}no=null}}else no=ro?li(e.stateNode.nextSibling):null;return!0}function ho(){for(var e=no;e;)e=li(e.nextSibling)}function vo(){no=ro=null,io=!1}function fo(e){null===oo?oo=[e]:oo.push(e)}var go=C.ReactCurrentBatchConfig;function mo(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(o(309));var n=r.stateNode}if(!n)throw Error(o(147,e));var i=n,s=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===s?t.ref:(t=function(e){var t=i.refs;null===e?delete t[s]:t[s]=e},t._stringRef=s,t)}if("string"!==typeof e)throw Error(o(284));if(!r._owner)throw Error(o(290,e))}return e}function yo(e,t){throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function So(e){return(0,e._init)(e._payload)}function Co(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ml(e,t)).index=0,e.sibling=null,e}function s(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function a(t){return e&&null===t.alternate&&(t.flags|=2),t}function c(e,t,r,n){return null===t||6!==t.tag?((t=Ll(r,e.mode,n)).return=e,t):((t=i(t,r)).return=e,t)}function l(e,t,r,n){var o=r.type;return o===w?p(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===N&&So(o)===t.type)?((n=i(t,r.props)).ref=mo(e,t,r),n.return=e,n):((n=Dl(r.type,r.key,r.props,null,e.mode,n)).ref=mo(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=jl(r,e.mode,n)).return=e,t):((t=i(t,r.children||[])).return=e,t)}function p(e,t,r,n,o){return null===t||7!==t.tag?((t=_l(r,e.mode,n,o)).return=e,t):((t=i(t,r)).return=e,t)}function d(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ll(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(r=Dl(t.type,t.key,t.props,null,e.mode,r)).ref=mo(e,null,t),r.return=e,r;case P:return(t=jl(t,e.mode,r)).return=e,t;case N:return d(e,(0,t._init)(t._payload),r)}if(te(t)||_(t))return(t=_l(t,e.mode,r,null)).return=e,t;yo(e,t)}return null}function h(e,t,r,n){var i=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==i?null:c(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return r.key===i?l(e,t,r,n):null;case P:return r.key===i?u(e,t,r,n):null;case N:return h(e,t,(i=r._init)(r._payload),n)}if(te(r)||_(r))return null!==i?null:p(e,t,r,n,null);yo(e,r)}return null}function v(e,t,r,n,i){if("string"===typeof n&&""!==n||"number"===typeof n)return c(t,e=e.get(r)||null,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return l(t,e=e.get(null===n.key?r:n.key)||null,n,i);case P:return u(t,e=e.get(null===n.key?r:n.key)||null,n,i);case N:return v(e,t,r,(0,n._init)(n._payload),i)}if(te(n)||_(n))return p(t,e=e.get(r)||null,n,i,null);yo(t,n)}return null}function f(i,o,a,c){for(var l=null,u=null,p=o,f=o=0,g=null;null!==p&&f<a.length;f++){p.index>f?(g=p,p=null):g=p.sibling;var m=h(i,p,a[f],c);if(null===m){null===p&&(p=g);break}e&&p&&null===m.alternate&&t(i,p),o=s(m,o,f),null===u?l=m:u.sibling=m,u=m,p=g}if(f===a.length)return r(i,p),io&&Xi(i,f),l;if(null===p){for(;f<a.length;f++)null!==(p=d(i,a[f],c))&&(o=s(p,o,f),null===u?l=p:u.sibling=p,u=p);return io&&Xi(i,f),l}for(p=n(i,p);f<a.length;f++)null!==(g=v(p,i,f,a[f],c))&&(e&&null!==g.alternate&&p.delete(null===g.key?f:g.key),o=s(g,o,f),null===u?l=g:u.sibling=g,u=g);return e&&p.forEach((function(e){return t(i,e)})),io&&Xi(i,f),l}function g(i,a,c,l){var u=_(c);if("function"!==typeof u)throw Error(o(150));if(null==(c=u.call(c)))throw Error(o(151));for(var p=u=null,f=a,g=a=0,m=null,y=c.next();null!==f&&!y.done;g++,y=c.next()){f.index>g?(m=f,f=null):m=f.sibling;var S=h(i,f,y.value,l);if(null===S){null===f&&(f=m);break}e&&f&&null===S.alternate&&t(i,f),a=s(S,a,g),null===p?u=S:p.sibling=S,p=S,f=m}if(y.done)return r(i,f),io&&Xi(i,g),u;if(null===f){for(;!y.done;g++,y=c.next())null!==(y=d(i,y.value,l))&&(a=s(y,a,g),null===p?u=y:p.sibling=y,p=y);return io&&Xi(i,g),u}for(f=n(i,f);!y.done;g++,y=c.next())null!==(y=v(f,i,g,y.value,l))&&(e&&null!==y.alternate&&f.delete(null===y.key?g:y.key),a=s(y,a,g),null===p?u=y:p.sibling=y,p=y);return e&&f.forEach((function(e){return t(i,e)})),io&&Xi(i,g),u}return function e(n,o,s,c){if("object"===typeof s&&null!==s&&s.type===w&&null===s.key&&(s=s.props.children),"object"===typeof s&&null!==s){switch(s.$$typeof){case b:e:{for(var l=s.key,u=o;null!==u;){if(u.key===l){if((l=s.type)===w){if(7===u.tag){r(n,u.sibling),(o=i(u,s.props.children)).return=n,n=o;break e}}else if(u.elementType===l||"object"===typeof l&&null!==l&&l.$$typeof===N&&So(l)===u.type){r(n,u.sibling),(o=i(u,s.props)).ref=mo(n,u,s),o.return=n,n=o;break e}r(n,u);break}t(n,u),u=u.sibling}s.type===w?((o=_l(s.props.children,n.mode,c,s.key)).return=n,n=o):((c=Dl(s.type,s.key,s.props,null,n.mode,c)).ref=mo(n,o,s),c.return=n,n=c)}return a(n);case P:e:{for(u=s.key;null!==o;){if(o.key===u){if(4===o.tag&&o.stateNode.containerInfo===s.containerInfo&&o.stateNode.implementation===s.implementation){r(n,o.sibling),(o=i(o,s.children||[])).return=n,n=o;break e}r(n,o);break}t(n,o),o=o.sibling}(o=jl(s,n.mode,c)).return=n,n=o}return a(n);case N:return e(n,o,(u=s._init)(s._payload),c)}if(te(s))return f(n,o,s,c);if(_(s))return g(n,o,s,c);yo(n,s)}return"string"===typeof s&&""!==s||"number"===typeof s?(s=""+s,null!==o&&6===o.tag?(r(n,o.sibling),(o=i(o,s)).return=n,n=o):(r(n,o),(o=Ll(s,n.mode,c)).return=n,n=o),a(n)):r(n,o)}}var bo=Co(!0),Po=Co(!1),wo=Ri(null),Ro=null,Io=null,Eo=null;function To(){Eo=Io=Ro=null}function xo(e){var t=wo.current;Ii(wo),e._currentValue=t}function Ao(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Oo(e,t){Ro=e,Eo=Io=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Sa=!0),e.firstContext=null)}function ko(e){var t=e._currentValue;if(Eo!==e)if(e={context:e,memoizedValue:t,next:null},null===Io){if(null===Ro)throw Error(o(308));Io=e,Ro.dependencies={lanes:0,firstContext:e}}else Io=Io.next=e;return t}var No=null;function Mo(e){null===No?No=[e]:No.push(e)}function Do(e,t,r,n){var i=t.interleaved;return null===i?(r.next=r,Mo(t)):(r.next=i.next,i.next=r),t.interleaved=r,_o(e,n)}function _o(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var zo=!1;function Lo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function jo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Fo(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bo(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&xc)){var i=n.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),n.pending=t,_o(e,r)}return null===(i=n.interleaved)?(t.next=t,Mo(n)):(t.next=i.next,i.next=t),n.interleaved=t,_o(e,r)}function Uo(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}function qo(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var i=null,o=null;if(null!==(r=r.firstBaseUpdate)){do{var s={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===o?i=o=s:o=o.next=s,r=r.next}while(null!==r);null===o?i=o=t:o=o.next=t}else i=o=t;return r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Wo(e,t,r,n){var i=e.updateQueue;zo=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var c=a,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(null!==o){var p=i.baseState;for(s=0,u=l=c=null,a=o;;){var d=a.lane,h=a.eventTime;if((n&d)===d){null!==u&&(u=u.next={eventTime:h,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,f=a;switch(d=t,h=r,f.tag){case 1:if("function"===typeof(v=f.payload)){p=v.call(h,p,d);break e}p=v;break e;case 3:v.flags=-65537&v.flags|128;case 0:if(null===(d="function"===typeof(v=f.payload)?v.call(h,p,d):v)||void 0===d)break e;p=L({},p,d);break e;case 2:zo=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else h={eventTime:h,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(l=u=h,c=p):u=u.next=h,s|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(c=p),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{s|=i.lane,i=i.next}while(i!==t)}else null===o&&(i.shared.lanes=0);zc|=s,e.lanes=s,e.memoizedState=p}}function Ho(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],i=n.callback;if(null!==i){if(n.callback=null,n=r,"function"!==typeof i)throw Error(o(191,i));i.call(n)}}}var Vo={},Ko=Ri(Vo),Jo=Ri(Vo),$o=Ri(Vo);function Go(e){if(e===Vo)throw Error(o(174));return e}function Qo(e,t){switch(Ei($o,t),Ei(Jo,e),Ei(Ko,Vo),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ce(null,"");break;default:t=ce(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ii(Ko),Ei(Ko,t)}function Yo(){Ii(Ko),Ii(Jo),Ii($o)}function Xo(e){Go($o.current);var t=Go(Ko.current),r=ce(t,e.type);t!==r&&(Ei(Jo,e),Ei(Ko,r))}function Zo(e){Jo.current===e&&(Ii(Ko),Ii(Jo))}var es=Ri(0);function ts(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var rs=[];function ns(){for(var e=0;e<rs.length;e++)rs[e]._workInProgressVersionPrimary=null;rs.length=0}var is=C.ReactCurrentDispatcher,os=C.ReactCurrentBatchConfig,ss=0,as=null,cs=null,ls=null,us=!1,ps=!1,ds=0,hs=0;function vs(){throw Error(o(321))}function fs(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!an(e[r],t[r]))return!1;return!0}function gs(e,t,r,n,i,s){if(ss=s,as=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,is.current=null===e||null===e.memoizedState?Zs:ea,e=r(n,i),ps){s=0;do{if(ps=!1,ds=0,25<=s)throw Error(o(301));s+=1,ls=cs=null,t.updateQueue=null,is.current=ta,e=r(n,i)}while(ps)}if(is.current=Xs,t=null!==cs&&null!==cs.next,ss=0,ls=cs=as=null,us=!1,t)throw Error(o(300));return e}function ms(){var e=0!==ds;return ds=0,e}function ys(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ls?as.memoizedState=ls=e:ls=ls.next=e,ls}function Ss(){if(null===cs){var e=as.alternate;e=null!==e?e.memoizedState:null}else e=cs.next;var t=null===ls?as.memoizedState:ls.next;if(null!==t)ls=t,cs=e;else{if(null===e)throw Error(o(310));e={memoizedState:(cs=e).memoizedState,baseState:cs.baseState,baseQueue:cs.baseQueue,queue:cs.queue,next:null},null===ls?as.memoizedState=ls=e:ls=ls.next=e}return ls}function Cs(e,t){return"function"===typeof t?t(e):t}function bs(e){var t=Ss(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=cs,i=n.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(null!==i){s=i.next,n=n.baseState;var c=a=null,l=null,u=s;do{var p=u.lane;if((ss&p)===p)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var d={lane:p,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(c=l=d,a=n):l=l.next=d,as.lanes|=p,zc|=p}u=u.next}while(null!==u&&u!==s);null===l?a=n:l.next=c,an(n,t.memoizedState)||(Sa=!0),t.memoizedState=n,t.baseState=a,t.baseQueue=l,r.lastRenderedState=n}if(null!==(e=r.interleaved)){i=e;do{s=i.lane,as.lanes|=s,zc|=s,i=i.next}while(i!==e)}else null===i&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Ps(e){var t=Ss(),r=t.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=e;var n=r.dispatch,i=r.pending,s=t.memoizedState;if(null!==i){r.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);an(s,t.memoizedState)||(Sa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),r.lastRenderedState=s}return[s,n]}function ws(){}function Rs(e,t){var r=as,n=Ss(),i=t(),s=!an(n.memoizedState,i);if(s&&(n.memoizedState=i,Sa=!0),n=n.queue,zs(Ts.bind(null,r,n,e),[e]),n.getSnapshot!==t||s||null!==ls&&1&ls.memoizedState.tag){if(r.flags|=2048,ks(9,Es.bind(null,r,n,i,t),void 0,null),null===Ac)throw Error(o(349));0!==(30&ss)||Is(r,t,i)}return i}function Is(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Es(e,t,r,n){t.value=r,t.getSnapshot=n,xs(t)&&As(e)}function Ts(e,t,r){return r((function(){xs(t)&&As(e)}))}function xs(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!an(e,r)}catch(n){return!0}}function As(e){var t=_o(e,1);null!==t&&rl(t,e,1,-1)}function Os(e){var t=ys();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cs,lastRenderedState:e},t.queue=e,e=e.dispatch=$s.bind(null,as,e),[t.memoizedState,e]}function ks(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=as.updateQueue)?(t={lastEffect:null,stores:null},as.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Ns(){return Ss().memoizedState}function Ms(e,t,r,n){var i=ys();as.flags|=e,i.memoizedState=ks(1|t,r,void 0,void 0===n?null:n)}function Ds(e,t,r,n){var i=Ss();n=void 0===n?null:n;var o=void 0;if(null!==cs){var s=cs.memoizedState;if(o=s.destroy,null!==n&&fs(n,s.deps))return void(i.memoizedState=ks(t,r,o,n))}as.flags|=e,i.memoizedState=ks(1|t,r,o,n)}function _s(e,t){return Ms(8390656,8,e,t)}function zs(e,t){return Ds(2048,8,e,t)}function Ls(e,t){return Ds(4,2,e,t)}function js(e,t){return Ds(4,4,e,t)}function Fs(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Bs(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ds(4,4,Fs.bind(null,t,e),r)}function Us(){}function qs(e,t){var r=Ss();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function Ws(e,t){var r=Ss();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&fs(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function Hs(e,t,r){return 0===(21&ss)?(e.baseState&&(e.baseState=!1,Sa=!0),e.memoizedState=r):(an(r,t)||(r=ft(),as.lanes|=r,zc|=r,e.baseState=!0),t)}function Vs(e,t){var r=St;St=0!==r&&4>r?r:4,e(!0);var n=os.transition;os.transition={};try{e(!1),t()}finally{St=r,os.transition=n}}function Ks(){return Ss().memoizedState}function Js(e,t,r){var n=tl(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},Gs(e))Qs(t,r);else if(null!==(r=Do(e,t,r,n))){rl(r,e,n,el()),Ys(r,t,n)}}function $s(e,t,r){var n=tl(e),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(Gs(e))Qs(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,r);if(i.hasEagerState=!0,i.eagerState=a,an(a,s)){var c=t.interleaved;return null===c?(i.next=i,Mo(t)):(i.next=c.next,c.next=i),void(t.interleaved=i)}}catch(l){}null!==(r=Do(e,t,i,n))&&(rl(r,e,n,i=el()),Ys(r,t,n))}}function Gs(e){var t=e.alternate;return e===as||null!==t&&t===as}function Qs(e,t){ps=us=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function Ys(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,yt(e,r)}}var Xs={readContext:ko,useCallback:vs,useContext:vs,useEffect:vs,useImperativeHandle:vs,useInsertionEffect:vs,useLayoutEffect:vs,useMemo:vs,useReducer:vs,useRef:vs,useState:vs,useDebugValue:vs,useDeferredValue:vs,useTransition:vs,useMutableSource:vs,useSyncExternalStore:vs,useId:vs,unstable_isNewReconciler:!1},Zs={readContext:ko,useCallback:function(e,t){return ys().memoizedState=[e,void 0===t?null:t],e},useContext:ko,useEffect:_s,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ms(4194308,4,Fs.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Ms(4194308,4,e,t)},useInsertionEffect:function(e,t){return Ms(4,2,e,t)},useMemo:function(e,t){var r=ys();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=ys();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=Js.bind(null,as,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},ys().memoizedState=e},useState:Os,useDebugValue:Us,useDeferredValue:function(e){return ys().memoizedState=e},useTransition:function(){var e=Os(!1),t=e[0];return e=Vs.bind(null,e[1]),ys().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=as,i=ys();if(io){if(void 0===r)throw Error(o(407));r=r()}else{if(r=t(),null===Ac)throw Error(o(349));0!==(30&ss)||Is(n,t,r)}i.memoizedState=r;var s={value:r,getSnapshot:t};return i.queue=s,_s(Ts.bind(null,n,s,e),[e]),n.flags|=2048,ks(9,Es.bind(null,n,s,r,t),void 0,null),r},useId:function(){var e=ys(),t=Ac.identifierPrefix;if(io){var r=Yi;t=":"+t+"R"+(r=(Qi&~(1<<32-st(Qi)-1)).toString(32)+r),0<(r=ds++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=hs++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},ea={readContext:ko,useCallback:qs,useContext:ko,useEffect:zs,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Ws,useReducer:bs,useRef:Ns,useState:function(){return bs(Cs)},useDebugValue:Us,useDeferredValue:function(e){return Hs(Ss(),cs.memoizedState,e)},useTransition:function(){return[bs(Cs)[0],Ss().memoizedState]},useMutableSource:ws,useSyncExternalStore:Rs,useId:Ks,unstable_isNewReconciler:!1},ta={readContext:ko,useCallback:qs,useContext:ko,useEffect:zs,useImperativeHandle:Bs,useInsertionEffect:Ls,useLayoutEffect:js,useMemo:Ws,useReducer:Ps,useRef:Ns,useState:function(){return Ps(Cs)},useDebugValue:Us,useDeferredValue:function(e){var t=Ss();return null===cs?t.memoizedState=e:Hs(t,cs.memoizedState,e)},useTransition:function(){return[Ps(Cs)[0],Ss().memoizedState]},useMutableSource:ws,useSyncExternalStore:Rs,useId:Ks,unstable_isNewReconciler:!1};function ra(e,t){if(e&&e.defaultProps){for(var r in t=L({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function na(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:L({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var ia={isMounted:function(e){return!!(e=e._reactInternals)&&qe(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),o=Fo(n,i);o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Bo(e,o,i))&&(rl(t,e,i,n),Uo(t,e,i))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=el(),i=tl(e),o=Fo(n,i);o.tag=1,o.payload=t,void 0!==r&&null!==r&&(o.callback=r),null!==(t=Bo(e,o,i))&&(rl(t,e,i,n),Uo(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=el(),n=tl(e),i=Fo(r,n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bo(e,i,n))&&(rl(t,e,n,r),Uo(t,e,n))}};function oa(e,t,r,n,i,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!cn(r,n)||!cn(i,o))}function sa(e,t,r){var n=!1,i=Ti,o=t.contextType;return"object"===typeof o&&null!==o?o=ko(o):(i=Ni(t)?Oi:xi.current,o=(n=null!==(n=t.contextTypes)&&void 0!==n)?ki(e,i):Ti),t=new t(r,o),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ia,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=o),t}function aa(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&ia.enqueueReplaceState(t,t.state,null)}function ca(e,t,r,n){var i=e.stateNode;i.props=r,i.state=e.memoizedState,i.refs={},Lo(e);var o=t.contextType;"object"===typeof o&&null!==o?i.context=ko(o):(o=Ni(t)?Oi:xi.current,i.context=ki(e,o)),i.state=e.memoizedState,"function"===typeof(o=t.getDerivedStateFromProps)&&(na(e,t,o,r),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ia.enqueueReplaceState(i,i.state,null),Wo(e,r,i,n),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function la(e,t){try{var r="",n=t;do{r+=U(n),n=n.return}while(n);var i=r}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:e,source:t,stack:i,digest:null}}function ua(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function pa(e,t){try{console.error(t.value)}catch(r){setTimeout((function(){throw r}))}}var da="function"===typeof WeakMap?WeakMap:Map;function ha(e,t,r){(r=Fo(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Hc||(Hc=!0,Vc=n),pa(0,t)},r}function va(e,t,r){(r=Fo(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var i=t.value;r.payload=function(){return n(i)},r.callback=function(){pa(0,t)}}var o=e.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(r.callback=function(){pa(0,t),"function"!==typeof n&&(null===Kc?Kc=new Set([this]):Kc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function fa(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new da;var i=new Set;n.set(t,i)}else void 0===(i=n.get(t))&&(i=new Set,n.set(t,i));i.has(r)||(i.add(r),e=Il.bind(null,e,t,r),t.then(e,e))}function ga(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function ma(e,t,r,n,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Fo(-1,1)).tag=2,Bo(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var ya=C.ReactCurrentOwner,Sa=!1;function Ca(e,t,r,n){t.child=null===e?Po(t,null,r,n):bo(t,e.child,r,n)}function ba(e,t,r,n,i){r=r.render;var o=t.ref;return Oo(t,i),n=gs(e,t,r,n,o,i),r=ms(),null===e||Sa?(io&&r&&eo(t),t.flags|=1,Ca(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Pa(e,t,r,n,i){if(null===e){var o=r.type;return"function"!==typeof o||Nl(o)||void 0!==o.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Dl(r.type,null,n,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wa(e,t,o,n,i))}if(o=e.child,0===(e.lanes&i)){var s=o.memoizedProps;if((r=null!==(r=r.compare)?r:cn)(s,n)&&e.ref===t.ref)return Ha(e,t,i)}return t.flags|=1,(e=Ml(o,n)).ref=t.ref,e.return=t,t.child=e}function wa(e,t,r,n,i){if(null!==e){var o=e.memoizedProps;if(cn(o,n)&&e.ref===t.ref){if(Sa=!1,t.pendingProps=n=o,0===(e.lanes&i))return t.lanes=e.lanes,Ha(e,t,i);0!==(131072&e.flags)&&(Sa=!0)}}return Ea(e,t,r,n,i)}function Ra(e,t,r){var n=t.pendingProps,i=n.children,o=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Mc,Nc),Nc|=r;else{if(0===(1073741824&r))return e=null!==o?o.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Mc,Nc),Nc|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==o?o.baseLanes:r,Ei(Mc,Nc),Nc|=n}else null!==o?(n=o.baseLanes|r,t.memoizedState=null):n=r,Ei(Mc,Nc),Nc|=n;return Ca(e,t,i,r),t.child}function Ia(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Ea(e,t,r,n,i){var o=Ni(r)?Oi:xi.current;return o=ki(t,o),Oo(t,i),r=gs(e,t,r,n,o,i),n=ms(),null===e||Sa?(io&&n&&eo(t),t.flags|=1,Ca(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Ha(e,t,i))}function Ta(e,t,r,n,i){if(Ni(r)){var o=!0;zi(t)}else o=!1;if(Oo(t,i),null===t.stateNode)Wa(e,t),sa(t,r,n),ca(t,r,n,i),n=!0;else if(null===e){var s=t.stateNode,a=t.memoizedProps;s.props=a;var c=s.context,l=r.contextType;"object"===typeof l&&null!==l?l=ko(l):l=ki(t,l=Ni(r)?Oi:xi.current);var u=r.getDerivedStateFromProps,p="function"===typeof u||"function"===typeof s.getSnapshotBeforeUpdate;p||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==n||c!==l)&&aa(t,s,n,l),zo=!1;var d=t.memoizedState;s.state=d,Wo(t,n,s,i),c=t.memoizedState,a!==n||d!==c||Ai.current||zo?("function"===typeof u&&(na(t,r,u,n),c=t.memoizedState),(a=zo||oa(t,r,a,n,d,c,l))?(p||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),s.props=n,s.state=c,s.context=l,n=a):("function"===typeof s.componentDidMount&&(t.flags|=4194308),n=!1)}else{s=t.stateNode,jo(e,t),a=t.memoizedProps,l=t.type===t.elementType?a:ra(t.type,a),s.props=l,p=t.pendingProps,d=s.context,"object"===typeof(c=r.contextType)&&null!==c?c=ko(c):c=ki(t,c=Ni(r)?Oi:xi.current);var h=r.getDerivedStateFromProps;(u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a!==p||d!==c)&&aa(t,s,n,c),zo=!1,d=t.memoizedState,s.state=d,Wo(t,n,s,i);var v=t.memoizedState;a!==p||d!==v||Ai.current||zo?("function"===typeof h&&(na(t,r,h,n),v=t.memoizedState),(l=zo||oa(t,r,l,n,d,v,c)||!1)?(u||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(n,v,c),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(n,v,c)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),s.props=n,s.state=v,s.context=c,n=l):("function"!==typeof s.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),n=!1)}return xa(e,t,r,n,o,i)}function xa(e,t,r,n,i,o){Ia(e,t);var s=0!==(128&t.flags);if(!n&&!s)return i&&Li(t,r,!1),Ha(e,t,o);n=t.stateNode,ya.current=t;var a=s&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&s?(t.child=bo(t,e.child,null,o),t.child=bo(t,null,a,o)):Ca(e,t,a,o),t.memoizedState=n.state,i&&Li(t,r,!0),t.child}function Aa(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Qo(e,t.containerInfo)}function Oa(e,t,r,n,i){return vo(),fo(i),t.flags|=256,Ca(e,t,r,n),t.child}var ka,Na,Ma,Da,_a={dehydrated:null,treeContext:null,retryLane:0};function za(e){return{baseLanes:e,cachePool:null,transitions:null}}function La(e,t,r){var n,i=t.pendingProps,s=es.current,a=!1,c=0!==(128&t.flags);if((n=c)||(n=(null===e||null!==e.memoizedState)&&0!==(2&s)),n?(a=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(s|=1),Ei(es,1&s),null===e)return lo(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(c=i.children,e=i.fallback,a?(i=t.mode,a=t.child,c={mode:"hidden",children:c},0===(1&i)&&null!==a?(a.childLanes=0,a.pendingProps=c):a=zl(c,i,0,null),e=_l(e,i,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=za(r),t.memoizedState=_a,e):ja(t,c));if(null!==(s=e.memoizedState)&&null!==(n=s.dehydrated))return function(e,t,r,n,i,s,a){if(r)return 256&t.flags?(t.flags&=-257,Fa(e,t,a,n=ua(Error(o(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=n.fallback,i=t.mode,n=zl({mode:"visible",children:n.children},i,0,null),(s=_l(s,i,a,null)).flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,0!==(1&t.mode)&&bo(t,e.child,null,a),t.child.memoizedState=za(a),t.memoizedState=_a,s);if(0===(1&t.mode))return Fa(e,t,a,null);if("$!"===i.data){if(n=i.nextSibling&&i.nextSibling.dataset)var c=n.dgst;return n=c,Fa(e,t,a,n=ua(s=Error(o(419)),n,void 0))}if(c=0!==(a&e.childLanes),Sa||c){if(null!==(n=Ac)){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(n.suspendedLanes|a))?0:i)&&i!==s.retryLane&&(s.retryLane=i,_o(e,i),rl(n,e,i,-1))}return fl(),Fa(e,t,a,n=ua(Error(o(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tl.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,no=li(i.nextSibling),ro=t,io=!0,oo=null,null!==e&&(Ji[$i++]=Qi,Ji[$i++]=Yi,Ji[$i++]=Gi,Qi=e.id,Yi=e.overflow,Gi=t),t=ja(t,n.children),t.flags|=4096,t)}(e,t,c,i,n,s,r);if(a){a=i.fallback,c=t.mode,n=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 0===(1&c)&&t.child!==s?((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null):(i=Ml(s,l)).subtreeFlags=14680064&s.subtreeFlags,null!==n?a=Ml(n,a):(a=_l(a,c,r,null)).flags|=2,a.return=t,i.return=t,i.sibling=a,t.child=i,i=a,a=t.child,c=null===(c=e.child.memoizedState)?za(r):{baseLanes:c.baseLanes|r,cachePool:null,transitions:c.transitions},a.memoizedState=c,a.childLanes=e.childLanes&~r,t.memoizedState=_a,i}return e=(a=e.child).sibling,i=Ml(a,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=r),i.return=t,i.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=i,t.memoizedState=null,i}function ja(e,t){return(t=zl({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Fa(e,t,r,n){return null!==n&&fo(n),bo(t,e.child,null,r),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ba(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ao(e.return,t,r)}function Ua(e,t,r,n,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=n,o.tail=r,o.tailMode=i)}function qa(e,t,r){var n=t.pendingProps,i=n.revealOrder,o=n.tail;if(Ca(e,t,n.children,r),0!==(2&(n=es.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ba(e,r,t);else if(19===e.tag)Ba(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Ei(es,n),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(r=t.child,i=null;null!==r;)null!==(e=r.alternate)&&null===ts(e)&&(i=r),r=r.sibling;null===(r=i)?(i=t.child,t.child=null):(i=r.sibling,r.sibling=null),Ua(t,!1,i,r,o);break;case"backwards":for(r=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ts(e)){t.child=i;break}e=i.sibling,i.sibling=r,r=i,i=e}Ua(t,!0,r,null,o);break;case"together":Ua(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wa(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ha(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),zc|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(r=Ml(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Ml(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function Va(e,t){if(!io)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ka(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=14680064&i.subtreeFlags,n|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function Ja(e,t,r){var n=t.pendingProps;switch(to(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ka(t),null;case 1:case 17:return Ni(t.type)&&Mi(),Ka(t),null;case 3:return n=t.stateNode,Yo(),Ii(Ai),Ii(xi),ns(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(po(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==oo&&(sl(oo),oo=null))),Na(e,t),Ka(t),null;case 5:Zo(t);var i=Go($o.current);if(r=t.type,null!==e&&null!=t.stateNode)Ma(e,t,r,n,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(o(166));return Ka(t),null}if(e=Go(Ko.current),po(t)){n=t.stateNode,r=t.type;var s=t.memoizedProps;switch(n[di]=t,n[hi]=s,e=0!==(1&t.mode),r){case"dialog":Fn("cancel",n),Fn("close",n);break;case"iframe":case"object":case"embed":Fn("load",n);break;case"video":case"audio":for(i=0;i<_n.length;i++)Fn(_n[i],n);break;case"source":Fn("error",n);break;case"img":case"image":case"link":Fn("error",n),Fn("load",n);break;case"details":Fn("toggle",n);break;case"input":Q(n,s),Fn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Fn("invalid",n);break;case"textarea":ie(n,s),Fn("invalid",n)}for(var c in ye(r,s),i=null,s)if(s.hasOwnProperty(c)){var l=s[c];"children"===c?"string"===typeof l?n.textContent!==l&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,l,e),i=["children",l]):"number"===typeof l&&n.textContent!==""+l&&(!0!==s.suppressHydrationWarning&&Xn(n.textContent,l,e),i=["children",""+l]):a.hasOwnProperty(c)&&null!=l&&"onScroll"===c&&Fn("scroll",n)}switch(r){case"input":K(n),Z(n,s,!0);break;case"textarea":K(n),se(n);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(n.onclick=Zn)}n=i,t.updateQueue=n,null!==n&&(t.flags|=4)}else{c=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ae(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=c.createElement(r,{is:n.is}):(e=c.createElement(r),"select"===r&&(c=e,n.multiple?c.multiple=!0:n.size&&(c.size=n.size))):e=c.createElementNS(e,r),e[di]=t,e[hi]=n,ka(e,t,!1,!1),t.stateNode=e;e:{switch(c=Se(r,n),r){case"dialog":Fn("cancel",e),Fn("close",e),i=n;break;case"iframe":case"object":case"embed":Fn("load",e),i=n;break;case"video":case"audio":for(i=0;i<_n.length;i++)Fn(_n[i],e);i=n;break;case"source":Fn("error",e),i=n;break;case"img":case"image":case"link":Fn("error",e),Fn("load",e),i=n;break;case"details":Fn("toggle",e),i=n;break;case"input":Q(e,n),i=G(e,n),Fn("invalid",e);break;case"option":default:i=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},i=L({},n,{value:void 0}),Fn("invalid",e);break;case"textarea":ie(e,n),i=ne(e,n),Fn("invalid",e)}for(s in ye(r,i),l=i)if(l.hasOwnProperty(s)){var u=l[s];"style"===s?ge(e,u):"dangerouslySetInnerHTML"===s?null!=(u=u?u.__html:void 0)&&pe(e,u):"children"===s?"string"===typeof u?("textarea"!==r||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(a.hasOwnProperty(s)?null!=u&&"onScroll"===s&&Fn("scroll",e):null!=u&&S(e,s,u,c))}switch(r){case"input":K(e),Z(e,n,!1);break;case"textarea":K(e),se(e);break;case"option":null!=n.value&&e.setAttribute("value",""+H(n.value));break;case"select":e.multiple=!!n.multiple,null!=(s=n.value)?re(e,!!n.multiple,s,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zn)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ka(t),null;case 6:if(e&&null!=t.stateNode)Da(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(o(166));if(r=Go($o.current),Go(Ko.current),po(t)){if(n=t.stateNode,r=t.memoizedProps,n[di]=t,(s=n.nodeValue!==r)&&null!==(e=ro))switch(e.tag){case 3:Xn(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xn(n.nodeValue,r,0!==(1&e.mode))}s&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[di]=t,t.stateNode=n}return Ka(t),null;case 13:if(Ii(es),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(io&&null!==no&&0!==(1&t.mode)&&0===(128&t.flags))ho(),vo(),t.flags|=98560,s=!1;else if(s=po(t),null!==n&&null!==n.dehydrated){if(null===e){if(!s)throw Error(o(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(o(317));s[di]=t}else vo(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ka(t),s=!1}else null!==oo&&(sl(oo),oo=null),s=!0;if(!s)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&es.current)?0===Dc&&(Dc=3):fl())),null!==t.updateQueue&&(t.flags|=4),Ka(t),null);case 4:return Yo(),Na(e,t),null===e&&qn(t.stateNode.containerInfo),Ka(t),null;case 10:return xo(t.type._context),Ka(t),null;case 19:if(Ii(es),null===(s=t.memoizedState))return Ka(t),null;if(n=0!==(128&t.flags),null===(c=s.rendering))if(n)Va(s,!1);else{if(0!==Dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(c=ts(e))){for(t.flags|=128,Va(s,!1),null!==(n=c.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(s=r).flags&=14680066,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Ei(es,1&es.current|2),t.child}e=e.sibling}null!==s.tail&&Ye()>qc&&(t.flags|=128,n=!0,Va(s,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ts(c))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),Va(s,!0),null===s.tail&&"hidden"===s.tailMode&&!c.alternate&&!io)return Ka(t),null}else 2*Ye()-s.renderingStartTime>qc&&1073741824!==r&&(t.flags|=128,n=!0,Va(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(null!==(r=s.last)?r.sibling=c:t.child=c,s.last=c)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Ye(),t.sibling=null,r=es.current,Ei(es,n?1&r|2:1&r),t):(Ka(t),null);case 22:case 23:return pl(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Nc)&&(Ka(t),6&t.subtreeFlags&&(t.flags|=8192)):Ka(t),null;case 24:case 25:return null}throw Error(o(156,t.tag))}function $a(e,t){switch(to(t),t.tag){case 1:return Ni(t.type)&&Mi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Yo(),Ii(Ai),Ii(xi),ns(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Zo(t),null;case 13:if(Ii(es),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));vo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ii(es),null;case 4:return Yo(),null;case 10:return xo(t.type._context),null;case 22:case 23:return pl(),null;default:return null}}ka=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Na=function(){},Ma=function(e,t,r,n){var i=e.memoizedProps;if(i!==n){e=t.stateNode,Go(Ko.current);var o,s=null;switch(r){case"input":i=G(e,i),n=G(e,n),s=[];break;case"select":i=L({},i,{value:void 0}),n=L({},n,{value:void 0}),s=[];break;case"textarea":i=ne(e,i),n=ne(e,n),s=[];break;default:"function"!==typeof i.onClick&&"function"===typeof n.onClick&&(e.onclick=Zn)}for(u in ye(r,n),r=null,i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var c=i[u];for(o in c)c.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(a.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(c=null!=i?i[u]:void 0,n.hasOwnProperty(u)&&l!==c&&(null!=l||null!=c))if("style"===u)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(u,l)):"children"===u?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(a.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Fn("scroll",e),s||c===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},Da=function(e,t,r,n){r!==n&&(t.flags|=4)};var Ga=!1,Qa=!1,Ya="function"===typeof WeakSet?WeakSet:Set,Xa=null;function Za(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(n){Rl(e,t,n)}else r.current=null}function ec(e,t,r){try{r()}catch(n){Rl(e,t,n)}}var tc=!1;function rc(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var i=n=n.next;do{if((i.tag&e)===e){var o=i.destroy;i.destroy=void 0,void 0!==o&&ec(t,r,o)}i=i.next}while(i!==n)}}function nc(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ic(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function oc(e){var t=e.alternate;null!==t&&(e.alternate=null,oc(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[hi],delete t[fi],delete t[gi],delete t[mi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function sc(e){return 5===e.tag||3===e.tag||4===e.tag}function ac(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||sc(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=Zn));else if(4!==n&&null!==(e=e.child))for(cc(e,t,r),e=e.sibling;null!==e;)cc(e,t,r),e=e.sibling}function lc(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(lc(e,t,r),e=e.sibling;null!==e;)lc(e,t,r),e=e.sibling}var uc=null,pc=!1;function dc(e,t,r){for(r=r.child;null!==r;)hc(e,t,r),r=r.sibling}function hc(e,t,r){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(it,r)}catch(a){}switch(r.tag){case 5:Qa||Za(r,t);case 6:var n=uc,i=pc;uc=null,dc(e,t,r),pc=i,null!==(uc=n)&&(pc?(e=uc,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):uc.removeChild(r.stateNode));break;case 18:null!==uc&&(pc?(e=uc,r=r.stateNode,8===e.nodeType?ci(e.parentNode,r):1===e.nodeType&&ci(e,r),qt(e)):ci(uc,r.stateNode));break;case 4:n=uc,i=pc,uc=r.stateNode.containerInfo,pc=!0,dc(e,t,r),uc=n,pc=i;break;case 0:case 11:case 14:case 15:if(!Qa&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){i=n=n.next;do{var o=i,s=o.destroy;o=o.tag,void 0!==s&&(0!==(2&o)||0!==(4&o))&&ec(r,t,s),i=i.next}while(i!==n)}dc(e,t,r);break;case 1:if(!Qa&&(Za(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Rl(r,t,a)}dc(e,t,r);break;case 21:dc(e,t,r);break;case 22:1&r.mode?(Qa=(n=Qa)||null!==r.memoizedState,dc(e,t,r),Qa=n):dc(e,t,r);break;default:dc(e,t,r)}}function vc(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new Ya),t.forEach((function(t){var n=xl.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function fc(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var i=r[n];try{var s=e,a=t,c=a;e:for(;null!==c;){switch(c.tag){case 5:uc=c.stateNode,pc=!1;break e;case 3:case 4:uc=c.stateNode.containerInfo,pc=!0;break e}c=c.return}if(null===uc)throw Error(o(160));hc(s,a,i),uc=null,pc=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(u){Rl(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)gc(t,e),t=t.sibling}function gc(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(fc(t,e),mc(e),4&n){try{rc(3,e,e.return),nc(3,e)}catch(g){Rl(e,e.return,g)}try{rc(5,e,e.return)}catch(g){Rl(e,e.return,g)}}break;case 1:fc(t,e),mc(e),512&n&&null!==r&&Za(r,r.return);break;case 5:if(fc(t,e),mc(e),512&n&&null!==r&&Za(r,r.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(g){Rl(e,e.return,g)}}if(4&n&&null!=(i=e.stateNode)){var s=e.memoizedProps,a=null!==r?r.memoizedProps:s,c=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===c&&"radio"===s.type&&null!=s.name&&Y(i,s),Se(c,a);var u=Se(c,s);for(a=0;a<l.length;a+=2){var p=l[a],d=l[a+1];"style"===p?ge(i,d):"dangerouslySetInnerHTML"===p?pe(i,d):"children"===p?de(i,d):S(i,p,d,u)}switch(c){case"input":X(i,s);break;case"textarea":oe(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;null!=v?re(i,!!s.multiple,v,!1):h!==!!s.multiple&&(null!=s.defaultValue?re(i,!!s.multiple,s.defaultValue,!0):re(i,!!s.multiple,s.multiple?[]:"",!1))}i[hi]=s}catch(g){Rl(e,e.return,g)}}break;case 6:if(fc(t,e),mc(e),4&n){if(null===e.stateNode)throw Error(o(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(g){Rl(e,e.return,g)}}break;case 3:if(fc(t,e),mc(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{qt(t.containerInfo)}catch(g){Rl(e,e.return,g)}break;case 4:default:fc(t,e),mc(e);break;case 13:fc(t,e),mc(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(Uc=Ye())),4&n&&vc(e);break;case 22:if(p=null!==r&&null!==r.memoizedState,1&e.mode?(Qa=(u=Qa)||p,fc(t,e),Qa=u):fc(t,e),mc(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!p&&0!==(1&e.mode))for(Xa=e,p=e.child;null!==p;){for(d=Xa=p;null!==Xa;){switch(v=(h=Xa).child,h.tag){case 0:case 11:case 14:case 15:rc(4,h,h.return);break;case 1:Za(h,h.return);var f=h.stateNode;if("function"===typeof f.componentWillUnmount){n=h,r=h.return;try{t=n,f.props=t.memoizedProps,f.state=t.memoizedState,f.componentWillUnmount()}catch(g){Rl(n,r,g)}}break;case 5:Za(h,h.return);break;case 22:if(null!==h.memoizedState){bc(d);continue}}null!==v?(v.return=h,Xa=v):bc(d)}p=p.sibling}e:for(p=null,d=e;;){if(5===d.tag){if(null===p){p=d;try{i=d.stateNode,u?"function"===typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(c=d.stateNode,a=void 0!==(l=d.memoizedProps.style)&&null!==l&&l.hasOwnProperty("display")?l.display:null,c.style.display=fe("display",a))}catch(g){Rl(e,e.return,g)}}}else if(6===d.tag){if(null===p)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){Rl(e,e.return,g)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:fc(t,e),mc(e),4&n&&vc(e);case 21:}}function mc(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(sc(r)){var n=r;break e}r=r.return}throw Error(o(160))}switch(n.tag){case 5:var i=n.stateNode;32&n.flags&&(de(i,""),n.flags&=-33),lc(e,ac(e),i);break;case 3:case 4:var s=n.stateNode.containerInfo;cc(e,ac(e),s);break;default:throw Error(o(161))}}catch(a){Rl(e,e.return,a)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function yc(e,t,r){Xa=e,Sc(e,t,r)}function Sc(e,t,r){for(var n=0!==(1&e.mode);null!==Xa;){var i=Xa,o=i.child;if(22===i.tag&&n){var s=null!==i.memoizedState||Ga;if(!s){var a=i.alternate,c=null!==a&&null!==a.memoizedState||Qa;a=Ga;var l=Qa;if(Ga=s,(Qa=c)&&!l)for(Xa=i;null!==Xa;)c=(s=Xa).child,22===s.tag&&null!==s.memoizedState?Pc(i):null!==c?(c.return=s,Xa=c):Pc(i);for(;null!==o;)Xa=o,Sc(o,t,r),o=o.sibling;Xa=i,Ga=a,Qa=l}Cc(e)}else 0!==(8772&i.subtreeFlags)&&null!==o?(o.return=i,Xa=o):Cc(e)}}function Cc(e){for(;null!==Xa;){var t=Xa;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Qa||nc(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!Qa)if(null===r)n.componentDidMount();else{var i=t.elementType===t.type?r.memoizedProps:ra(t.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&Ho(t,s,n);break;case 3:var a=t.updateQueue;if(null!==a){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}Ho(t,a,r)}break;case 5:var c=t.stateNode;if(null===r&&4&t.flags){r=c;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var p=u.memoizedState;if(null!==p){var d=p.dehydrated;null!==d&&qt(d)}}}break;default:throw Error(o(163))}Qa||512&t.flags&&ic(t)}catch(h){Rl(t,t.return,h)}}if(t===e){Xa=null;break}if(null!==(r=t.sibling)){r.return=t.return,Xa=r;break}Xa=t.return}}function bc(e){for(;null!==Xa;){var t=Xa;if(t===e){Xa=null;break}var r=t.sibling;if(null!==r){r.return=t.return,Xa=r;break}Xa=t.return}}function Pc(e){for(;null!==Xa;){var t=Xa;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{nc(4,t)}catch(c){Rl(t,r,c)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var i=t.return;try{n.componentDidMount()}catch(c){Rl(t,i,c)}}var o=t.return;try{ic(t)}catch(c){Rl(t,o,c)}break;case 5:var s=t.return;try{ic(t)}catch(c){Rl(t,s,c)}}}catch(c){Rl(t,t.return,c)}if(t===e){Xa=null;break}var a=t.sibling;if(null!==a){a.return=t.return,Xa=a;break}Xa=t.return}}var wc,Rc=Math.ceil,Ic=C.ReactCurrentDispatcher,Ec=C.ReactCurrentOwner,Tc=C.ReactCurrentBatchConfig,xc=0,Ac=null,Oc=null,kc=0,Nc=0,Mc=Ri(0),Dc=0,_c=null,zc=0,Lc=0,jc=0,Fc=null,Bc=null,Uc=0,qc=1/0,Wc=null,Hc=!1,Vc=null,Kc=null,Jc=!1,$c=null,Gc=0,Qc=0,Yc=null,Xc=-1,Zc=0;function el(){return 0!==(6&xc)?Ye():-1!==Xc?Xc:Xc=Ye()}function tl(e){return 0===(1&e.mode)?1:0!==(2&xc)&&0!==kc?kc&-kc:null!==go.transition?(0===Zc&&(Zc=ft()),Zc):0!==(e=St)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function rl(e,t,r,n){if(50<Qc)throw Qc=0,Yc=null,Error(o(185));mt(e,r,n),0!==(2&xc)&&e===Ac||(e===Ac&&(0===(2&xc)&&(Lc|=r),4===Dc&&al(e,kc)),nl(e,n),1===r&&0===xc&&0===(1&t.mode)&&(qc=Ye()+500,Fi&&qi()))}function nl(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,i=e.expirationTimes,o=e.pendingLanes;0<o;){var s=31-st(o),a=1<<s,c=i[s];-1===c?0!==(a&r)&&0===(a&n)||(i[s]=ht(a,t)):c<=t&&(e.expiredLanes|=a),o&=~a}}(e,t);var n=dt(e,e===Ac?kc:0);if(0===n)null!==r&&$e(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&$e(r),1===t)0===e.tag?function(e){Fi=!0,Ui(e)}(cl.bind(null,e)):Ui(cl.bind(null,e)),si((function(){0===(6&xc)&&qi()})),r=null;else{switch(Ct(n)){case 1:r=Ze;break;case 4:r=et;break;case 16:default:r=tt;break;case 536870912:r=nt}r=Al(r,il.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function il(e,t){if(Xc=-1,Zc=0,0!==(6&xc))throw Error(o(327));var r=e.callbackNode;if(Pl()&&e.callbackNode!==r)return null;var n=dt(e,e===Ac?kc:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=gl(e,n);else{t=n;var i=xc;xc|=2;var s=vl();for(Ac===e&&kc===t||(Wc=null,qc=Ye()+500,dl(e,t));;)try{yl();break}catch(c){hl(e,c)}To(),Ic.current=s,xc=i,null!==Oc?t=0:(Ac=null,kc=0,t=Dc)}if(0!==t){if(2===t&&(0!==(i=vt(e))&&(n=i,t=ol(e,i))),1===t)throw r=_c,dl(e,0),al(e,n),nl(e,Ye()),r;if(6===t)al(e,n);else{if(i=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var i=r[n],o=i.getSnapshot;i=i.value;try{if(!an(o(),i))return!1}catch(a){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=gl(e,n))&&(0!==(s=vt(e))&&(n=s,t=ol(e,s))),1===t))throw r=_c,dl(e,0),al(e,n),nl(e,Ye()),r;switch(e.finishedWork=i,e.finishedLanes=n,t){case 0:case 1:throw Error(o(345));case 2:case 5:bl(e,Bc,Wc);break;case 3:if(al(e,n),(130023424&n)===n&&10<(t=Uc+500-Ye())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){el(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ni(bl.bind(null,e,Bc,Wc),t);break}bl(e,Bc,Wc);break;case 4:if(al(e,n),(4194240&n)===n)break;for(t=e.eventTimes,i=-1;0<n;){var a=31-st(n);s=1<<a,(a=t[a])>i&&(i=a),n&=~s}if(n=i,10<(n=(120>(n=Ye()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Rc(n/1960))-n)){e.timeoutHandle=ni(bl.bind(null,e,Bc,Wc),n);break}bl(e,Bc,Wc);break;default:throw Error(o(329))}}}return nl(e,Ye()),e.callbackNode===r?il.bind(null,e):null}function ol(e,t){var r=Fc;return e.current.memoizedState.isDehydrated&&(dl(e,t).flags|=256),2!==(e=gl(e,t))&&(t=Bc,Bc=r,null!==t&&sl(t)),e}function sl(e){null===Bc?Bc=e:Bc.push.apply(Bc,e)}function al(e,t){for(t&=~jc,t&=~Lc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-st(t),n=1<<r;e[r]=-1,t&=~n}}function cl(e){if(0!==(6&xc))throw Error(o(327));Pl();var t=dt(e,0);if(0===(1&t))return nl(e,Ye()),null;var r=gl(e,t);if(0!==e.tag&&2===r){var n=vt(e);0!==n&&(t=n,r=ol(e,n))}if(1===r)throw r=_c,dl(e,0),al(e,t),nl(e,Ye()),r;if(6===r)throw Error(o(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,bl(e,Bc,Wc),nl(e,Ye()),null}function ll(e,t){var r=xc;xc|=1;try{return e(t)}finally{0===(xc=r)&&(qc=Ye()+500,Fi&&qi())}}function ul(e){null!==$c&&0===$c.tag&&0===(6&xc)&&Pl();var t=xc;xc|=1;var r=Tc.transition,n=St;try{if(Tc.transition=null,St=1,e)return e()}finally{St=n,Tc.transition=r,0===(6&(xc=t))&&qi()}}function pl(){Nc=Mc.current,Ii(Mc)}function dl(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ii(r)),null!==Oc)for(r=Oc.return;null!==r;){var n=r;switch(to(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Mi();break;case 3:Yo(),Ii(Ai),Ii(xi),ns();break;case 5:Zo(n);break;case 4:Yo();break;case 13:case 19:Ii(es);break;case 10:xo(n.type._context);break;case 22:case 23:pl()}r=r.return}if(Ac=e,Oc=e=Ml(e.current,null),kc=Nc=t,Dc=0,_c=null,jc=Lc=zc=0,Bc=Fc=null,null!==No){for(t=0;t<No.length;t++)if(null!==(n=(r=No[t]).interleaved)){r.interleaved=null;var i=n.next,o=r.pending;if(null!==o){var s=o.next;o.next=i,n.next=s}r.pending=n}No=null}return e}function hl(e,t){for(;;){var r=Oc;try{if(To(),is.current=Xs,us){for(var n=as.memoizedState;null!==n;){var i=n.queue;null!==i&&(i.pending=null),n=n.next}us=!1}if(ss=0,ls=cs=as=null,ps=!1,ds=0,Ec.current=null,null===r||null===r.return){Dc=1,_c=t,Oc=null;break}e:{var s=e,a=r.return,c=r,l=t;if(t=kc,c.flags|=32768,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l,p=c,d=p.tag;if(0===(1&p.mode)&&(0===d||11===d||15===d)){var h=p.alternate;h?(p.updateQueue=h.updateQueue,p.memoizedState=h.memoizedState,p.lanes=h.lanes):(p.updateQueue=null,p.memoizedState=null)}var v=ga(a);if(null!==v){v.flags&=-257,ma(v,a,c,0,t),1&v.mode&&fa(s,u,t),l=u;var f=(t=v).updateQueue;if(null===f){var g=new Set;g.add(l),t.updateQueue=g}else f.add(l);break e}if(0===(1&t)){fa(s,u,t),fl();break e}l=Error(o(426))}else if(io&&1&c.mode){var m=ga(a);if(null!==m){0===(65536&m.flags)&&(m.flags|=256),ma(m,a,c,0,t),fo(la(l,c));break e}}s=l=la(l,c),4!==Dc&&(Dc=2),null===Fc?Fc=[s]:Fc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,qo(s,ha(0,l,t));break e;case 1:c=l;var y=s.type,S=s.stateNode;if(0===(128&s.flags)&&("function"===typeof y.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===Kc||!Kc.has(S)))){s.flags|=65536,t&=-t,s.lanes|=t,qo(s,va(s,c,t));break e}}s=s.return}while(null!==s)}Cl(r)}catch(C){t=C,Oc===r&&null!==r&&(Oc=r=r.return);continue}break}}function vl(){var e=Ic.current;return Ic.current=Xs,null===e?Xs:e}function fl(){0!==Dc&&3!==Dc&&2!==Dc||(Dc=4),null===Ac||0===(268435455&zc)&&0===(268435455&Lc)||al(Ac,kc)}function gl(e,t){var r=xc;xc|=2;var n=vl();for(Ac===e&&kc===t||(Wc=null,dl(e,t));;)try{ml();break}catch(i){hl(e,i)}if(To(),xc=r,Ic.current=n,null!==Oc)throw Error(o(261));return Ac=null,kc=0,Dc}function ml(){for(;null!==Oc;)Sl(Oc)}function yl(){for(;null!==Oc&&!Ge();)Sl(Oc)}function Sl(e){var t=wc(e.alternate,e,Nc);e.memoizedProps=e.pendingProps,null===t?Cl(e):Oc=t,Ec.current=null}function Cl(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=Ja(r,t,Nc)))return void(Oc=r)}else{if(null!==(r=$a(r,t)))return r.flags&=32767,void(Oc=r);if(null===e)return Dc=6,void(Oc=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oc=t);Oc=t=e}while(null!==t);0===Dc&&(Dc=5)}function bl(e,t,r){var n=St,i=Tc.transition;try{Tc.transition=null,St=1,function(e,t,r,n){do{Pl()}while(null!==$c);if(0!==(6&xc))throw Error(o(327));r=e.finishedWork;var i=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(o(177));e.callbackNode=null,e.callbackPriority=0;var s=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var i=31-st(r),o=1<<i;t[i]=0,n[i]=-1,e[i]=-1,r&=~o}}(e,s),e===Ac&&(Oc=Ac=null,kc=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||Jc||(Jc=!0,Al(tt,(function(){return Pl(),null}))),s=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||s){s=Tc.transition,Tc.transition=null;var a=St;St=1;var c=xc;xc|=4,Ec.current=null,function(e,t){if(ei=Ht,hn(e=dn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch(b){r=null;break e}var a=0,c=-1,l=-1,u=0,p=0,d=e,h=null;t:for(;;){for(var v;d!==r||0!==i&&3!==d.nodeType||(c=a+i),d!==s||0!==n&&3!==d.nodeType||(l=a+n),3===d.nodeType&&(a+=d.nodeValue.length),null!==(v=d.firstChild);)h=d,d=v;for(;;){if(d===e)break t;if(h===r&&++u===i&&(c=a),h===s&&++p===n&&(l=a),null!==(v=d.nextSibling))break;h=(d=h).parentNode}d=v}r=-1===c||-1===l?null:{start:c,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(ti={focusedElem:e,selectionRange:r},Ht=!1,Xa=t;null!==Xa;)if(e=(t=Xa).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Xa=e;else for(;null!==Xa;){t=Xa;try{var f=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==f){var g=f.memoizedProps,m=f.memoizedState,y=t.stateNode,S=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:ra(t.type,g),m);y.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var C=t.stateNode.containerInfo;1===C.nodeType?C.textContent="":9===C.nodeType&&C.documentElement&&C.removeChild(C.documentElement);break;default:throw Error(o(163))}}catch(b){Rl(t,t.return,b)}if(null!==(e=t.sibling)){e.return=t.return,Xa=e;break}Xa=t.return}f=tc,tc=!1}(e,r),gc(r,e),vn(ti),Ht=!!ei,ti=ei=null,e.current=r,yc(r,e,i),Qe(),xc=c,St=a,Tc.transition=s}else e.current=r;if(Jc&&(Jc=!1,$c=e,Gc=i),s=e.pendingLanes,0===s&&(Kc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),nl(e,Ye()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)i=t[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Hc)throw Hc=!1,e=Vc,Vc=null,e;0!==(1&Gc)&&0!==e.tag&&Pl(),s=e.pendingLanes,0!==(1&s)?e===Yc?Qc++:(Qc=0,Yc=e):Qc=0,qi()}(e,t,r,n)}finally{Tc.transition=i,St=n}return null}function Pl(){if(null!==$c){var e=Ct(Gc),t=Tc.transition,r=St;try{if(Tc.transition=null,St=16>e?16:e,null===$c)var n=!1;else{if(e=$c,$c=null,Gc=0,0!==(6&xc))throw Error(o(331));var i=xc;for(xc|=4,Xa=e.current;null!==Xa;){var s=Xa,a=s.child;if(0!==(16&Xa.flags)){var c=s.deletions;if(null!==c){for(var l=0;l<c.length;l++){var u=c[l];for(Xa=u;null!==Xa;){var p=Xa;switch(p.tag){case 0:case 11:case 15:rc(8,p,s)}var d=p.child;if(null!==d)d.return=p,Xa=d;else for(;null!==Xa;){var h=(p=Xa).sibling,v=p.return;if(oc(p),p===u){Xa=null;break}if(null!==h){h.return=v,Xa=h;break}Xa=v}}}var f=s.alternate;if(null!==f){var g=f.child;if(null!==g){f.child=null;do{var m=g.sibling;g.sibling=null,g=m}while(null!==g)}}Xa=s}}if(0!==(2064&s.subtreeFlags)&&null!==a)a.return=s,Xa=a;else e:for(;null!==Xa;){if(0!==(2048&(s=Xa).flags))switch(s.tag){case 0:case 11:case 15:rc(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,Xa=y;break e}Xa=s.return}}var S=e.current;for(Xa=S;null!==Xa;){var C=(a=Xa).child;if(0!==(2064&a.subtreeFlags)&&null!==C)C.return=a,Xa=C;else e:for(a=S;null!==Xa;){if(0!==(2048&(c=Xa).flags))try{switch(c.tag){case 0:case 11:case 15:nc(9,c)}}catch(P){Rl(c,c.return,P)}if(c===a){Xa=null;break e}var b=c.sibling;if(null!==b){b.return=c.return,Xa=b;break e}Xa=c.return}}if(xc=i,qi(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(it,e)}catch(P){}n=!0}return n}finally{St=r,Tc.transition=t}}return!1}function wl(e,t,r){e=Bo(e,t=ha(0,t=la(r,t),1),1),t=el(),null!==e&&(mt(e,1,t),nl(e,t))}function Rl(e,t,r){if(3===e.tag)wl(e,e,r);else for(;null!==t;){if(3===t.tag){wl(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===Kc||!Kc.has(n))){t=Bo(t,e=va(t,e=la(r,e),1),1),e=el(),null!==t&&(mt(t,1,e),nl(t,e));break}}t=t.return}}function Il(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=el(),e.pingedLanes|=e.suspendedLanes&r,Ac===e&&(kc&r)===r&&(4===Dc||3===Dc&&(130023424&kc)===kc&&500>Ye()-Uc?dl(e,0):jc|=r),nl(e,t)}function El(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var r=el();null!==(e=_o(e,t))&&(mt(e,t,r),nl(e,r))}function Tl(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),El(e,r)}function xl(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,i=e.memoizedState;null!==i&&(r=i.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(o(314))}null!==n&&n.delete(t),El(e,r)}function Al(e,t){return Je(e,t)}function Ol(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kl(e,t,r,n){return new Ol(e,t,r,n)}function Nl(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Ml(e,t){var r=e.alternate;return null===r?((r=kl(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Dl(e,t,r,n,i,s){var a=2;if(n=e,"function"===typeof e)Nl(e)&&(a=1);else if("string"===typeof e)a=5;else e:switch(e){case w:return _l(r.children,i,s,t);case R:a=8,i|=8;break;case I:return(e=kl(12,r,t,2|i)).elementType=I,e.lanes=s,e;case A:return(e=kl(13,r,t,i)).elementType=A,e.lanes=s,e;case O:return(e=kl(19,r,t,i)).elementType=O,e.lanes=s,e;case M:return zl(r,i,s,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:a=10;break e;case T:a=9;break e;case x:a=11;break e;case k:a=14;break e;case N:a=16,n=null;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=kl(a,r,t,i)).elementType=e,t.type=n,t.lanes=s,t}function _l(e,t,r,n){return(e=kl(7,e,n,t)).lanes=r,e}function zl(e,t,r,n){return(e=kl(22,e,n,t)).elementType=M,e.lanes=r,e.stateNode={isHidden:!1},e}function Ll(e,t,r){return(e=kl(6,e,null,t)).lanes=r,e}function jl(e,t,r){return(t=kl(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Fl(e,t,r,n,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bl(e,t,r,n,i,o,s,a,c){return e=new Fl(e,t,r,a,c),1===t?(t=1,!0===o&&(t|=8)):t=0,o=kl(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lo(o),e}function Ul(e){if(!e)return Ti;e:{if(qe(e=e._reactInternals)!==e||1!==e.tag)throw Error(o(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(o(171))}if(1===e.tag){var r=e.type;if(Ni(r))return _i(e,r,t)}return t}function ql(e,t,r,n,i,o,s,a,c){return(e=Bl(r,n,!0,e,0,o,0,a,c)).context=Ul(null),r=e.current,(o=Fo(n=el(),i=tl(r))).callback=void 0!==t&&null!==t?t:null,Bo(r,o,i),e.current.lanes=i,mt(e,i,n),nl(e,n),e}function Wl(e,t,r,n){var i=t.current,o=el(),s=tl(i);return r=Ul(r),null===t.context?t.context=r:t.pendingContext=r,(t=Fo(o,s)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Bo(i,t,s))&&(rl(e,i,s,o),Uo(e,i,s)),s}function Hl(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Vl(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function Kl(e,t){Vl(e,t),(e=e.alternate)&&Vl(e,t)}wc=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ai.current)Sa=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Sa=!1,function(e,t,r){switch(t.tag){case 3:Aa(t),vo();break;case 5:Xo(t);break;case 1:Ni(t.type)&&zi(t);break;case 4:Qo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,i=t.memoizedProps.value;Ei(wo,n._currentValue),n._currentValue=i;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Ei(es,1&es.current),t.flags|=128,null):0!==(r&t.child.childLanes)?La(e,t,r):(Ei(es,1&es.current),null!==(e=Ha(e,t,r))?e.sibling:null);Ei(es,1&es.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return qa(e,t,r);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(es,es.current),n)break;return null;case 22:case 23:return t.lanes=0,Ra(e,t,r)}return Ha(e,t,r)}(e,t,r);Sa=0!==(131072&e.flags)}else Sa=!1,io&&0!==(1048576&t.flags)&&Zi(t,Ki,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;Wa(e,t),e=t.pendingProps;var i=ki(t,xi.current);Oo(t,r),i=gs(null,t,n,e,i,r);var s=ms();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ni(n)?(s=!0,zi(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Lo(t),i.updater=ia,t.stateNode=i,i._reactInternals=t,ca(t,n,e,r),t=xa(null,t,n,!0,s,r)):(t.tag=0,io&&s&&eo(t),Ca(null,t,i,r),t=t.child),t;case 16:n=t.elementType;e:{switch(Wa(e,t),e=t.pendingProps,n=(i=n._init)(n._payload),t.type=n,i=t.tag=function(e){if("function"===typeof e)return Nl(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===x)return 11;if(e===k)return 14}return 2}(n),e=ra(n,e),i){case 0:t=Ea(null,t,n,e,r);break e;case 1:t=Ta(null,t,n,e,r);break e;case 11:t=ba(null,t,n,e,r);break e;case 14:t=Pa(null,t,n,ra(n.type,e),r);break e}throw Error(o(306,n,""))}return t;case 0:return n=t.type,i=t.pendingProps,Ea(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 1:return n=t.type,i=t.pendingProps,Ta(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 3:e:{if(Aa(t),null===e)throw Error(o(387));n=t.pendingProps,i=(s=t.memoizedState).element,jo(e,t),Wo(t,n,null,r);var a=t.memoizedState;if(n=a.element,s.isDehydrated){if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=Oa(e,t,n,r,i=la(Error(o(423)),t));break e}if(n!==i){t=Oa(e,t,n,r,i=la(Error(o(424)),t));break e}for(no=li(t.stateNode.containerInfo.firstChild),ro=t,io=!0,oo=null,r=Po(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(vo(),n===i){t=Ha(e,t,r);break e}Ca(e,t,n,r)}t=t.child}return t;case 5:return Xo(t),null===e&&lo(t),n=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,a=i.children,ri(n,i)?a=null:null!==s&&ri(n,s)&&(t.flags|=32),Ia(e,t),Ca(e,t,a,r),t.child;case 6:return null===e&&lo(t),null;case 13:return La(e,t,r);case 4:return Qo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=bo(t,null,n,r):Ca(e,t,n,r),t.child;case 11:return n=t.type,i=t.pendingProps,ba(e,t,n,i=t.elementType===n?i:ra(n,i),r);case 7:return Ca(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Ei(wo,n._currentValue),n._currentValue=a,null!==s)if(an(s.value,a)){if(s.children===i.children&&!Ai.current){t=Ha(e,t,r);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var c=s.dependencies;if(null!==c){a=s.child;for(var l=c.firstContext;null!==l;){if(l.context===n){if(1===s.tag){(l=Fo(-1,r&-r)).tag=2;var u=s.updateQueue;if(null!==u){var p=(u=u.shared).pending;null===p?l.next=l:(l.next=p.next,p.next=l),u.pending=l}}s.lanes|=r,null!==(l=s.alternate)&&(l.lanes|=r),Ao(s.return,r,t),c.lanes|=r;break}l=l.next}}else if(10===s.tag)a=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(a=s.return))throw Error(o(341));a.lanes|=r,null!==(c=a.alternate)&&(c.lanes|=r),Ao(a,r,t),a=s.sibling}else a=s.child;if(null!==a)a.return=s;else for(a=s;null!==a;){if(a===t){a=null;break}if(null!==(s=a.sibling)){s.return=a.return,a=s;break}a=a.return}s=a}Ca(e,t,i.children,r),t=t.child}return t;case 9:return i=t.type,n=t.pendingProps.children,Oo(t,r),n=n(i=ko(i)),t.flags|=1,Ca(e,t,n,r),t.child;case 14:return i=ra(n=t.type,t.pendingProps),Pa(e,t,n,i=ra(n.type,i),r);case 15:return wa(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,i=t.pendingProps,i=t.elementType===n?i:ra(n,i),Wa(e,t),t.tag=1,Ni(n)?(e=!0,zi(t)):e=!1,Oo(t,r),sa(t,n,i),ca(t,n,i,r),xa(null,t,n,!0,e,r);case 19:return qa(e,t,r);case 22:return Ra(e,t,r)}throw Error(o(156,t.tag))};var Jl="function"===typeof reportError?reportError:function(e){console.error(e)};function $l(e){this._internalRoot=e}function Gl(e){this._internalRoot=e}function Ql(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yl(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xl(){}function Zl(e,t,r,n,i){var o=r._reactRootContainer;if(o){var s=o;if("function"===typeof i){var a=i;i=function(){var e=Hl(s);a.call(e)}}Wl(t,s,e,i)}else s=function(e,t,r,n,i){if(i){if("function"===typeof n){var o=n;n=function(){var e=Hl(s);o.call(e)}}var s=ql(t,n,e,0,null,!1,0,"",Xl);return e._reactRootContainer=s,e[vi]=s.current,qn(8===e.nodeType?e.parentNode:e),ul(),s}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof n){var a=n;n=function(){var e=Hl(c);a.call(e)}}var c=Bl(e,0,!1,null,0,!1,0,"",Xl);return e._reactRootContainer=c,e[vi]=c.current,qn(8===e.nodeType?e.parentNode:e),ul((function(){Wl(t,c,r,n)})),c}(r,t,e,i,n);return Hl(s)}Gl.prototype.render=$l.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Wl(e,t,null,null)},Gl.prototype.unmount=$l.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;ul((function(){Wl(null,e,null,null)})),t[vi]=null}},Gl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Rt();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Mt.length&&0!==t&&t<Mt[r].priority;r++);Mt.splice(r,0,e),0===r&&Lt(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=pt(t.pendingLanes);0!==r&&(yt(t,1|r),nl(t,Ye()),0===(6&xc)&&(qc=Ye()+500,qi()))}break;case 13:ul((function(){var t=_o(e,1);if(null!==t){var r=el();rl(t,e,1,r)}})),Kl(e,1)}},Pt=function(e){if(13===e.tag){var t=_o(e,134217728);if(null!==t)rl(t,e,134217728,el());Kl(e,134217728)}},wt=function(e){if(13===e.tag){var t=tl(e),r=_o(e,t);if(null!==r)rl(r,e,t,el());Kl(e,t)}},Rt=function(){return St},It=function(e,t){var r=St;try{return St=e,t()}finally{St=r}},Pe=function(e,t,r){switch(t){case"input":if(X(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var i=bi(n);if(!i)throw Error(o(90));J(n),X(n,i)}}}break;case"textarea":oe(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},xe=ll,Ae=ul;var eu={usingClientEntryPoint:!1,Events:[Si,Ci,bi,Ee,Te,ll]},tu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:C.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var nu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nu.isDisabled&&nu.supportsFiber)try{it=nu.inject(ru),ot=nu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Ql(t))throw Error(o(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:P,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!Ql(e))throw Error(o(299));var r=!1,n="",i=Jl;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bl(e,1,!1,null,0,r,0,n,i),e[vi]=t.current,qn(8===e.nodeType?e.parentNode:e),new $l(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return ul(e)},t.hydrate=function(e,t,r){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!Ql(e))throw Error(o(405));var n=null!=r&&r.hydratedSources||null,i=!1,s="",a=Jl;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(i=!0),void 0!==r.identifierPrefix&&(s=r.identifierPrefix),void 0!==r.onRecoverableError&&(a=r.onRecoverableError)),t=ql(t,null,e,1,null!=r?r:null,i,0,s,a),e[vi]=t.current,qn(e),n)for(e=0;e<n.length;e++)i=(i=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,i]:t.mutableSourceEagerHydrationData.push(r,i);return new Gl(t)},t.render=function(e,t,r){if(!Yl(t))throw Error(o(200));return Zl(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!Yl(e))throw Error(o(40));return!!e._reactRootContainer&&(ul((function(){Zl(null,null,e,!1,(function(){e._reactRootContainer=null,e[vi]=null}))})),!0)},t.unstable_batchedUpdates=ll,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Yl(r))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return Zl(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},2771:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessage=t.MessageType=void 0;const n=r(8446),i=r(9463);var o;!function(e){e[e.Text=0]="Text",e[e.Binary=1]="Binary"}(o=t.MessageType||(t.MessageType={}));t.ConnectionMessage=class{constructor(e,t,r,s){if(this.privBody=null,e===o.Text&&t&&"string"!==typeof t)throw new n.InvalidOperationError("Payload must be a string");if(e===o.Binary&&t&&!(t instanceof ArrayBuffer))throw new n.InvalidOperationError("Payload must be ArrayBuffer");switch(this.privMessageType=e,this.privBody=t,this.privHeaders=r||{},this.privId=s||i.createNoDashGuid(),this.messageType){case o.Binary:this.privSize=null!==this.binaryBody?this.binaryBody.byteLength:0;break;case o.Text:this.privSize=this.textBody.length}}get messageType(){return this.privMessageType}get headers(){return this.privHeaders}get body(){return this.privBody}get textBody(){if(this.privMessageType===o.Binary)throw new n.InvalidOperationError("Not supported for binary message");return this.privBody}get binaryBody(){if(this.privMessageType===o.Text)throw new n.InvalidOperationError("Not supported for text message");return this.privBody}get id(){return this.privId}}},2855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(46)),i=s(r(3708)),o=r(5080);function s(e){return e&&e.__esModule?e:{default:e}}var a=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const s=(e=e||{}).random||(e.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,o.unsafeStringify)(s)};t.default=a},2936:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionResult=void 0;const n=r(8040);class i extends n.SpeechRecognitionResult{constructor(e,t,r,n,i,o,s,a,c,l,u){super(t,r,n,i,o,s,a,void 0,c,l,u),this.privTranslations=e}static fromSpeechRecognitionResult(e){return new i(void 0,e.resultId,e.reason,e.text,e.duration,e.offset,e.language,e.languageDetectionConfidence,e.errorDetails,e.json,e.properties)}get translations(){return this.privTranslations}}t.TranslationRecognitionResult=i},2965:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketConnection=void 0;const n=r(2307),i=r(4955);t.WebsocketConnection=class{constructor(e,t,r,o,s){let a=arguments.length>5&&void 0!==arguments[5]&&arguments[5],c=arguments.length>6?arguments[6]:void 0;if(this.privIsDisposed=!1,!e)throw new n.ArgumentNullError("uri");if(!o)throw new n.ArgumentNullError("messageFormatter");this.privMessageFormatter=o;let l="",u=0;if(t)for(const n in t)if(n){l+=0===u&&-1===e.indexOf("?")?"?":"&";l+=encodeURIComponent(n);let r=t[n];r&&(r=encodeURIComponent(r),l+=`=${r}`),u++}if(r)for(const n in r)if(n){l+=0===u&&-1===e.indexOf("?")?"?":"&";l+=`${n}=${encodeURIComponent(r[n])}`,u++}this.privUri=e+l,this.privId=c||n.createNoDashGuid(),this.privConnectionMessageAdapter=new i.WebsocketMessageAdapter(this.privUri,this.id,this.privMessageFormatter,s,r,a)}async dispose(){this.privIsDisposed=!0,this.privConnectionMessageAdapter&&await this.privConnectionMessageAdapter.close()}isDisposed(){return this.privIsDisposed}get id(){return this.privId}get uri(){return this.privUri}state(){return this.privConnectionMessageAdapter.state}open(){return this.privConnectionMessageAdapter.open()}send(e){return this.privConnectionMessageAdapter.send(e)}read(){return this.privConnectionMessageAdapter.read()}get events(){return this.privConnectionMessageAdapter.events}}},2999:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Diagnostics=void 0;const n=r(2277),i=r(2307);class o{static SetLoggingLevel(e){this.privListener=new n.ConsoleLoggingListener(e),i.Events.instance.attachConsoleListener(this.privListener)}static StartConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!0)}static StopConsoleOutput(){this.privListener&&(this.privListener.enableConsoleOutput=!1)}static SetLogOutputPath(e){if("undefined"!==typeof window)throw new Error("File system logging not available in browser.");this.privListener&&(this.privListener.logPath=e)}static set onLogOutput(e){this.privListener&&(this.privListener.logCallback=e)}}t.Diagnostics=o,o.privListener=void 0},3051:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConfigImpl=t.SpeechConfig=void 0;const n=r(9859),i=r(260),o=r(8040);class s{constructor(){}static fromSubscription(e,t){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"region");const r=new a;return r.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),r.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),r}static fromEndpoint(e,t){i.Contracts.throwIfNull(e,"endpoint");const r=new a;return r.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),void 0!==t&&r.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),r}static fromHost(e,t){i.Contracts.throwIfNull(e,"hostName");const r=new a;return r.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&r.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),r}static fromAuthorizationToken(e,t){i.Contracts.throwIfNull(e,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(t,"region");const r=new a;return r.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r.setProperty(o.PropertyId.SpeechServiceConnection_IntentRegion,t),r.authorizationToken=e,r}close(){}}t.SpeechConfig=s;class a extends s{constructor(){super(),this.privProperties=new o.PropertyCollection,this.speechRecognitionLanguage="en-US",this.outputFormat=o.OutputFormat.Simple}get properties(){return this.privProperties}get endPoint(){return new URL(this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint))}get subscriptionKey(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Key)}get region(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}get authorizationToken(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}set speechRecognitionLanguage(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}get autoDetectSourceLanguages(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)}set autoDetectSourceLanguages(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e)}get outputFormat(){return o.OutputFormat[this.privProperties.getProperty(n.OutputFormatPropertyName,void 0)]}set outputFormat(e){this.privProperties.setProperty(n.OutputFormatPropertyName,o.OutputFormat[e])}get endpointId(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}setProperty(e,t){i.Contracts.throwIfNull(t,"value"),this.privProperties.setProperty(e,t)}getProperty(e,t){return this.privProperties.getProperty(e,t)}setProxy(e,t,r,n){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],r),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],n)}setServiceProperty(e,t){const r=JSON.parse(this.privProperties.getProperty(n.ServicePropertiesPropertyName,"{}"));r[e]=t,this.privProperties.setProperty(n.ServicePropertiesPropertyName,JSON.stringify(r))}setProfanity(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])}enableAudioLogging(){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true"),this.privProperties.setProperty(n.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Detailed])}enableDictation(){this.privProperties.setProperty(n.ForceDictationPropertyName,"true")}clone(){const e=new a;return e.privProperties=this.privProperties.clone(),e}get speechSynthesisLanguage(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return o.SpeechSynthesisOutputFormat[this.privProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}t.SpeechConfigImpl=a},3071:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RiffPcmEncoder=void 0;t.RiffPcmEncoder=class{constructor(e,t){this.privActualSampleRate=e,this.privDesiredSampleRate=t}encode(e){const t=this.downSampleAudioFrame(e,this.privActualSampleRate,this.privDesiredSampleRate);if(!t)return null;const r=2*t.length,n=new ArrayBuffer(r),i=new DataView(n);return this.floatTo16BitPCM(i,0,t),n}setString(e,t,r){for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}floatTo16BitPCM(e,t,r){for(let n=0;n<r.length;n++,t+=2){const i=Math.max(-1,Math.min(1,r[n]));e.setInt16(t,i<0?32768*i:32767*i,!0)}}downSampleAudioFrame(e,t,r){if(!e)return null;if(r===t||r>t)return e;const n=t/r,i=Math.round(e.length/n),o=new Float32Array(i);let s=0,a=0;for(;a<i;){const t=Math.round((a+1)*n);let r=0,i=0;for(;s<t&&s<e.length;)r+=e[s++],i++;o[a++]=r/i}return o}}},3151:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionState=void 0,function(e){e[e.None=0]="None",e[e.Connected=1]="Connected",e[e.Connecting=2]="Connecting",e[e.Disconnected=3]="Disconnected"}(t.ConnectionState||(t.ConnectionState={}))},3213:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisResult=void 0;t.TranslationSynthesisResult=class{constructor(e,t){this.privReason=e,this.privAudio=t}get audio(){return this.privAudio}get reason(){return this.privReason}}},3260:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEnd=void 0;const n=r(9859);class i{constructor(e){this.privSynthesisEnd=JSON.parse(e),this.privSynthesisEnd.SynthesisStatus&&(this.privSynthesisEnd.SynthesisStatus=n.SynthesisStatus[this.privSynthesisEnd.SynthesisStatus]),this.privSynthesisEnd.Status&&(this.privSynthesisEnd.SynthesisStatus=n.SynthesisStatus[this.privSynthesisEnd.Status])}static fromJSON(e){return new i(e)}get SynthesisStatus(){return this.privSynthesisEnd.SynthesisStatus}get FailureReason(){return this.privSynthesisEnd.FailureReason}}t.TranslationSynthesisEnd=i},3289:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisEventArgs=void 0;t.SpeechSynthesisEventArgs=class{constructor(e){this.privResult=e}get result(){return this.privResult}}},3309:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRestAdapter=void 0;const n=r(2277),i=r(8040),o=r(2679),s=r(8643);t.SynthesisRestAdapter=class{constructor(e,t){let r=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint,void 0);if(!r){const t=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,"westus"),n=o.ConnectionFactoryBase.getHostSuffix(t);r=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,`https://${t}.tts.speech${n}`)}this.privUri=`${r}/cognitiveservices/voices/list`;const s=n.RestConfigBase.requestOptions;this.privRestAdapter=new n.RestMessageAdapter(s),this.privAuthentication=t}getVoicesList(e){return this.privRestAdapter.setHeaders(s.HeaderNames.ConnectionId,e),this.privAuthentication.fetch(e).then((e=>(this.privRestAdapter.setHeaders(e.headerName,e.token),this.privRestAdapter.request(n.RestRequestType.Get,this.privUri))))}}},3337:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DetailedSpeechPhrase=void 0;const n=r(9859);class i{constructor(e,t){this.privDetailedSpeechPhrase=JSON.parse(e),this.privDetailedSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privDetailedSpeechPhrase.RecognitionStatus),this.updateOffsets(t)}static fromJSON(e,t){return new i(e,t)}updateOffsets(e){if(this.privDetailedSpeechPhrase.Offset+=e,this.privDetailedSpeechPhrase.NBest)for(const t of this.privDetailedSpeechPhrase.NBest){if(t.Words)for(const r of t.Words)r.Offset+=e;if(t.DisplayWords)for(const r of t.DisplayWords)r.Offset+=e}}asJson(){const e={...this.privDetailedSpeechPhrase};return JSON.stringify({...e,RecognitionStatus:n.RecognitionStatus[e.RecognitionStatus]})}get RecognitionStatus(){return this.privDetailedSpeechPhrase.RecognitionStatus}get NBest(){return this.privDetailedSpeechPhrase.NBest}get Duration(){return this.privDetailedSpeechPhrase.Duration}get Offset(){return this.privDetailedSpeechPhrase.Offset}get Language(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privDetailedSpeechPhrase.PrimaryLanguage?void 0:this.privDetailedSpeechPhrase.PrimaryLanguage.Confidence}get Text(){return this.privDetailedSpeechPhrase.NBest&&this.privDetailedSpeechPhrase.NBest[0]?this.privDetailedSpeechPhrase.NBest[0].Display||this.privDetailedSpeechPhrase.NBest[0].DisplayText:this.privDetailedSpeechPhrase.DisplayText}get SpeakerId(){return this.privDetailedSpeechPhrase.SpeakerId}mapRecognitionStatus(e){return"string"===typeof e?n.RecognitionStatus[e]:"number"===typeof e?e:void 0}}t.DetailedSpeechPhrase=i},3344:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisConnectionFactory=void 0;const n=r(2277),i=r(8040),o=r(2679),s=r(9859),a=r(8643),c=r(7237);t.SpeechSynthesisConnectionFactory=class{constructor(){this.synthesisUri="/cognitiveservices/websocket/v1"}create(e,t,r){let l=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint,void 0);const u=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,void 0),p=o.ConnectionFactoryBase.getHostSuffix(u),d=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,void 0),h=void 0===d?"tts":"voice",v=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,"wss://"+u+"."+h+".speech"+p),f={},g={};void 0!==t.token&&""!==t.token&&(g[t.headerName]=t.token),g[a.HeaderNames.ConnectionId]=r,void 0!==d&&""!==d&&(l&&-1!==l.search(c.QueryParameterNames.CustomVoiceDeploymentId)||(f[c.QueryParameterNames.CustomVoiceDeploymentId]=d)),e.avatarEnabled&&(l&&-1!==l.search(c.QueryParameterNames.EnableAvatar)||(f[c.QueryParameterNames.EnableAvatar]="true")),l||(l=v+this.synthesisUri),e.parameters.setProperty(i.PropertyId.SpeechServiceConnection_Url,l);const m="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(l,f,g,new s.WebsocketMessageFormatter,n.ProxyInfo.fromParameters(e.parameters),m,r)}}},3355:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AddedLmIntent=void 0;t.AddedLmIntent=class{constructor(e,t){this.modelImpl=e,this.intentName=t}}},3356:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EnumTranslation=void 0;const n=r(8040),i=r(9859);t.EnumTranslation=class{static implTranslateRecognitionResult(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=n.ResultReason.Canceled;switch(e){case i.RecognitionStatus.Success:r=n.ResultReason.RecognizedSpeech;break;case i.RecognitionStatus.EndOfDictation:r=t?n.ResultReason.RecognizedSpeech:n.ResultReason.NoMatch;break;case i.RecognitionStatus.NoMatch:case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:r=n.ResultReason.NoMatch;break;case i.RecognitionStatus.Error:case i.RecognitionStatus.BadRequest:case i.RecognitionStatus.Forbidden:default:r=n.ResultReason.Canceled}return r}static implTranslateCancelResult(e){let t=n.CancellationReason.EndOfStream;switch(e){case i.RecognitionStatus.Success:case i.RecognitionStatus.EndOfDictation:case i.RecognitionStatus.NoMatch:t=n.CancellationReason.EndOfStream;break;case i.RecognitionStatus.InitialSilenceTimeout:case i.RecognitionStatus.BabbleTimeout:case i.RecognitionStatus.Error:case i.RecognitionStatus.BadRequest:case i.RecognitionStatus.Forbidden:default:t=n.CancellationReason.Error}return t}static implTranslateCancelErrorCode(e){let t=n.CancellationErrorCode.NoError;switch(e){case i.RecognitionStatus.Error:t=n.CancellationErrorCode.ServiceError;break;case i.RecognitionStatus.TooManyRequests:t=n.CancellationErrorCode.TooManyRequests;break;case i.RecognitionStatus.BadRequest:t=n.CancellationErrorCode.BadRequestParameters;break;case i.RecognitionStatus.Forbidden:t=n.CancellationErrorCode.Forbidden;break;default:t=n.CancellationErrorCode.NoError}return t}static implTranslateErrorDetails(e){let t="The speech service encountered an internal error and could not continue.";switch(e){case n.CancellationErrorCode.Forbidden:t="The recognizer is using a free subscription that ran out of quota.";break;case n.CancellationErrorCode.BadRequestParameters:t="Invalid parameter or unsupported audio format in the request.";break;case n.CancellationErrorCode.TooManyRequests:t="The number of parallel requests exceeded the number of allowed concurrent transcriptions."}return t}}},3444:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageFormatter=void 0;const n=r(2307);t.WebsocketMessageFormatter=class{toConnectionMessage(e){const t=new n.Deferred;try{if(e.messageType===n.MessageType.Text){const r=e.textContent;let i={},o=null;if(r){const e=r.split("\r\n\r\n");e&&e.length>0&&(i=this.parseHeaders(e[0]),e.length>1&&(o=e[1]))}t.resolve(new n.ConnectionMessage(e.messageType,o,i,e.id))}else if(e.messageType===n.MessageType.Binary){const r=e.binaryContent;let i={},o=null;if(!r||r.byteLength<2)throw new Error("Invalid binary message format. Header length missing.");const s=new DataView(r),a=s.getInt16(0);if(r.byteLength<a+2)throw new Error("Invalid binary message format. Header content missing.");let c="";for(let e=0;e<a;e++)c+=String.fromCharCode(s.getInt8(e+2));i=this.parseHeaders(c),r.byteLength>a+2&&(o=r.slice(2+a)),t.resolve(new n.ConnectionMessage(e.messageType,o,i,e.id))}}catch(r){t.reject(`Error formatting the message. Error: ${r}`)}return t.promise}fromConnectionMessage(e){const t=new n.Deferred;try{if(e.messageType===n.MessageType.Text){const r=`${this.makeHeaders(e)}\r\n${e.textBody?e.textBody:""}`;t.resolve(new n.RawWebsocketMessage(n.MessageType.Text,r,e.id))}else if(e.messageType===n.MessageType.Binary){const r=this.makeHeaders(e),i=e.binaryBody,o=this.stringToArrayBuffer(r),s=new Int8Array(o),a=s.byteLength,c=new Int8Array(2+a+(i?i.byteLength:0));if(c[0]=a>>8&255,c[1]=255&a,c.set(s,2),i){const e=new Int8Array(i);c.set(e,2+a)}const l=c.buffer;t.resolve(new n.RawWebsocketMessage(n.MessageType.Binary,l,e.id))}}catch(r){t.reject(`Error formatting the message. ${r}`)}return t.promise}makeHeaders(e){let t="";if(e.headers)for(const r in e.headers)r&&(t+=`${r}: ${e.headers[r]}\r\n`);return t}parseHeaders(e){const t={};if(e){const r=e.match(/[^\r\n]+/g);if(t)for(const e of r)if(e){const r=e.indexOf(":"),n=r>0?e.substr(0,r).trim().toLowerCase():e,i=r>0&&e.length>r+1?e.substr(r+1).trim():"";t[n]=i}}return t}stringToArrayBuffer(e){const t=new ArrayBuffer(e.length),r=new DataView(t);for(let n=0;n<e.length;n++)r.setUint8(n,e.charCodeAt(n));return t}}},3468:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechTranslationConfigImpl=t.SpeechTranslationConfig=void 0;const n=r(9859),i=r(260),o=r(8040);class s extends o.SpeechConfig{constructor(){super()}static fromSubscription(e,t){i.Contracts.throwIfNullOrWhitespace(e,"subscriptionKey"),i.Contracts.throwIfNullOrWhitespace(t,"region");const r=new a;return r.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),r.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r}static fromAuthorizationToken(e,t){i.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),i.Contracts.throwIfNullOrWhitespace(t,"region");const r=new a;return r.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e),r.properties.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r}static fromHost(e,t){i.Contracts.throwIfNull(e,"hostName");const r=new a;return r.setProperty(o.PropertyId.SpeechServiceConnection_Host,e.protocol+"//"+e.hostname+(""===e.port?"":":"+e.port)),void 0!==t&&r.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),r}static fromEndpoint(e,t){i.Contracts.throwIfNull(e,"endpoint"),i.Contracts.throwIfNull(t,"subscriptionKey");const r=new a;return r.properties.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.href),r.properties.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),r}}t.SpeechTranslationConfig=s;class a extends s{constructor(){super(),this.privSpeechProperties=new o.PropertyCollection,this.outputFormat=o.OutputFormat.Simple}set authorizationToken(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}set speechRecognitionLanguage(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,e)}get speechRecognitionLanguage(){return this.privSpeechProperties.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage])}get subscriptionKey(){return this.privSpeechProperties.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_Key])}get outputFormat(){return o.OutputFormat[this.privSpeechProperties.getProperty(n.OutputFormatPropertyName,void 0)]}set outputFormat(e){this.privSpeechProperties.setProperty(n.OutputFormatPropertyName,o.OutputFormat[e])}get endpointId(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId)}set endpointId(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EndpointId,e)}addTargetLanguage(e){i.Contracts.throwIfNullOrWhitespace(e,"value");const t=this.targetLanguages;t.includes(e)||(t.push(e),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,t.join(",")))}get targetLanguages(){return void 0!==this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)?this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages).split(","):[]}get voiceName(){return this.getProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_TranslationVoice])}set voiceName(e){i.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,e)}get region(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_Region)}setProxy(e,t,r,n){this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyHostName],e),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPort],t),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyUserName],r),this.setProperty(o.PropertyId[o.PropertyId.SpeechServiceConnection_ProxyPassword],n)}getProperty(e,t){return this.privSpeechProperties.getProperty(e,t)}setProperty(e,t){this.privSpeechProperties.setProperty(e,t)}get properties(){return this.privSpeechProperties}close(){}setServiceProperty(e,t){const r=JSON.parse(this.privSpeechProperties.getProperty(n.ServicePropertiesPropertyName,"{}"));r[e]=t,this.privSpeechProperties.setProperty(n.ServicePropertiesPropertyName,JSON.stringify(r))}setProfanity(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_ProfanityOption,o.ProfanityOption[e])}enableAudioLogging(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_EnableAudioLogging,"true")}requestWordLevelTimestamps(){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"true")}enableDictation(){this.privSpeechProperties.setProperty(n.ForceDictationPropertyName,"true")}get speechSynthesisLanguage(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage)}set speechSynthesisLanguage(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthLanguage,e)}get speechSynthesisVoiceName(){return this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthVoice)}set speechSynthesisVoiceName(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthVoice,e)}get speechSynthesisOutputFormat(){return o.SpeechSynthesisOutputFormat[this.privSpeechProperties.getProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)]}set speechSynthesisOutputFormat(e){this.privSpeechProperties.setProperty(o.PropertyId.SpeechServiceConnection_SynthOutputFormat,o.SpeechSynthesisOutputFormat[e])}}t.SpeechTranslationConfigImpl=a},3496:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriptionResult=void 0;const n=r(8040);class i extends n.RecognitionResult{constructor(e,t,r,n,i,o,s,a,c,l,u){super(e,t,r,n,i,o,s,c,l,u),this.privSpeakerId=a}get speakerId(){return this.privSpeakerId}}t.ConversationTranscriptionResult=i},3505:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberConnectionFactory=void 0;const n=r(2277),i=r(8040),o=r(2679),s=r(9859),a=r(8643),c=r(7237);class l extends o.ConnectionFactoryBase{constructor(){super(...arguments),this.multiaudioRelativeUri="/speech/recognition/multiaudio"}create(e,t,r){let c=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint,void 0);const l=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,"centralus"),u="wss://transcribe."+l+".cts.speech"+o.ConnectionFactoryBase.getHostSuffix(l)+this.multiaudioRelativeUri,p=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,u),d={};this.setQueryParams(d,e,c),c||(c=p);const h={};void 0!==t.token&&""!==t.token&&(h[t.headerName]=t.token),h[a.HeaderNames.ConnectionId]=r,e.parameters.setProperty(i.PropertyId.SpeechServiceConnection_Url,c);const v="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(c,d,h,new s.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),v,r)}setQueryParams(e,t,r){const n=t.parameters.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,void 0),o=t.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);n&&!(c.QueryParameterNames.CustomSpeechDeploymentId in e)&&(e[c.QueryParameterNames.CustomSpeechDeploymentId]=n),o&&!(c.QueryParameterNames.Language in e)&&(e[c.QueryParameterNames.Language]=o);const a="true"===t.parameters.getProperty(i.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase(),l=t.parameters.getProperty(s.OutputFormatPropertyName,i.OutputFormat[i.OutputFormat.Simple])!==i.OutputFormat[i.OutputFormat.Simple];(a||l)&&(e[c.QueryParameterNames.Format]=i.OutputFormat[i.OutputFormat.Detailed].toLowerCase()),this.setCommonUrlParams(t,e,r)}}t.TranscriberConnectionFactory=l},3525:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RequestSession=void 0;const n=r(2307),i=r(4142),o=r(4933);t.RequestSession=class{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privIsAudioNodeDetached=!1,this.privIsRecognizing=!1,this.privIsSpeechEnded=!1,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privHypothesisReceived=!1,this.privBytesSent=0,this.privRecognitionBytesSent=0,this.privRecogNumber=0,this.privInTurn=!1,this.privConnectionAttempts=0,this.privAudioSourceId=e,this.privRequestId=n.createNoDashGuid(),this.privAudioNodeId=n.createNoDashGuid(),this.privTurnDeferral=new n.Deferred,this.privTurnDeferral.resolve()}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get audioNodeId(){return this.privAudioNodeId}get turnCompletionPromise(){return this.privTurnDeferral.promise}get isSpeechEnded(){return this.privIsSpeechEnded}get isRecognizing(){return this.privIsRecognizing}get currentTurnAudioOffset(){return this.privTurnStartAudioOffset}get recogNumber(){return this.privRecogNumber}get numConnectionAttempts(){return this.privConnectionAttempts}get bytesSent(){return this.privBytesSent}get recognitionBytesSent(){return this.privRecognitionBytesSent}listenForServiceTelemetry(e){this.privServiceTelemetryListener&&this.privDetachables.push(e.attachListener(this.privServiceTelemetryListener))}startNewRecognition(){this.privRecognitionBytesSent=0,this.privIsSpeechEnded=!1,this.privIsRecognizing=!0,this.privTurnStartAudioOffset=0,this.privLastRecoOffset=0,this.privRecogNumber++,this.privServiceTelemetryListener=new o.ServiceTelemetryListener(this.privRequestId,this.privAudioSourceId,this.privAudioNodeId),this.onEvent(new i.RecognitionTriggeredEvent(this.requestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}async onAudioSourceAttachCompleted(e,t){this.privAudioNode=e,this.privIsAudioNodeDetached=!1,t?await this.onComplete():this.onEvent(new i.ListeningStartedEvent(this.privRequestId,this.privSessionId,this.privAudioSourceId,this.privAudioNodeId))}onPreConnectionStart(e,t){this.privAuthFetchEventId=e,this.privSessionId=t,this.onEvent(new i.ConnectingToServiceEvent(this.privRequestId,this.privAuthFetchEventId,this.privSessionId))}async onAuthCompleted(e){e&&await this.onComplete()}async onConnectionEstablishCompleted(e,t){if(200===e)return this.onEvent(new i.RecognitionStartedEvent(this.requestId,this.privAudioSourceId,this.privAudioNodeId,this.privAuthFetchEventId,this.privSessionId)),this.privAudioNode&&this.privAudioNode.replay(),this.privTurnStartAudioOffset=this.privLastRecoOffset,void(this.privBytesSent=0);403===e&&await this.onComplete()}async onServiceTurnEndResponse(e){this.privTurnDeferral.resolve(),!e||this.isSpeechEnded?(await this.onComplete(),this.privInTurn=!1):(this.privTurnStartAudioOffset=this.privLastRecoOffset,this.privAudioNode.replay())}onSpeechContext(){this.privRequestId=n.createNoDashGuid()}onServiceTurnStartResponse(){this.privTurnDeferral&&this.privInTurn&&(this.privTurnDeferral.reject("Another turn started before current completed."),this.privTurnDeferral.promise.then().catch((()=>{}))),this.privInTurn=!0,this.privTurnDeferral=new n.Deferred}onHypothesis(e){this.privHypothesisReceived||(this.privHypothesisReceived=!0,this.privServiceTelemetryListener.hypothesisReceived(this.privAudioNode.findTimeAtOffset(e)))}onPhraseRecognized(e){this.privServiceTelemetryListener.phraseReceived(this.privAudioNode.findTimeAtOffset(e)),this.onServiceRecognized(e)}onServiceRecognized(e){this.privLastRecoOffset=e,this.privHypothesisReceived=!1,this.privAudioNode.shrinkBuffers(e),this.privConnectionAttempts=0}onAudioSent(e){this.privBytesSent+=e,this.privRecognitionBytesSent+=e}onRetryConnection(){this.privConnectionAttempts++}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach();this.privServiceTelemetryListener&&this.privServiceTelemetryListener.dispose(),this.privIsRecognizing=!1}}getTelemetry(){return this.privServiceTelemetryListener.hasTelemetry?this.privServiceTelemetryListener.getTelemetry():null}async onStopRecognizing(){await this.onComplete()}onSpeechEnded(){this.privIsSpeechEnded=!0}onEvent(e){this.privServiceTelemetryListener&&this.privServiceTelemetryListener.onEvent(e),n.Events.instance.onEvent(e)}async onComplete(){this.privIsRecognizing&&(this.privIsRecognizing=!1,await this.detachAudioNode())}async detachAudioNode(){this.privIsAudioNodeDetached||(this.privIsAudioNodeDetached=!0,this.privAudioNode&&await this.privAudioNode.detach())}}},3542:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConfigImpl=t.DialogServiceConfig=void 0;const n=r(260),i=r(8040);class o{constructor(){}set applicationId(e){}static get DialogTypes(){return{BotFramework:"bot_framework",CustomCommands:"custom_commands"}}}t.DialogServiceConfig=o;t.DialogServiceConfigImpl=class extends o{constructor(){super(),this.privSpeechConfig=new i.SpeechConfigImpl}get properties(){return this.privSpeechConfig.properties}get speechRecognitionLanguage(){return this.privSpeechConfig.speechRecognitionLanguage}set speechRecognitionLanguage(e){n.Contracts.throwIfNullOrWhitespace(e,"value"),this.privSpeechConfig.speechRecognitionLanguage=e}get outputFormat(){return this.privSpeechConfig.outputFormat}set outputFormat(e){this.privSpeechConfig.outputFormat=e}setProperty(e,t){this.privSpeechConfig.setProperty(e,t)}getProperty(e,t){return this.privSpeechConfig.getProperty(e)}setProxy(e,t,r,n){this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyHostName,e),this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyPort,`${t}`),r&&this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyUserName,r),n&&this.setProperty(i.PropertyId.SpeechServiceConnection_ProxyPassword,n)}setServiceProperty(e,t,r){this.privSpeechConfig.setServiceProperty(e,t)}close(){}}},3551:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CommandResponsePayload=void 0;class r{constructor(e){this.privCommandResponse=(e=>JSON.parse(e))(e)}get type(){return this.privCommandResponse.type}get command(){return this.privCommandResponse.command}get id(){return this.privCommandResponse.id}get nickname(){return this.privCommandResponse.nickname}get participantId(){return this.privCommandResponse.participantId}get roomid(){return this.privCommandResponse.roomid}get value(){return this.privCommandResponse.value}get token(){return this.privCommandResponse.token}static fromJSON(e){return new r(e)}}t.CommandResponsePayload=r},3552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionCanceledEventArgs=void 0;const n=r(8040);class i extends n.IntentRecognitionEventArgs{constructor(e,t,r,n,i,o){super(n,i,o),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=r}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}t.IntentRecognitionCanceledEventArgs=i},3593:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RestConfigBase=void 0;class r{static get requestOptions(){return r.privDefaultRequestOptions}static get configParams(){return r.privDefaultParams}static get restErrors(){return r.privRestErrors}}t.RestConfigBase=r,r.privDefaultRequestOptions={headers:{Accept:"application/json"},ignoreCache:!1,timeout:1e4},r.privRestErrors={authInvalidSubscriptionKey:"You must specify either an authentication token to use, or a Cognitive Speech subscription key.",authInvalidSubscriptionRegion:"You must specify the Cognitive Speech region to use.",invalidArgs:"Required input not found: {arg}.",invalidCreateJoinConversationResponse:"Creating/Joining conversation failed with HTTP {status}.",invalidParticipantRequest:"The requested participant was not found.",permissionDeniedConnect:"Required credentials not found.",permissionDeniedConversation:"Invalid operation: only the host can {command} the conversation.",permissionDeniedParticipant:"Invalid operation: only the host can {command} a participant.",permissionDeniedSend:"Invalid operation: the conversation is not in a connected state.",permissionDeniedStart:"Invalid operation: there is already an active conversation."},r.privDefaultParams={apiVersion:"api-version",authorization:"Authorization",clientAppId:"X-ClientAppId",contentTypeKey:"Content-Type",correlationId:"X-CorrelationId",languageCode:"language",nickname:"nickname",profanity:"profanity",requestId:"X-RequestId",roomId:"roomid",sessionToken:"token",subscriptionKey:"Ocp-Apim-Subscription-Key",subscriptionRegion:"Ocp-Apim-Subscription-Region",token:"X-CapitoToken"}},3643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},3678:()=>{},3707:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t,r){super(r),this.privJsonResult=e,this.privEventName=t}get jsonString(){return this.privJsonResult}get eventName(){return this.privEventName}}t.ServiceEventArgs=i},3708:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!==typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},3833:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OutputFormat=void 0,function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.OutputFormat||(t.OutputFormat={}))},3903:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisStartedEvent=t.ConnectingToSynthesisServiceEvent=t.SynthesisTriggeredEvent=t.SpeechSynthesisEvent=void 0;const n=r(2307);class i extends n.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.EventType.Info),this.privRequestId=t}get requestId(){return this.privRequestId}}t.SpeechSynthesisEvent=i;t.SynthesisTriggeredEvent=class extends i{constructor(e,t,r){super("SynthesisTriggeredEvent",e),this.privSessionAudioDestinationId=t,this.privTurnAudioDestinationId=r}get audioSessionDestinationId(){return this.privSessionAudioDestinationId}get audioTurnDestinationId(){return this.privTurnAudioDestinationId}};t.ConnectingToSynthesisServiceEvent=class extends i{constructor(e,t){super("ConnectingToSynthesisServiceEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}};t.SynthesisStartedEvent=class extends i{constructor(e,t){super("SynthesisStartedEvent",e),this.privAuthFetchEventId=t}get authFetchEventId(){return this.privAuthFetchEventId}}},3906:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ResultReason=void 0,function(e){e[e.NoMatch=0]="NoMatch",e[e.Canceled=1]="Canceled",e[e.RecognizingSpeech=2]="RecognizingSpeech",e[e.RecognizedSpeech=3]="RecognizedSpeech",e[e.RecognizedKeyword=4]="RecognizedKeyword",e[e.RecognizingIntent=5]="RecognizingIntent",e[e.RecognizedIntent=6]="RecognizedIntent",e[e.TranslatingSpeech=7]="TranslatingSpeech",e[e.TranslatedSpeech=8]="TranslatedSpeech",e[e.SynthesizingAudio=9]="SynthesizingAudio",e[e.SynthesizingAudioCompleted=10]="SynthesizingAudioCompleted",e[e.SynthesizingAudioStarted=11]="SynthesizingAudioStarted",e[e.EnrollingVoiceProfile=12]="EnrollingVoiceProfile",e[e.EnrolledVoiceProfile=13]="EnrolledVoiceProfile",e[e.RecognizedSpeakers=14]="RecognizedSpeakers",e[e.RecognizedSpeaker=15]="RecognizedSpeaker",e[e.ResetVoiceProfile=16]="ResetVoiceProfile",e[e.DeletedVoiceProfile=17]="DeletedVoiceProfile",e[e.VoicesListRetrieved=18]="VoicesListRetrieved",e[e.TranslatingParticipantSpeech=19]="TranslatingParticipantSpeech",e[e.TranslatedParticipantSpeech=20]="TranslatedParticipantSpeech",e[e.TranslatedInstantMessage=21]="TranslatedInstantMessage",e[e.TranslatedParticipantInstantMessage=22]="TranslatedParticipantInstantMessage"}(t.ResultReason||(t.ResultReason={}))},3911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisVisemeEventArgs=void 0;t.SpeechSynthesisVisemeEventArgs=class{constructor(e,t,r){this.privAudioOffset=e,this.privVisemeId=t,this.privAnimation=r}get audioOffset(){return this.privAudioOffset}get visemeId(){return this.privVisemeId}get animation(){return this.privAnimation}}},3912:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PcmRecorder=void 0;const n=r(2307);t.PcmRecorder=class{constructor(e){this.privStopInputOnRelease=e}record(e,t,r){const i=new n.RiffPcmEncoder(e.sampleRate,16e3),o=e.createMediaStreamSource(t),s=()=>{const n=(()=>{let t=0;try{return e.createScriptProcessor(t,1,1)}catch(r){t=2048;let n=e.sampleRate;for(;t<16384&&n>=32e3;)t<<=1,n>>=1;return e.createScriptProcessor(t,1,1)}})();n.onaudioprocess=e=>{const t=e.inputBuffer.getChannelData(0);if(r&&!r.isClosed){const e=i.encode(t);e&&r.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},o.connect(n),n.connect(e.destination),this.privMediaResources={scriptProcessorNode:n,source:o,stream:t}},a=!!this.privSpeechProcessorScript&&"ignore"===this.privSpeechProcessorScript.toLowerCase();if(e.audioWorklet&&!a){if(!this.privSpeechProcessorScript){const e=new Blob(["class SP extends AudioWorkletProcessor {\n                    constructor(options) {\n                      super(options);\n                    }\n                    process(inputs, outputs) {\n                      const input = inputs[0];\n                      const output = [];\n                      for (let channel = 0; channel < input.length; channel += 1) {\n                        output[channel] = input[channel];\n                      }\n                      this.port.postMessage(output[0]);\n                      return true;\n                    }\n                  }\n                  registerProcessor('speech-processor', SP);"],{type:"application/javascript; charset=utf-8"});this.privSpeechProcessorScript=URL.createObjectURL(e)}e.audioWorklet.addModule(this.privSpeechProcessorScript).then((()=>{const n=new AudioWorkletNode(e,"speech-processor");n.port.onmessage=e=>{const t=e.data;if(r&&!r.isClosed){const e=i.encode(t);e&&r.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}},o.connect(n),n.connect(e.destination),this.privMediaResources={scriptProcessorNode:n,source:o,stream:t}})).catch((()=>{s()}))}else try{s()}catch(c){throw new Error(`Unable to start audio worklet node for PCMRecorder: ${c}`)}}releaseMediaResources(e){this.privMediaResources&&(this.privMediaResources.scriptProcessorNode&&(this.privMediaResources.scriptProcessorNode.disconnect(e.destination),this.privMediaResources.scriptProcessorNode=null),this.privMediaResources.source&&(this.privMediaResources.source.disconnect(),this.privStopInputOnRelease&&this.privMediaResources.stream.getTracks().forEach((e=>e.stop())),this.privMediaResources.source=null))}setWorkletUrl(e){this.privSpeechProcessorScript=e}}},4057:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplayableAudioNode=void 0;t.ReplayableAudioNode=class{constructor(e,t){this.privBuffers=[],this.privReplayOffset=0,this.privLastShrinkOffset=0,this.privBufferStartOffset=0,this.privBufferSerial=0,this.privBufferedBytes=0,this.privReplay=!1,this.privLastChunkAcquiredTime=0,this.privAudioNode=e,this.privBytesPerSecond=t}id(){return this.privAudioNode.id()}read(){if(this.privReplay&&0!==this.privBuffers.length){const e=this.privReplayOffset-this.privBufferStartOffset;let t=Math.round(e*this.privBytesPerSecond*1e-7);0!==t%2&&t++;let r=0;for(;r<this.privBuffers.length&&t>=this.privBuffers[r].chunk.buffer.byteLength;)t-=this.privBuffers[r++].chunk.buffer.byteLength;if(r<this.privBuffers.length){const e=this.privBuffers[r].chunk.buffer.slice(t);return this.privReplayOffset+=e.byteLength/this.privBytesPerSecond*1e7,r===this.privBuffers.length-1&&(this.privReplay=!1),Promise.resolve({buffer:e,isEnd:!1,timeReceived:this.privBuffers[r].chunk.timeReceived})}}return this.privAudioNode.read().then((e=>(e&&e.buffer&&(this.privBuffers.push(new r(e,this.privBufferSerial++,this.privBufferedBytes)),this.privBufferedBytes+=e.buffer.byteLength),e)))}detach(){return this.privBuffers=void 0,this.privAudioNode.detach()}replay(){this.privBuffers&&0!==this.privBuffers.length&&(this.privReplay=!0,this.privReplayOffset=this.privLastShrinkOffset)}shrinkBuffers(e){if(void 0===this.privBuffers||0===this.privBuffers.length)return;this.privLastShrinkOffset=e;const t=e-this.privBufferStartOffset;let r=Math.round(t*this.privBytesPerSecond*1e-7),n=0;for(;n<this.privBuffers.length&&r>=this.privBuffers[n].chunk.buffer.byteLength;)r-=this.privBuffers[n++].chunk.buffer.byteLength;this.privBufferStartOffset=Math.round(e-r/this.privBytesPerSecond*1e7),this.privBuffers=this.privBuffers.slice(n)}findTimeAtOffset(e){if(e<this.privBufferStartOffset||void 0===this.privBuffers)return 0;for(const t of this.privBuffers){const r=t.byteOffset/this.privBytesPerSecond*1e7,n=r+t.chunk.buffer.byteLength/this.privBytesPerSecond*1e7;if(e>=r&&e<=n)return t.chunk.timeReceived}return 0}};class r{constructor(e,t,r){this.chunk=e,this.serial=t,this.byteOffset=r}}},4065:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognitionEventArgs=void 0;const n=r(8040);class i extends n.RecognitionEventArgs{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}t.IntentRecognitionEventArgs=i},4142:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEndedEvent=t.RecognitionCompletionStatus=t.RecognitionStartedEvent=t.ConnectingToServiceEvent=t.ListeningStartedEvent=t.RecognitionTriggeredEvent=t.SpeechRecognitionEvent=void 0;const n=r(2307);class i extends n.PlatformEvent{constructor(e,t,r){super(e,arguments.length>3&&void 0!==arguments[3]?arguments[3]:n.EventType.Info),this.privRequestId=t,this.privSessionId=r}get requestId(){return this.privRequestId}get sessionId(){return this.privSessionId}}t.SpeechRecognitionEvent=i;t.RecognitionTriggeredEvent=class extends i{constructor(e,t,r,n){super("RecognitionTriggeredEvent",e,t),this.privAudioSourceId=r,this.privAudioNodeId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}};t.ListeningStartedEvent=class extends i{constructor(e,t,r,n){super("ListeningStartedEvent",e,t),this.privAudioSourceId=r,this.privAudioNodeId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}};t.ConnectingToServiceEvent=class extends i{constructor(e,t,r){super("ConnectingToServiceEvent",e,r),this.privAuthFetchEventid=t}get authFetchEventid(){return this.privAuthFetchEventid}};var o;t.RecognitionStartedEvent=class extends i{constructor(e,t,r,n,i){super("RecognitionStartedEvent",e,i),this.privAudioSourceId=t,this.privAudioNodeId=r,this.privAuthFetchEventId=n}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}},function(e){e[e.Success=0]="Success",e[e.AudioSourceError=1]="AudioSourceError",e[e.AudioSourceTimeout=2]="AudioSourceTimeout",e[e.AuthTokenFetchError=3]="AuthTokenFetchError",e[e.AuthTokenFetchTimeout=4]="AuthTokenFetchTimeout",e[e.UnAuthorized=5]="UnAuthorized",e[e.ConnectTimeout=6]="ConnectTimeout",e[e.ConnectError=7]="ConnectError",e[e.ClientRecognitionActivityTimeout=8]="ClientRecognitionActivityTimeout",e[e.UnknownError=9]="UnknownError"}(o=t.RecognitionCompletionStatus||(t.RecognitionCompletionStatus={}));t.RecognitionEndedEvent=class extends i{constructor(e,t,r,i,s,a,c,l){super("RecognitionEndedEvent",e,s,c===o.Success?n.EventType.Info:n.EventType.Error),this.privAudioSourceId=t,this.privAudioNodeId=r,this.privAuthFetchEventId=i,this.privStatus=c,this.privError=l,this.privServiceTag=a}get audioSourceId(){return this.privAudioSourceId}get audioNodeId(){return this.privAudioNodeId}get authFetchEventId(){return this.privAuthFetchEventId}get serviceTag(){return this.privServiceTag}get status(){return this.privStatus}get error(){return this.privError}}},4148:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetails=void 0;const n=r(9859),i=r(8293),o=r(8040);class s extends i.CancellationDetailsBase{constructor(e,t,r){super(e,t,r)}static fromResult(e){let t=o.CancellationReason.Error,r=o.CancellationErrorCode.NoError;if(e instanceof o.RecognitionResult&&e.json){const r=n.SimpleSpeechPhrase.fromJSON(e.json,0);t=n.EnumTranslation.implTranslateCancelResult(r.RecognitionStatus)}return e.properties&&(r=o.CancellationErrorCode[e.properties.getProperty(n.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.NoError])]),new s(t,e.errorDetails||n.EnumTranslation.implTranslateErrorDetails(r),r)}}t.CancellationDetails=s},4149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DynamicGrammarBuilder=void 0;t.DynamicGrammarBuilder=class{addPhrase(e){this.privPhrases||(this.privPhrases=[]),e instanceof Array?this.privPhrases=this.privPhrases.concat(e):this.privPhrases.push(e)}clearPhrases(){this.privPhrases=void 0}addReferenceGrammar(e){this.privGrammars||(this.privGrammars=[]),e instanceof Array?this.privGrammars=this.privGrammars.concat(e):this.privGrammars.push(e)}clearGrammars(){this.privGrammars=void 0}generateGrammarObject(){if(void 0===this.privGrammars&&void 0===this.privPhrases)return;const e={};if(e.ReferenceGrammars=this.privGrammars,void 0!==this.privPhrases&&0!==this.privPhrases.length){const t=[];this.privPhrases.forEach((e=>{t.push({Text:e})})),e.Groups=[{Type:"Generic",Items:t}]}return e}}},4175:(e,t)=>{"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.AudioStreamFormatImpl=t.AudioStreamFormat=t.AudioFormatTag=void 0,function(e){e[e.PCM=1]="PCM",e[e.MuLaw=2]="MuLaw",e[e.Siren=3]="Siren",e[e.MP3=4]="MP3",e[e.SILKSkype=5]="SILKSkype",e[e.OGG_OPUS=6]="OGG_OPUS",e[e.WEBM_OPUS=7]="WEBM_OPUS",e[e.ALaw=8]="ALaw",e[e.FLAC=9]="FLAC",e[e.OPUS=10]="OPUS",e[e.AMR_WB=11]="AMR_WB",e[e.G722=12]="G722"}(r=t.AudioFormatTag||(t.AudioFormatTag={}));class n{static getDefaultInputFormat(){return i.getDefaultInputFormat()}static getWaveFormat(e,t,r,n){return new i(e,t,r,n)}static getWaveFormatPCM(e,t,r){return new i(e,t,r)}}t.AudioStreamFormat=n;class i extends n{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16e3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:16,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:r.PCM;super();let o=!0;switch(i){case r.PCM:this.formatTag=1;break;case r.ALaw:this.formatTag=6;break;case r.MuLaw:this.formatTag=7;break;default:o=!1}if(this.bitsPerSample=t,this.samplesPerSec=e,this.channels=n,this.avgBytesPerSec=this.samplesPerSec*this.channels*(this.bitsPerSample/8),this.blockAlign=this.channels*Math.max(this.bitsPerSample,8),o){this.privHeader=new ArrayBuffer(44);const e=new DataView(this.privHeader);this.setString(e,0,"RIFF"),e.setUint32(4,0,!0),this.setString(e,8,"WAVEfmt "),e.setUint32(16,16,!0),e.setUint16(20,this.formatTag,!0),e.setUint16(22,this.channels,!0),e.setUint32(24,this.samplesPerSec,!0),e.setUint32(28,this.avgBytesPerSec,!0),e.setUint16(32,this.channels*(this.bitsPerSample/8),!0),e.setUint16(34,this.bitsPerSample,!0),this.setString(e,36,"data"),e.setUint32(40,0,!0)}}static getDefaultInputFormat(){return new i}static getAudioContext(e){const t=window.AudioContext||window.webkitAudioContext||!1;if(t)return void 0!==e&&navigator.mediaDevices.getSupportedConstraints().sampleRate?new t({sampleRate:e}):new t;throw new Error("Browser does not support Web Audio API (AudioContext is not available).")}close(){}get header(){return this.privHeader}setString(e,t,r){for(let n=0;n<r.length;n++)e.setUint8(t+n,r.charCodeAt(n))}}t.AudioStreamFormatImpl=i},4183:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriptionServiceRecognizer=void 0;const n=r(2307),i=r(8040),o=r(9859),s=r(222);class a extends o.ConversationServiceRecognizer{constructor(e,t,r,n,o){super(e,t,r,n,o),this.privTranscriberRecognizer=o,this.sendPrePayloadJSONOverride=e=>this.sendTranscriptionStartJSON(e),"true"===this.privRecognizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps)&&this.privSpeechContext.setWordLevelTimings()}async sendSpeechEventAsync(e,t){if(this.privRequestSession.isRecognizing){const r=await this.fetchConnection();await this.sendSpeechEvent(r,this.createSpeechEventPayload(e,t))}}async sendMeetingSpeechEventAsync(e,t){if(this.privRequestSession.isRecognizing){const r=await this.fetchConnection();await this.sendSpeechEvent(r,this.createMeetingSpeechEventPayload(e,t))}}processTypeSpecificMessages(e){return this.processSpeechMessages(e)}handleRecognizedCallback(e,t,r){try{const o=new i.SpeechRecognitionEventArgs(e,t,r);if(this.privTranscriberRecognizer.recognized(this.privTranscriberRecognizer,o),this.privSuccessCallback){try{this.privSuccessCallback(e)}catch(n){this.privErrorCallback&&this.privErrorCallback(n)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}catch(o){}}handleRecognizingCallback(e,t,r){try{const n=new i.SpeechRecognitionEventArgs(e,t,r);this.privTranscriberRecognizer.recognizing(this.privTranscriberRecognizer,n)}catch(n){}}cancelRecognition(e,t,r,n,s){const a=new i.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[n]),this.privTranscriberRecognizer.IsMeetingRecognizer()){if(this.privTranscriberRecognizer.canceled){const t=new i.MeetingTranscriptionCanceledEventArgs(r,s,n,void 0,e);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,t)}catch{}}}else if(this.privTranscriberRecognizer.canceled){const t=new i.ConversationTranscriptionCanceledEventArgs(r,s,n,void 0,e);try{this.privTranscriberRecognizer.canceled(this.privTranscriberRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new i.SpeechRecognitionResult(t,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}async sendTranscriptionStartJSON(e){if(await this.sendSpeechContext(e,!0),this.privTranscriberRecognizer.IsMeetingRecognizer()){const t=this.privTranscriberRecognizer.getMeetingInfo(),r=this.createMeetingSpeechEventPayload(t,"start");await this.sendSpeechEvent(e,r)}else{const t=this.privTranscriberRecognizer.getConversationInfo(),r=this.createSpeechEventPayload(t,"start");await this.sendSpeechEvent(e,r)}await this.sendWaveHeader(e)}sendSpeechEvent(e,t){const r=JSON.stringify(t);if(r)return e.send(new s.SpeechConnectionMessage(n.MessageType.Text,"speech.event",this.privRequestSession.requestId,"application/json",r))}createSpeechEventPayload(e,t){const r={id:"meeting",name:t,meeting:e.conversationProperties};return r.meeting.id=e.id,r.meeting.attendees=e.participants,r}createMeetingSpeechEventPayload(e,t){const r={id:"meeting",name:t,meeting:e.meetingProperties};return r.meeting.id=e.id,r.meeting.attendees=e.participants,r}}t.TranscriptionServiceRecognizer=a},4202:(e,t)=>{"use strict";var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),c=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),h=Symbol.iterator;var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},f=Object.assign,g={};function m(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||v}function y(){}function S(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||v}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var C=S.prototype=new y;C.constructor=S,f(C,m.prototype),C.isPureReactComponent=!0;var b=Array.isArray,P=Object.prototype.hasOwnProperty,w={current:null},R={key:!0,ref:!0,__self:!0,__source:!0};function I(e,t,n){var i,o={},s=null,a=null;if(null!=t)for(i in void 0!==t.ref&&(a=t.ref),void 0!==t.key&&(s=""+t.key),t)P.call(t,i)&&!R.hasOwnProperty(i)&&(o[i]=t[i]);var c=arguments.length-2;if(1===c)o.children=n;else if(1<c){for(var l=Array(c),u=0;u<c;u++)l[u]=arguments[u+2];o.children=l}if(e&&e.defaultProps)for(i in c=e.defaultProps)void 0===o[i]&&(o[i]=c[i]);return{$$typeof:r,type:e,key:s,ref:a,props:o,_owner:w.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function A(e,t,i,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var c=!1;if(null===e)c=!0;else switch(a){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case r:case n:c=!0}}if(c)return s=s(c=e),e=""===o?"."+x(c,0):o,b(s)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),A(s,t,i,"",(function(e){return e}))):null!=s&&(E(s)&&(s=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(s,i+(!s.key||c&&c.key===s.key?"":(""+s.key).replace(T,"$&/")+"/")+e)),t.push(s)),1;if(c=0,o=""===o?".":o+":",b(e))for(var l=0;l<e.length;l++){var u=o+x(a=e[l],l);c+=A(a,t,i,u,s)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),l=0;!(a=e.next()).done;)c+=A(a=a.value,t,i,u=o+x(a,l++),s);else if("object"===a)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function O(e,t,r){if(null==e)return e;var n=[],i=0;return A(e,n,"","",(function(e){return t.call(r,e,i++)})),n}function k(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var N={current:null},M={transition:null},D={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:M,ReactCurrentOwner:w};function _(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=m,t.Fragment=i,t.Profiler=s,t.PureComponent=S,t.StrictMode=o,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.act=_,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=f({},e.props),o=e.key,s=e.ref,a=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,a=w.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)P.call(t,l)&&!R.hasOwnProperty(l)&&(i[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){c=Array(l);for(var u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}return{$$typeof:r,type:e.type,key:o,ref:s,props:i,_owner:a}},t.createContext=function(e){return(e={$$typeof:c,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:a,_context:e},e.Consumer=e},t.createElement=I,t.createFactory=function(e){var t=I.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:l,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:k}},t.memo=function(e,t){return{$$typeof:p,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=M.transition;M.transition={};try{e()}finally{M.transition=t}},t.unstable_act=_,t.useCallback=function(e,t){return N.current.useCallback(e,t)},t.useContext=function(e){return N.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return N.current.useDeferredValue(e)},t.useEffect=function(e,t){return N.current.useEffect(e,t)},t.useId=function(){return N.current.useId()},t.useImperativeHandle=function(e,t,r){return N.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return N.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return N.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return N.current.useMemo(e,t)},t.useReducer=function(e,t,r){return N.current.useReducer(e,t,r)},t.useRef=function(e){return N.current.useRef(e)},t.useState=function(e){return N.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return N.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return N.current.useTransition()},t.version="18.3.1"},4218:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MicAudioSource=t.AudioWorkletSourceURLPropertyName=void 0;const n=r(9859),i=r(2307),o=r(4175);t.AudioWorkletSourceURLPropertyName="MICROPHONE-WorkletSourceUrl";class s{constructor(e,t,r,n){this.privRecorder=e,this.deviceId=t,this.privStreams={},this.privOutputChunkSize=s.AUDIOFORMAT.avgBytesPerSec/10,this.privId=r||i.createNoDashGuid(),this.privEvents=new i.EventSource,this.privMediaStream=n||null,this.privIsClosing=!1}get format(){return Promise.resolve(s.AUDIOFORMAT)}turnOn(){if(this.privInitializeDeferral)return this.privInitializeDeferral.promise;this.privInitializeDeferral=new i.Deferred;try{this.createAudioContext()}catch(r){if(r instanceof Error){const e=r;this.privInitializeDeferral.reject(e.name+": "+e.message)}else this.privInitializeDeferral.reject(r);return this.privInitializeDeferral.promise}const e=window.navigator;let t=e.getUserMedia||e.webkitGetUserMedia||e.mozGetUserMedia||e.msGetUserMedia;if(e.mediaDevices&&(t=(t,r,n)=>{e.mediaDevices.getUserMedia(t).then(r).catch(n)}),t){const e=()=>{this.onEvent(new i.AudioSourceInitializingEvent(this.privId)),this.privMediaStream&&this.privMediaStream.active?(this.onEvent(new i.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()):t({audio:!this.deviceId||{deviceId:this.deviceId},video:!1},(e=>{this.privMediaStream=e,this.onEvent(new i.AudioSourceReadyEvent(this.privId)),this.privInitializeDeferral.resolve()}),(e=>{const t=`Error occurred during microphone initialization: ${e}`;this.privInitializeDeferral.reject(t),this.onEvent(new i.AudioSourceErrorEvent(this.privId,t))}))};"suspended"===this.privContext.state?this.privContext.resume().then(e).catch((e=>{this.privInitializeDeferral.reject(`Failed to initialize audio context: ${e}`)})):e()}else{const e="Browser does not support getUserMedia.";this.privInitializeDeferral.reject(e),this.onEvent(new i.AudioSourceErrorEvent(e,""))}return this.privInitializeDeferral.promise}id(){return this.privId}attach(e){return this.onEvent(new i.AudioStreamNodeAttachingEvent(this.privId,e)),this.listen(e).then((t=>(this.onEvent(new i.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:async()=>(t.readEnded(),delete this.privStreams[e],this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>t.read()})))}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)))}async turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&t.close()}this.onEvent(new i.AudioSourceOffEvent(this.privId)),this.privInitializeDeferral&&(await this.privInitializeDeferral,this.privInitializeDeferral=null),await this.destroyAudioContext()}get events(){return this.privEvents}get deviceInfo(){return this.getMicrophoneLabel().then((e=>({bitspersample:s.AUDIOFORMAT.bitsPerSample,channelcount:s.AUDIOFORMAT.channels,connectivity:n.connectivity.Unknown,manufacturer:"Speech SDK",model:e,samplerate:s.AUDIOFORMAT.samplesPerSec,type:n.type.Microphones})))}setProperty(e,r){if(e!==t.AudioWorkletSourceURLPropertyName)throw new Error("Property '"+e+"' is not supported on Microphone.");this.privRecorder.setWorkletUrl(r)}getMicrophoneLabel(){const e="microphone";if(void 0!==this.privMicrophoneLabel)return Promise.resolve(this.privMicrophoneLabel);if(void 0===this.privMediaStream||!this.privMediaStream.active)return Promise.resolve(e);this.privMicrophoneLabel=e;const t=this.privMediaStream.getTracks()[0].getSettings().deviceId;if(void 0===t)return Promise.resolve(this.privMicrophoneLabel);const r=new i.Deferred;return navigator.mediaDevices.enumerateDevices().then((e=>{for(const r of e)if(r.deviceId===t){this.privMicrophoneLabel=r.label;break}r.resolve(this.privMicrophoneLabel)}),(()=>r.resolve(this.privMicrophoneLabel))),r.promise}async listen(e){await this.turnOn();const t=new i.ChunkedArrayBufferStream(this.privOutputChunkSize,e);this.privStreams[e]=t;try{this.privRecorder.record(this.privContext,this.privMediaStream,t)}catch(r){throw this.onEvent(new i.AudioStreamNodeErrorEvent(this.privId,e,r)),r}return t}onEvent(e){this.privEvents.onEvent(e),i.Events.instance.onEvent(e)}createAudioContext(){this.privContext||(this.privContext=o.AudioStreamFormatImpl.getAudioContext(s.AUDIOFORMAT.samplesPerSec))}async destroyAudioContext(){if(!this.privContext)return;this.privRecorder.releaseMediaResources(this.privContext);let e=!1;"close"in this.privContext&&(e=!0),e?this.privIsClosing||(this.privIsClosing=!0,await this.privContext.close(),this.privContext=null,this.privIsClosing=!1):null!==this.privContext&&"running"===this.privContext.state&&await this.privContext.suspend()}}t.MicAudioSource=s,s.AUDIOFORMAT=o.AudioStreamFormat.getDefaultInputFormat()},4229:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceConnector=void 0;const n=r(8401),i=r(9859),o=r(2307),s=r(260),a=r(8040),c=r(1743);class l extends a.Recognizer{constructor(e,t){const r=e;s.Contracts.throwIfNull(e,"dialogConfig"),super(t,r.properties,new n.DialogConnectionFactory),this.isTurnComplete=!0,this.privIsDisposed=!1,this.privProperties=r.properties.clone();const i=this.buildAgentConfig();this.privReco.agentConfig.set(i)}connect(e,t){o.marshalPromiseToCallbacks(this.privReco.connect(),e,t)}disconnect(e,t){o.marshalPromiseToCallbacks(this.privReco.disconnect(),e,t)}get authorizationToken(){return this.properties.getProperty(c.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){s.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(c.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}get speechActivityTemplate(){return this.properties.getProperty(c.PropertyId.Conversation_Speech_Activity_Template)}set speechActivityTemplate(e){this.properties.setProperty(c.PropertyId.Conversation_Speech_Activity_Template,e)}listenOnceAsync(e,t){if(this.isTurnComplete){s.Contracts.throwIfDisposed(this.privIsDisposed);const r=(async()=>{await this.privReco.connect(),await this.implRecognizerStop(),this.isTurnComplete=!1;const e=new o.Deferred;await this.privReco.recognize(i.RecognitionMode.Conversation,e.resolve,e.reject);const t=await e.promise;return await this.implRecognizerStop(),t})();r.catch((()=>{this.dispose(!0).catch((()=>{}))})),o.marshalPromiseToCallbacks(r.finally((()=>{this.isTurnComplete=!0})),e,t)}}sendActivityAsync(e,t,r){o.marshalPromiseToCallbacks(this.privReco.sendMessage(e),t,r)}close(e,t){s.Contracts.throwIfDisposed(this.privIsDisposed),o.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privIsDisposed||e&&(this.privIsDisposed=!0,await this.implRecognizerStop(),await super.dispose(e))}createRecognizerConfig(e){return new i.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,n){const o=r;return new i.DialogServiceAdapter(e,t,o,n,this)}buildAgentConfig(){return{botInfo:{commType:this.properties.getProperty("Conversation_Communication_Type","Default"),commandsCulture:void 0,connectionId:this.properties.getProperty(c.PropertyId.Conversation_Agent_Connection_Id),conversationId:this.properties.getProperty(c.PropertyId.Conversation_Conversation_Id,void 0),fromId:this.properties.getProperty(c.PropertyId.Conversation_From_Id,void 0),ttsAudioFormat:this.properties.getProperty(c.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)},version:.2}}}t.DialogServiceConnector=l},4261:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationHypothesis=void 0;const n=r(260),i=r(5253);class o{constructor(e,t){this.privTranslationHypothesis=e,this.privTranslationHypothesis.Offset+=t,this.privTranslationHypothesis.Translation.TranslationStatus=this.mapTranslationStatus(this.privTranslationHypothesis.Translation.TranslationStatus)}static fromJSON(e,t){return new o(JSON.parse(e),t)}static fromTranslationResponse(e,t){n.Contracts.throwIfNullOrUndefined(e,"translationHypothesis");const r=e.SpeechHypothesis;return e.SpeechHypothesis=void 0,r.Translation=e,new o(r,t)}get Duration(){return this.privTranslationHypothesis.Duration}get Offset(){return this.privTranslationHypothesis.Offset}get Text(){return this.privTranslationHypothesis.Text}get Translation(){return this.privTranslationHypothesis.Translation}get Language(){return this.privTranslationHypothesis.PrimaryLanguage?.Language}asJson(){const e={...this.privTranslationHypothesis};return void 0!==e.Translation?JSON.stringify({...e,TranslationStatus:i.TranslationStatus[e.Translation.TranslationStatus]}):JSON.stringify(e)}mapTranslationStatus(e){return"string"===typeof e?i.TranslationStatus[e]:"number"===typeof e?e:void 0}}t.TranslationHypothesis=o},4297:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TextResponsePayload=t.SpeechResponsePayload=void 0;class r{constructor(e){this.privSpeechResponse=(e=>JSON.parse(e))(e)}get recognition(){return this.privSpeechResponse.recognition}get translations(){return this.privSpeechResponse.translations}get id(){return this.privSpeechResponse.id}get language(){return this.privSpeechResponse.language}get nickname(){return this.privSpeechResponse.nickname}get participantId(){return this.privSpeechResponse.participantId}get roomid(){return this.privSpeechResponse.roomid}get timestamp(){return this.privSpeechResponse.timestamp}get type(){return this.privSpeechResponse.type}get isFinal(){return"final"===this.privSpeechResponse.type}static fromJSON(e){return new r(e)}}t.SpeechResponsePayload=r;class n{constructor(e){this.privTextResponse=(e=>JSON.parse(e))(e)}get originalText(){return this.privTextResponse.originalText}get translations(){return this.privTextResponse.translations}get id(){return this.privTextResponse.id}get language(){return this.privTextResponse.language}get nickname(){return this.privTextResponse.nickname}get participantId(){return this.privTextResponse.participantId}get roomid(){return this.privTextResponse.roomid}get timestamp(){return this.privTextResponse.timestamp}get type(){return this.privTextResponse.type}static fromJSON(e){return new n(e)}}t.TextResponsePayload=n},4314:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationParticipantsChangedEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t,r){super(r),this.privReason=e,this.privParticipant=t}get reason(){return this.privReason}get participants(){return this.privParticipant}}t.ConversationParticipantsChangedEventArgs=i},4358:(e,t)=>{"use strict";const r=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,n=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,o=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function c(e,t,r){do{const r=e.charCodeAt(t);if(32!==r&&9!==r)return t}while(++t<r);return r}function l(e,t,r){for(;t>r;){const r=e.charCodeAt(--t);if(32!==r&&9!==r)return t+1}return r}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},4383:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationResult=void 0;const n=r(2936);class i extends n.TranslationRecognitionResult{constructor(e,t,r,n,i,o,s,a,c,l,u){super(t,n,i,o,s,a,void 0,void 0,c,l,u),this.privId=e,this.privOrigLang=r}get participantId(){return this.privId}get originalLang(){return this.privOrigLang}}t.ConversationTranslationResult=i},4384:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfile=void 0;t.VoiceProfile=class{constructor(e,t){this.privId=e,this.privProfileType=t}get profileId(){return this.privId}get profileType(){return this.privProfileType}}},4391:(e,t,r)=>{"use strict";var n=r(7950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},4436:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionConfig=void 0;const n=r(9859);t.SpeakerRecognitionConfig=class{constructor(e,t){this.privContext=e||new n.Context(null),this.privParameters=t}get parameters(){return this.privParameters}get Context(){return this.privContext}}},4470:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(7019))&&n.__esModule?n:{default:n};var o=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r};t.default=o},4474:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},4526:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAdapterBase=void 0;const n=r(2307),i=r(8040),o=r(9859),s=r(222);class a{constructor(e,t,r,s){if(this.speakOverride=void 0,this.receiveMessageOverride=void 0,this.connectImplOverride=void 0,this.configConnectionOverride=void 0,this.privConnectionConfigurationPromise=void 0,!e)throw new n.ArgumentNullError("authentication");if(!t)throw new n.ArgumentNullError("connectionFactory");if(!r)throw new n.ArgumentNullError("synthesizerConfig");this.privAuthentication=e,this.privConnectionFactory=t,this.privSynthesizerConfig=r,this.privIsDisposed=!1,this.privSessionAudioDestination=s,this.privSynthesisTurn=new o.SynthesisTurn,this.privConnectionEvents=new n.EventSource,this.privServiceEvents=new n.EventSource,this.privSynthesisContext=new o.SynthesisContext,this.privAgentConfig=new o.AgentConfig,this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;1e3!==t.statusCode&&this.cancelSynthesisLocal(i.CancellationReason.Error,1007===t.statusCode?i.CancellationErrorCode.BadRequestParameters:i.CancellationErrorCode.ConnectionFailure,`${t.reason} websocket error code: ${t.statusCode}`)}}))}get synthesisContext(){return this.privSynthesisContext}get agentConfig(){return this.privAgentConfig}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set audioOutputFormat(e){this.privAudioOutputFormat=e,this.privSynthesisTurn.audioOutputFormat=e,void 0!==this.privSessionAudioDestination&&(this.privSessionAudioDestination.format=e),void 0!==this.synthesisContext&&(this.synthesisContext.audioOutputFormat=e)}isDisposed(){return this.privIsDisposed}async dispose(e){if(this.privIsDisposed=!0,void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.close(),void 0!==this.privConnectionConfigurationPromise){const t=await this.privConnectionConfigurationPromise;await t.dispose(e)}}async connect(){await this.connectImpl()}async sendNetworkMessage(e,t){const r="string"===typeof t?n.MessageType.Text:n.MessageType.Binary,i="string"===typeof t?"application/json":"";return(await this.fetchConnection()).send(new s.SpeechConnectionMessage(r,e,this.privSynthesisTurn.requestId,i,t))}async Speak(e,t,r,n,o,s){let a;if(a=t?e:this.privSynthesizer.buildSsml(e),void 0!==this.speakOverride)return this.speakOverride(a,r,n,o);this.privSuccessCallback=n,this.privErrorCallback=o,this.privSynthesisTurn.startNewSynthesis(r,e,t,s);try{await this.connectImpl();const e=await this.fetchConnection();await this.sendSynthesisContext(e),await this.sendSsmlMessage(e,a,r),this.onSynthesisStarted(r),this.receiveMessage()}catch(c){return this.cancelSynthesisLocal(i.CancellationReason.Error,i.CancellationErrorCode.ConnectionFailure,c),Promise.reject(c)}}async stopSpeaking(){await this.connectImpl();return(await this.fetchConnection()).send(new s.SpeechConnectionMessage(n.MessageType.Text,"synthesis.control",this.privSynthesisTurn.requestId,"application/json",JSON.stringify({action:"stop"})))}cancelSynthesis(e,t,r,n){const s=new i.PropertyCollection;s.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[r]);const a=new i.SpeechSynthesisResult(e,i.ResultReason.Canceled,void 0,n,s);if(this.onSynthesisCancelled(a),this.privSuccessCallback)try{this.privSuccessCallback(a)}catch{}}cancelSynthesisLocal(e,t,r){this.privSynthesisTurn.isSynthesizing&&(this.privSynthesisTurn.onStopSynthesizing(),this.cancelSynthesis(this.privSynthesisTurn.requestId,e,t,r))}processTypeSpecificMessages(e){return!0}async receiveMessage(){try{const t=await this.fetchConnection(),r=await t.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(this.privIsDisposed)return;if(!r)return this.privSynthesisTurn.isSynthesizing?this.receiveMessage():void 0;const a=s.SpeechConnectionMessage.fromConnectionMessage(r);if(a.requestId.toLowerCase()===this.privSynthesisTurn.requestId.toLowerCase())switch(a.path.toLowerCase()){case"turn.start":this.privSynthesisTurn.onServiceTurnStartResponse(a.textBody);break;case"response":this.privSynthesisTurn.onServiceResponseMessage(a.textBody);break;case"audio":this.privSynthesisTurn.streamId.toLowerCase()===a.streamId.toLowerCase()&&a.binaryBody&&(this.privSynthesisTurn.onAudioChunkReceived(a.binaryBody),this.onSynthesizing(a.binaryBody),void 0!==this.privSessionAudioDestination&&this.privSessionAudioDestination.write(a.binaryBody));break;case"audio.metadata":const t=o.SynthesisAudioMetadata.fromJSON(a.textBody).Metadata;for(const e of t)switch(e.Type){case o.MetadataType.WordBoundary:case o.MetadataType.SentenceBoundary:this.privSynthesisTurn.onTextBoundaryEvent(e);const t=new i.SpeechSynthesisWordBoundaryEventArgs(e.Data.Offset,e.Data.Duration,e.Data.text.Text,e.Data.text.Length,e.Type===o.MetadataType.WordBoundary?this.privSynthesisTurn.currentTextOffset:this.privSynthesisTurn.currentSentenceOffset,e.Data.text.BoundaryType);this.onWordBoundary(t);break;case o.MetadataType.Bookmark:const r=new i.SpeechSynthesisBookmarkEventArgs(e.Data.Offset,e.Data.Bookmark);this.onBookmarkReached(r);break;case o.MetadataType.Viseme:if(this.privSynthesisTurn.onVisemeMetadataReceived(e),e.Data.IsLastAnimation){const t=new i.SpeechSynthesisVisemeEventArgs(e.Data.Offset,e.Data.VisemeId,this.privSynthesisTurn.getAndClearVisemeAnimation());this.onVisemeReceived(t)}break;case o.MetadataType.AvatarSignal:this.onAvatarEvent(e);break;case o.MetadataType.SessionEnd:this.privSynthesisTurn.onSessionEnd(e)}break;case"turn.end":let r;this.privSynthesisTurn.onServiceTurnEndResponse();try{r=await this.privSynthesisTurn.constructSynthesisResult(),this.privSuccessCallback&&this.privSuccessCallback(r)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.onSynthesisCompleted(r);break;default:this.processTypeSpecificMessages(a)||this.privServiceEvents&&this.serviceEvents.onEvent(new n.ServiceEvent(a.path.toLowerCase(),a.textBody))}return this.receiveMessage()}catch(t){}}sendSynthesisContext(e){this.setSynthesisContextSynthesisSection();const t=this.synthesisContext.toJSON();if(t)return e.send(new s.SpeechConnectionMessage(n.MessageType.Text,"synthesis.context",this.privSynthesisTurn.requestId,"application/json",t))}setSpeechConfigSynthesisSection(){}connectImpl(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(null!=this.privConnectionPromise)return this.privConnectionPromise.then((e=>e.state()===n.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=null,this.connectImpl())));this.privAuthFetchEventId=n.createNoDashGuid(),this.privConnectionId=n.createNoDashGuid(),this.privSynthesisTurn.onPreConnectionStart(this.privAuthFetchEventId);const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId);return this.privConnectionPromise=t.then((async t=>{this.privSynthesisTurn.onAuthCompleted(!1);const r=this.privConnectionFactory.create(this.privSynthesizerConfig,t,this.privConnectionId);r.events.attach((e=>{this.connectionEvents.onEvent(e)}));const n=await r.open();return 200===n.statusCode?(this.privSynthesisTurn.onConnectionEstablishCompleted(n.statusCode),Promise.resolve(r)):403!==n.statusCode||e?(this.privSynthesisTurn.onConnectionEstablishCompleted(n.statusCode),Promise.reject(`Unable to contact server. StatusCode: ${n.statusCode},\n                    ${this.privSynthesizerConfig.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Url)} Reason: ${n.reason}`)):this.connectImpl(!0)}),(e=>{throw this.privSynthesisTurn.onAuthCompleted(!0),new Error(e)})),this.privConnectionPromise.catch((()=>{})),this.privConnectionPromise}sendSpeechServiceConfig(e,t){if(t)return e.send(new s.SpeechConnectionMessage(n.MessageType.Text,"speech.config",this.privSynthesisTurn.requestId,"application/json",t))}sendSsmlMessage(e,t,r){return e.send(new s.SpeechConnectionMessage(n.MessageType.Text,"ssml",r,"application/ssml+xml",t))}async fetchConnection(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===n.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async configureConnection(){const e=await this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(this.setSpeechConfigSynthesisSection(),await this.sendSpeechServiceConfig(e,this.privSynthesizerConfig.SpeechServiceConfig.serialize()),e)}onAvatarEvent(e){}onSynthesisStarted(e){}onSynthesizing(e){}onSynthesisCancelled(e){}onSynthesisCompleted(e){}onWordBoundary(e){}onVisemeReceived(e){}onBookmarkReached(e){}}t.SynthesisAdapterBase=a,a.telemetryDataEnabled=!0},4543:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisAudioMetadata=t.MetadataType=void 0,function(e){e.WordBoundary="WordBoundary",e.Bookmark="Bookmark",e.Viseme="Viseme",e.SentenceBoundary="SentenceBoundary",e.SessionEnd="SessionEnd",e.AvatarSignal="TalkingAvatarSignal"}(t.MetadataType||(t.MetadataType={}));class r{constructor(e){this.privSynthesisAudioMetadata=JSON.parse(e)}static fromJSON(e){return new r(e)}get Metadata(){return this.privSynthesisAudioMetadata.Metadata}}t.SynthesisAudioMetadata=r},4554:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriberConnectionFactory=void 0;const n=r(2277),i=r(8040),o=r(9859),s=r(2679),a=r(9859),c=r(8643),l=r(7237);class u extends s.ConnectionFactoryBase{constructor(){super(...arguments),this.universalUri="/speech/universal/v2"}create(e,t,r){let o=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint,void 0);const u=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Region,void 0),p=s.ConnectionFactoryBase.getHostSuffix(u),d=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,"wss://"+u+".stt.speech"+p),h={},v=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_EndpointId,void 0),f=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);v?o&&-1!==o.search(l.QueryParameterNames.CustomSpeechDeploymentId)||(h[l.QueryParameterNames.CustomSpeechDeploymentId]=v):f&&(o&&-1!==o.search(l.QueryParameterNames.Language)||(h[l.QueryParameterNames.Language]=f)),void 0!==e.autoDetectSourceLanguages&&(h[l.QueryParameterNames.EnableLanguageId]="true"),this.setV2UrlParams(e,h,o),o||(o=`${d}${this.universalUri}`);const g={};void 0!==t.token&&""!==t.token&&(g[t.headerName]=t.token),g[c.HeaderNames.ConnectionId]=r;const m="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false"),y=new n.WebsocketConnection(o,h,g,new a.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),m,r),S=y.uri;return e.parameters.setProperty(i.PropertyId.SpeechServiceConnection_Url,S),y}setV2UrlParams(e,t,r){new Map([[i.PropertyId.Speech_SegmentationSilenceTimeoutMs,l.QueryParameterNames.SegmentationSilenceTimeoutMs],[i.PropertyId.SpeechServiceConnection_EnableAudioLogging,l.QueryParameterNames.EnableAudioLogging],[i.PropertyId.SpeechServiceConnection_EndSilenceTimeoutMs,l.QueryParameterNames.EndSilenceTimeoutMs],[i.PropertyId.SpeechServiceConnection_InitialSilenceTimeoutMs,l.QueryParameterNames.InitialSilenceTimeoutMs],[i.PropertyId.SpeechServiceResponse_PostProcessingOption,l.QueryParameterNames.Postprocessing],[i.PropertyId.SpeechServiceResponse_ProfanityOption,l.QueryParameterNames.Profanity],[i.PropertyId.SpeechServiceResponse_StablePartialResultThreshold,l.QueryParameterNames.StableIntermediateThreshold]]).forEach(((n,i)=>{this.setUrlParameter(i,n,e,t,r)}));const n=JSON.parse(e.parameters.getProperty(o.ServicePropertiesPropertyName,"{}"));Object.keys(n).forEach((e=>{t[e]=n[e]}))}}t.ConversationTranscriberConnectionFactory=u},4555:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantPayloadResponse=t.ParticipantsListPayloadResponse=void 0;class r{constructor(e){this.privParticipantsPayloadResponse=(e=>JSON.parse(e))(e)}get roomid(){return this.privParticipantsPayloadResponse.roomid}get id(){return this.privParticipantsPayloadResponse.id}get command(){return this.privParticipantsPayloadResponse.command}get participants(){return this.privParticipantsPayloadResponse.participants}get token(){return this.privParticipantsPayloadResponse.token}get translateTo(){return this.privParticipantsPayloadResponse.translateTo}get profanityFilter(){return this.privParticipantsPayloadResponse.profanityFilter}get roomProfanityFilter(){return this.privParticipantsPayloadResponse.roomProfanityFilter}get roomLocked(){return this.privParticipantsPayloadResponse.roomLocked}get muteAll(){return this.privParticipantsPayloadResponse.muteAll}get type(){return this.privParticipantsPayloadResponse.type}static fromJSON(e){return new r(e)}}t.ParticipantsListPayloadResponse=r;class n{constructor(e){this.privParticipantPayloadResponse=(e=>JSON.parse(e))(e)}get nickname(){return this.privParticipantPayloadResponse.nickname}get locale(){return this.privParticipantPayloadResponse.locale}get usetts(){return this.privParticipantPayloadResponse.usetts}get ismuted(){return this.privParticipantPayloadResponse.ismuted}get ishost(){return this.privParticipantPayloadResponse.ishost}get participantId(){return this.privParticipantPayloadResponse.participantId}get avatar(){return this.privParticipantPayloadResponse.avatar}static fromJSON(e){return new n(e)}}t.ParticipantPayloadResponse=n},4566:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorCommandTypes=t.ConversationTranslatorMessageTypes=t.InternalParticipants=void 0;t.InternalParticipants=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;this.participants=e,this.meId=t}addOrUpdateParticipant(e){if(void 0===e)return;const t=this.getParticipantIndex(e.id);return t>-1?this.participants.splice(t,1,e):this.participants.push(e),this.getParticipant(e.id)}getParticipantIndex(e){return this.participants.findIndex((t=>t.id===e))}getParticipant(e){return this.participants.find((t=>t.id===e))}deleteParticipant(e){this.participants=this.participants.filter((t=>t.id!==e))}get host(){return this.participants.find((e=>!0===e.isHost))}get me(){return this.getParticipant(this.meId)}},t.ConversationTranslatorMessageTypes={command:"command",final:"final",info:"info",instantMessage:"instant_message",keepAlive:"keep_alive",partial:"partial",participantCommand:"participant_command",translatedMessage:"translated_message"},t.ConversationTranslatorCommandTypes={changeNickname:"ChangeNickname",disconnectSession:"DisconnectSession",ejectParticipant:"EjectParticipant",instant_message:"instant_message",joinSession:"JoinSession",leaveSession:"LeaveSession",participantList:"ParticipantList",roomExpirationWarning:"RoomExpirationWarning",setLockState:"SetLockState",setMute:"SetMute",setMuteAll:"SetMuteAll",setProfanityFiltering:"SetProfanityFiltering",setTranslateToLanguages:"SetTranslateToLanguages",setUseTTS:"SetUseTTS"}},4572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarConfig=void 0;const n=r(260),i=r(8040);t.AvatarConfig=class{constructor(e,t,r){this.privCustomized=!1,this.privUseBuiltInVoice=!1,n.Contracts.throwIfNullOrWhitespace(e,"character"),this.character=e,this.style=t,void 0===r&&(r=new i.AvatarVideoFormat),this.videoFormat=r}get customized(){return this.privCustomized}set customized(e){this.privCustomized=e}get useBuiltInVoice(){return this.privUseBuiltInVoice}set useBuiltInVoice(e){this.privUseBuiltInVoice=e}get backgroundColor(){return this.privBackgroundColor}set backgroundColor(e){this.privBackgroundColor=e}get backgroundImage(){return this.privBackgroundImage}set backgroundImage(e){this.privBackgroundImage=e}get remoteIceServers(){return this.privRemoteIceServers}set remoteIceServers(e){this.privRemoteIceServers=e}}},4573:()=>{},4656:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognizer=void 0;const n=r(9859),i=r(260),o=r(8040);class s extends o.Recognizer{constructor(e,t){i.Contracts.throwIfNullOrUndefined(e,"speechConfig");const r=e;i.Contracts.throwIfNullOrUndefined(r,"speechConfig"),super(t,r.properties,new n.SpeakerRecognitionConnectionFactory),this.privAudioConfigImpl=t,i.Contracts.throwIfNull(this.privAudioConfigImpl,"audioConfig"),this.privDisposedSpeakerRecognizer=!1,this.privProperties=r.properties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){i.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}async recognizeOnceAsync(e){return i.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),this.recognizeSpeakerOnceAsyncImpl(e)}async close(){i.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.dispose(!0)}async recognizeSpeakerOnceAsyncImpl(e){i.Contracts.throwIfDisposed(this.privDisposedSpeakerRecognizer),await this.implRecognizerStop();const t=await this.privReco.recognizeSpeaker(e);return await this.implRecognizerStop(),t}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,i){const o=r;return new n.SpeakerServiceRecognizer(e,t,o,i,this)}async dispose(e){this.privDisposedSpeakerRecognizer||e&&(this.privDisposedSpeakerRecognizer=!0,await super.dispose(e))}}t.SpeakerRecognizer=s},4814:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBookmarkEventArgs=void 0;t.SpeechSynthesisBookmarkEventArgs=class{constructor(e,t){this.privAudioOffset=e,this.privText=t}get audioOffset(){return this.privAudioOffset}get text(){return this.privText}}},4823:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationSynthesisEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t){super(t),this.privResult=e}get result(){return this.privResult}}t.TranslationSynthesisEventArgs=i},4832:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognitionCanceledEventArgs=void 0;const n=r(8706);class i extends n.CancellationEventArgsBase{}t.SpeechRecognitionCanceledEventArgs=i},4855:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisContext=void 0;const n=r(8040);t.SynthesisContext=class{constructor(){this.privContext={}}setSection(e,t){this.privContext[e]=t}set audioOutputFormat(e){this.privAudioOutputFormat=e}toJSON(){return JSON.stringify(this.privContext)}setSynthesisSection(e){const t=this.buildSynthesisContext(e);this.setSection("synthesis",t)}buildSynthesisContext(e){return{audio:{metadataOptions:{bookmarkEnabled:!!e?.bookmarkReached,punctuationBoundaryEnabled:e?.properties.getProperty(n.PropertyId.SpeechServiceResponse_RequestPunctuationBoundary,!!e?.wordBoundary),sentenceBoundaryEnabled:e?.properties.getProperty(n.PropertyId.SpeechServiceResponse_RequestSentenceBoundary,!1),sessionEndEnabled:!0,visemeEnabled:!!e?.visemeReceived,wordBoundaryEnabled:e?.properties.getProperty(n.PropertyId.SpeechServiceResponse_RequestWordBoundary,!!e?.wordBoundary)},outputFormat:this.privAudioOutputFormat.requestAudioFormatString},language:{autoDetection:e?.autoDetectSourceLanguage}}}}},4863:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.type=t.connectivity=t.Device=t.OS=t.System=t.Context=t.SpeechServiceConfig=void 0;t.SpeechServiceConfig=class{constructor(e){this.context=e}serialize(){return JSON.stringify(this,((e,t)=>{if(t&&"object"===typeof t&&!Array.isArray(t)){const e={};for(const r in t)Object.hasOwnProperty.call(t,r)&&(e[r&&r.charAt(0).toLowerCase()+r.substring(1)]=t[r]);return e}return t}))}get Context(){return this.context}get Recognition(){return this.recognition}set Recognition(e){this.recognition=e.toLowerCase()}};t.Context=class{constructor(e){this.system=new r,this.os=e}};class r{constructor(){this.name="SpeechSDK",this.version="1.43.1",this.build="JavaScript",this.lang="JavaScript"}}t.System=r;t.OS=class{constructor(e,t,r){this.platform=e,this.name=t,this.version=r}};t.Device=class{constructor(e,t,r){this.manufacturer=e,this.model=t,this.version=r}},function(e){e.Bluetooth="Bluetooth",e.Wired="Wired",e.WiFi="WiFi",e.Cellular="Cellular",e.InBuilt="InBuilt",e.Unknown="Unknown"}(t.connectivity||(t.connectivity={})),function(e){e.Phone="Phone",e.Speaker="Speaker",e.Car="Car",e.Headset="Headset",e.Thermostat="Thermostat",e.Microphones="Microphones",e.Deskphone="Deskphone",e.RemoteControl="RemoteControl",e.Unknown="Unknown",e.File="File",e.Stream="Stream"}(t.type||(t.type={}))},4874:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Participant=t.User=void 0;const n=r(8040);t.User=class{constructor(e){this.privUserId=e}get userId(){return this.privUserId}};class i{constructor(e,t,r,i,o,s,a,c){this.privId=e,this.privAvatar=t,this.privDisplayName=r,this.privIsHost=i,this.privIsMuted=o,this.privIsUsingTts=s,this.privPreferredLanguage=a,this.privVoice=c,this.privProperties=new n.PropertyCollection}get avatar(){return this.privAvatar}get displayName(){return this.privDisplayName}get id(){return this.privId}get preferredLanguage(){return this.privPreferredLanguage}get isHost(){return this.privIsHost}get isMuted(){return this.privIsMuted}get isUsingTts(){return this.privIsUsingTts}get voice(){return this.privVoice}get properties(){return this.privProperties}static From(e,t,r){return new i(e,"",e,!1,!1,!1,t,r)}}t.Participant=i},4902:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseAudioPlayer=void 0;const n=r(8446),i=r(8040),o=r(4175);t.BaseAudioPlayer=class{constructor(e){this.audioContext=null,this.gainNode=null,this.autoUpdateBufferTimer=0,void 0===e&&(e=i.AudioStreamFormat.getDefaultInputFormat()),this.init(e)}playAudioSample(e,t,r){try{this.ensureInitializedContext();const r=this.formatAudioData(e),n=new Float32Array(this.samples.length+r.length);n.set(this.samples,0),n.set(r,this.samples.length),this.samples=n,t&&t()}catch(n){r&&r(n)}}stopAudio(e,t){null!==this.audioContext&&(this.samples=new Float32Array,clearInterval(this.autoUpdateBufferTimer),this.audioContext.close().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.audioContext=null)}init(e){this.audioFormat=e,this.samples=new Float32Array}ensureInitializedContext(){if(null===this.audioContext){this.createAudioContext();const e=200;this.autoUpdateBufferTimer=setInterval((()=>{this.updateAudioBuffer()}),e)}}createAudioContext(){this.audioContext=o.AudioStreamFormatImpl.getAudioContext(),this.gainNode=this.audioContext.createGain(),this.gainNode.gain.value=1,this.gainNode.connect(this.audioContext.destination),this.startTime=this.audioContext.currentTime}formatAudioData(e){switch(this.audioFormat.bitsPerSample){case 8:return this.formatArrayBuffer(new Int8Array(e),128);case 16:return this.formatArrayBuffer(new Int16Array(e),32768);case 32:return this.formatArrayBuffer(new Int32Array(e),2147483648);default:throw new n.InvalidOperationError("Only WAVE_FORMAT_PCM (8/16/32 bps) format supported at this time")}}formatArrayBuffer(e,t){const r=new Float32Array(e.length);for(let n=0;n<e.length;n++)r[n]=e[n]/t;return r}updateAudioBuffer(){if(0===this.samples.length)return;const e=this.audioFormat.channels,t=this.audioContext.createBufferSource(),r=this.samples.length/e,n=this.audioContext.createBuffer(e,r,this.audioFormat.samplesPerSec);for(let i=0;i<e;i++){let t=i;const r=n.getChannelData(i);for(let n=0;n<this.samples.length;n++,t+=e)r[n]=this.samples[t]}this.startTime<this.audioContext.currentTime&&(this.startTime=this.audioContext.currentTime),t.buffer=n,t.connect(this.gainNode),t.start(this.startTime),this.startTime+=n.duration,this.samples=new Float32Array}async playAudio(e){null===this.audioContext&&this.createAudioContext();const t=this.audioContext.createBufferSource(),r=this.audioContext.destination;await this.audioContext.decodeAudioData(e,(e=>{t.buffer=e,t.connect(r),t.start(0)}))}}},4914:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationWebsocketMessageFormatter=void 0;const n=r(2307),i=r(6109);t.ConversationWebsocketMessageFormatter=class{toConnectionMessage(e){const t=new n.Deferred;try{if(e.messageType===n.MessageType.Text){const r=new i.ConversationConnectionMessage(e.messageType,e.textContent,{},e.id);t.resolve(r)}else e.messageType===n.MessageType.Binary&&t.resolve(new i.ConversationConnectionMessage(e.messageType,e.binaryContent,void 0,e.id))}catch(r){t.reject(`Error formatting the message. Error: ${r}`)}return t.promise}fromConnectionMessage(e){const t=new n.Deferred;try{if(e.messageType===n.MessageType.Text){const r=`${e.textBody?e.textBody:""}`;t.resolve(new n.RawWebsocketMessage(n.MessageType.Text,r,e.id))}}catch(r){t.reject(`Error formatting the message. ${r}`)}return t.promise}}},4920:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentConnectionFactory=void 0;const n=r(2277),i=r(8040),o=r(2679),s=r(9859),a=r(8643);class c extends o.ConnectionFactoryBase{create(e,t,r){let c=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Endpoint);if(!c){const t=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_IntentRegion),r=o.ConnectionFactoryBase.getHostSuffix(t);c=e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_Host,"wss://"+t+".sr.speech"+r)+"/speech/recognition/interactive/cognitiveservices/v1"}const l={format:"simple",language:e.parameters.getProperty(i.PropertyId.SpeechServiceConnection_RecoLanguage)};this.setCommonUrlParams(e,l,c);const u={};void 0!==t.token&&""!==t.token&&(u[t.headerName]=t.token),u[a.HeaderNames.ConnectionId]=r,e.parameters.setProperty(i.PropertyId.SpeechServiceConnection_Url,c);const p="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(c,l,u,new s.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),p,r)}getSpeechRegionFromIntentRegion(e){switch(e){case"West US":case"US West":case"westus":return"uswest";case"West US 2":case"US West 2":case"westus2":return"uswest2";case"South Central US":case"US South Central":case"southcentralus":return"ussouthcentral";case"West Central US":case"US West Central":case"westcentralus":return"uswestcentral";case"East US":case"US East":case"eastus":return"useast";case"East US 2":case"US East 2":case"eastus2":return"useast2";case"West Europe":case"Europe West":case"westeurope":return"europewest";case"North Europe":case"Europe North":case"northeurope":return"europenorth";case"Brazil South":case"South Brazil":case"southbrazil":return"brazilsouth";case"Australia East":case"East Australia":case"eastaustralia":return"australiaeast";case"Southeast Asia":case"Asia Southeast":case"southeastasia":return"asiasoutheast";case"East Asia":case"Asia East":case"eastasia":return"asiaeast";default:return e}}}t.IntentConnectionFactory=c},4931:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Connection=void 0;const n=r(9859),i=r(2307),o=r(344),s=r(260),a=r(8040);class c{static fromRecognizer(e){const t=e.internalData,r=new c;return r.privInternalData=t,r.setupEvents(),r}static fromSynthesizer(e){const t=e.internalData,r=new c;return r.privInternalData=t,r.setupEvents(),r}openConnection(e,t){i.marshalPromiseToCallbacks(this.privInternalData.connect(),e,t)}closeConnection(e,t){if(this.privInternalData instanceof n.SynthesisAdapterBase)throw new Error("Disconnecting a synthesizer's connection is currently not supported");i.marshalPromiseToCallbacks(this.privInternalData.disconnect(),e,t)}setMessageProperty(e,t,r){if(s.Contracts.throwIfNullOrWhitespace(t,"propertyName"),this.privInternalData instanceof n.ServiceRecognizerBase){if("speech.context"!==e.toLowerCase())throw new Error("Only speech.context message property sets are currently supported for recognizer");this.privInternalData.speechContext.setSection(t,r)}else if(this.privInternalData instanceof n.SynthesisAdapterBase){if("synthesis.context"!==e.toLowerCase())throw new Error("Only synthesis.context message property sets are currently supported for synthesizer");this.privInternalData.synthesisContext.setSection(t,r)}}sendMessageAsync(e,t,r,n){i.marshalPromiseToCallbacks(this.privInternalData.sendNetworkMessage(e,t),r,n)}close(){}setupEvents(){this.privEventListener=this.privInternalData.connectionEvents.attach((e=>{"ConnectionEstablishedEvent"===e.name?this.connected&&this.connected(new a.ConnectionEventArgs(e.connectionId)):"ConnectionClosedEvent"===e.name?this.disconnected&&this.disconnected(new a.ConnectionEventArgs(e.connectionId)):"ConnectionMessageSentEvent"===e.name?this.messageSent&&this.messageSent(new a.ConnectionMessageEventArgs(new o.ConnectionMessageImpl(e.message))):"ConnectionMessageReceivedEvent"===e.name&&this.messageReceived&&this.messageReceived(new a.ConnectionMessageEventArgs(new o.ConnectionMessageImpl(e.message)))})),this.privServiceEventListener=this.privInternalData.serviceEvents.attach((e=>{this.receivedServiceMessage&&this.receivedServiceMessage(new a.ServiceEventArgs(e.jsonString,e.name))}))}}t.Connection=c},4933:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceTelemetryListener=void 0;const n=r(2307),i=r(4142);t.ServiceTelemetryListener=class{constructor(e,t,r){this.privIsDisposed=!1,this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privRequestId=e,this.privAudioSourceId=t,this.privAudioNodeId=r,this.privReceivedMessages={},this.privPhraseLatencies=[],this.privHypothesisLatencies=[]}phraseReceived(e){e>0&&this.privPhraseLatencies.push(Date.now()-e)}hypothesisReceived(e){e>0&&this.privHypothesisLatencies.push(Date.now()-e)}onEvent(e){if(!this.privIsDisposed&&(e instanceof i.RecognitionTriggeredEvent&&e.requestId===this.privRequestId&&(this.privListeningTriggerMetric={End:e.eventTime,Name:"ListeningTrigger",Start:e.eventTime}),e instanceof n.AudioStreamNodeAttachingEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof n.AudioStreamNodeAttachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicStartTime=e.eventTime),e instanceof n.AudioSourceErrorEvent&&e.audioSourceId===this.privAudioSourceId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof n.AudioStreamNodeErrorEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Error:e.error,Name:"Microphone",Start:this.privMicStartTime})),e instanceof n.AudioStreamNodeDetachedEvent&&e.audioSourceId===this.privAudioSourceId&&e.audioNodeId===this.privAudioNodeId&&(this.privMicMetric||(this.privMicMetric={End:e.eventTime,Name:"Microphone",Start:this.privMicStartTime})),e instanceof i.ConnectingToServiceEvent&&e.requestId===this.privRequestId&&(this.privConnectionId=e.sessionId),e instanceof n.ConnectionStartEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionStartTime=e.eventTime),e instanceof n.ConnectionEstablishedEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof n.ConnectionEstablishErrorEvent&&e.connectionId===this.privConnectionId&&(this.privConnectionEstablishMetric||(this.privConnectionEstablishMetric={End:e.eventTime,Error:this.getConnectionError(e.statusCode),Id:this.privConnectionId,Name:"Connection",Start:this.privConnectionStartTime})),e instanceof n.ConnectionMessageReceivedEvent&&e.connectionId===this.privConnectionId&&e.message&&e.message.headers&&e.message.headers.path)){this.privReceivedMessages[e.message.headers.path]||(this.privReceivedMessages[e.message.headers.path]=new Array);const t=50;this.privReceivedMessages[e.message.headers.path].length<t&&this.privReceivedMessages[e.message.headers.path].push(e.networkReceivedTime)}}getTelemetry(){const e=new Array;this.privListeningTriggerMetric&&e.push(this.privListeningTriggerMetric),this.privMicMetric&&e.push(this.privMicMetric),this.privConnectionEstablishMetric&&e.push(this.privConnectionEstablishMetric),this.privPhraseLatencies.length>0&&e.push({PhraseLatencyMs:this.privPhraseLatencies}),this.privHypothesisLatencies.length>0&&e.push({FirstHypothesisLatencyMs:this.privHypothesisLatencies});const t={Metrics:e,ReceivedMessages:this.privReceivedMessages},r=JSON.stringify(t);return this.privReceivedMessages={},this.privListeningTriggerMetric=null,this.privMicMetric=null,this.privConnectionEstablishMetric=null,this.privPhraseLatencies=[],this.privHypothesisLatencies=[],r}get hasTelemetry(){return 0!==Object.keys(this.privReceivedMessages).length||null!==this.privListeningTriggerMetric||null!==this.privMicMetric||null!==this.privConnectionEstablishMetric||0!==this.privPhraseLatencies.length||0!==this.privHypothesisLatencies.length}dispose(){this.privIsDisposed=!0}getConnectionError(e){switch(e){case 400:case 1002:case 1003:case 1005:case 1007:case 1008:case 1009:return"BadRequest";case 401:return"Unauthorized";case 403:return"Forbidden";case 503:case 1001:return"ServerUnavailable";case 500:case 1011:return"ServerError";case 408:case 504:return"Timeout";default:return"statuscode:"+e.toString()}}}},4941:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionOpenResponse=void 0;t.ConnectionOpenResponse=class{constructor(e,t){this.privStatusCode=e,this.privReason=t}get statusCode(){return this.privStatusCode}get reason(){return this.privReason}}},4955:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WebsocketMessageAdapter=void 0;const a=o(r(8632)),c=o(r(3678)),l=s(r(6308)),u=s(r(9645)),p=s(r(4573)),d=r(8643),h=r(2307);class v{constructor(e,t,r,n,i,o){if(!e)throw new h.ArgumentNullError("uri");if(!r)throw new h.ArgumentNullError("messageFormatter");this.proxyInfo=n,this.privConnectionEvents=new h.EventSource,this.privConnectionId=t,this.privMessageFormatter=r,this.privConnectionState=h.ConnectionState.None,this.privUri=e,this.privHeaders=i,this.privEnableCompression=o,this.privHeaders[d.HeaderNames.ConnectionId]=this.privConnectionId,this.privLastErrorReceived=""}get state(){return this.privConnectionState}open(){if(this.privConnectionState===h.ConnectionState.Disconnected)return Promise.reject(`Cannot open a connection that is in ${this.privConnectionState} state`);if(this.privConnectionEstablishDeferral)return this.privConnectionEstablishDeferral.promise;this.privConnectionEstablishDeferral=new h.Deferred,this.privCertificateValidatedDeferral=new h.Deferred,this.privConnectionState=h.ConnectionState.Connecting;try{if("undefined"===typeof WebSocket||v.forceNpmWebSocket){const e={headers:this.privHeaders,perMessageDeflate:this.privEnableCompression};this.privCertificateValidatedDeferral.resolve(),e.agent=this.getAgent();let t=new URL(this.privUri).protocol;"wss:"===t?.toLocaleLowerCase()?t="https:":"ws:"===t?.toLocaleLowerCase()&&(t="http:"),e.agent.protocol=t,this.privWebsocketClient=new p.default(this.privUri,e)}else this.privCertificateValidatedDeferral.resolve(),this.privWebsocketClient=new WebSocket(this.privUri);this.privWebsocketClient.binaryType="arraybuffer",this.privReceivingMessageQueue=new h.Queue,this.privDisconnectDeferral=new h.Deferred,this.privSendMessageQueue=new h.Queue,this.processSendQueue().catch((e=>{h.Events.instance.onEvent(new h.BackgroundEvent(e))}))}catch(e){return this.privConnectionEstablishDeferral.resolve(new h.ConnectionOpenResponse(500,e)),this.privConnectionEstablishDeferral.promise}return this.onEvent(new h.ConnectionStartEvent(this.privConnectionId,this.privUri)),this.privWebsocketClient.onopen=()=>{this.privCertificateValidatedDeferral.promise.then((()=>{this.privConnectionState=h.ConnectionState.Connected,this.onEvent(new h.ConnectionEstablishedEvent(this.privConnectionId)),this.privConnectionEstablishDeferral.resolve(new h.ConnectionOpenResponse(200,""))}),(e=>{this.privConnectionEstablishDeferral.reject(e)}))},this.privWebsocketClient.onerror=e=>{this.onEvent(new h.ConnectionErrorEvent(this.privConnectionId,e.message,e.type)),this.privLastErrorReceived=e.message},this.privWebsocketClient.onclose=e=>{this.privConnectionState===h.ConnectionState.Connecting?(this.privConnectionState=h.ConnectionState.Disconnected,this.privConnectionEstablishDeferral.resolve(new h.ConnectionOpenResponse(e.code,e.reason+" "+this.privLastErrorReceived))):(this.privConnectionState=h.ConnectionState.Disconnected,this.privWebsocketClient=null,this.onEvent(new h.ConnectionClosedEvent(this.privConnectionId,e.code,e.reason))),this.onClose(e.code,e.reason).catch((e=>{h.Events.instance.onEvent(new h.BackgroundEvent(e))}))},this.privWebsocketClient.onmessage=e=>{const t=(new Date).toISOString();if(this.privConnectionState===h.ConnectionState.Connected){const r=new h.Deferred;if(this.privReceivingMessageQueue.enqueueFromPromise(r.promise),e.data instanceof ArrayBuffer){const n=new h.RawWebsocketMessage(h.MessageType.Binary,e.data);this.privMessageFormatter.toConnectionMessage(n).then((e=>{this.onEvent(new h.ConnectionMessageReceivedEvent(this.privConnectionId,t,e)),r.resolve(e)}),(e=>{r.reject(`Invalid binary message format. Error: ${e}`)}))}else{const n=new h.RawWebsocketMessage(h.MessageType.Text,e.data);this.privMessageFormatter.toConnectionMessage(n).then((e=>{this.onEvent(new h.ConnectionMessageReceivedEvent(this.privConnectionId,t,e)),r.resolve(e)}),(e=>{r.reject(`Invalid text message format. Error: ${e}`)}))}}},this.privConnectionEstablishDeferral.promise}send(e){if(this.privConnectionState!==h.ConnectionState.Connected)return Promise.reject(`Cannot send on connection that is in ${h.ConnectionState[this.privConnectionState]} state`);const t=new h.Deferred,r=new h.Deferred;return this.privSendMessageQueue.enqueueFromPromise(r.promise),this.privMessageFormatter.fromConnectionMessage(e).then((n=>{r.resolve({Message:e,RawWebsocketMessage:n,sendStatusDeferral:t})}),(e=>{r.reject(`Error formatting the message. ${e}`)})),t.promise}read(){return this.privConnectionState!==h.ConnectionState.Connected?Promise.reject(`Cannot read on connection that is in ${this.privConnectionState} state`):this.privReceivingMessageQueue.dequeue()}close(e){return this.privWebsocketClient?(this.privConnectionState!==h.ConnectionState.Disconnected&&this.privWebsocketClient.close(1e3,e||"Normal closure by client"),this.privDisconnectDeferral.promise):Promise.resolve()}get events(){return this.privConnectionEvents}sendRawMessage(e){try{return e?(this.onEvent(new h.ConnectionMessageSentEvent(this.privConnectionId,(new Date).toISOString(),e.Message)),this.isWebsocketOpen?(this.privWebsocketClient.send(e.RawWebsocketMessage.payload),Promise.resolve()):Promise.reject("websocket send error: Websocket not ready "+this.privConnectionId+" "+e.Message.id+" "+(new Error).stack)):Promise.resolve()}catch(t){return Promise.reject(`websocket send error: ${t}`)}}async onClose(e,t){const r=`Connection closed. ${e}: ${t}`;this.privConnectionState=h.ConnectionState.Disconnected,this.privDisconnectDeferral.resolve(),await this.privReceivingMessageQueue.drainAndDispose((()=>{}),r),await this.privSendMessageQueue.drainAndDispose((e=>{e.sendStatusDeferral.reject(r)}),r)}async processSendQueue(){for(;;){const t=this.privSendMessageQueue.dequeue(),r=await t;if(!r)return;try{await this.sendRawMessage(r),r.sendStatusDeferral.resolve()}catch(e){r.sendStatusDeferral.reject(e)}}}onEvent(e){this.privConnectionEvents.onEvent(e),h.Events.instance.onEvent(e)}getAgent(){const e=new l.default.Agent(this.createConnection);return void 0!==this.proxyInfo&&void 0!==this.proxyInfo.HostName&&this.proxyInfo.Port>0&&(e.proxyInfo=this.proxyInfo),e}static GetProxyAgent(e){const t={host:e.HostName,port:e.Port};e.UserName?t.headers={"Proxy-Authentication":"Basic "+new Buffer(`${e.UserName}:${void 0===e.Password?"":e.Password}`).toString("base64")}:t.headers={},t.headers.requestOCSP="true";return new u.default(t)}createConnection(e,t){let r;if(t={...t,requestOCSP:!0,servername:t.host},this.proxyInfo){const n=v.GetProxyAgent(this.proxyInfo);r=new Promise(((r,i)=>{n.callback(e,t,((e,t)=>{e?i(e):r(t)}))}))}else r=t.secureEndpoint?Promise.resolve(c.connect(t)):Promise.resolve(a.connect(t));return r}get isWebsocketOpen(){return this.privWebsocketClient&&this.privWebsocketClient.readyState===this.privWebsocketClient.OPEN}}t.WebsocketMessageAdapter=v,v.forceNpmWebSocket=!1},5005:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingImpl=t.Meeting=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a{constructor(){}static createMeetingAsync(e,t,r,a){if(o.Contracts.throwIfNullOrUndefined(e,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","config")),o.Contracts.throwIfNullOrUndefined(e.region,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Region")),o.Contracts.throwIfNull(t,"meetingId"),0===t.length)throw new Error("meetingId cannot be empty");e.subscriptionKey||e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceAuthorization_Token])||o.Contracts.throwIfNullOrUndefined(e.subscriptionKey,n.ConversationConnectionConfig.restErrors.invalidArgs.replace("{arg}","SpeechServiceConnection_Key"));const l=new c(e,t);return i.marshalPromiseToCallbacks((async()=>{})(),r,a),l}}t.Meeting=a;class c extends a{constructor(e,t){super(),this.privErrors=n.ConversationConnectionConfig.restErrors,this.onConnected=e=>{this.privIsConnected=!0;try{this.privConversationTranslator?.sessionStarted&&this.privConversationTranslator.sessionStarted(this.privConversationTranslator,e)}catch(e){}},this.onDisconnected=e=>{try{this.privConversationTranslator?.sessionStopped&&this.privConversationTranslator.sessionStopped(this.privConversationTranslator,e)}catch(e){}finally{this.close(!1)}},this.onCanceled=(e,t)=>{try{this.privConversationTranslator?.canceled&&this.privConversationTranslator.canceled(this.privConversationTranslator,t)}catch(t){}},this.onParticipantUpdateCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.id);if(void 0!==e){switch(t.key){case n.ConversationTranslatorCommandTypes.changeNickname:e.displayName=t.value;break;case n.ConversationTranslatorCommandTypes.setUseTTS:e.isUsingTts=t.value;break;case n.ConversationTranslatorCommandTypes.setProfanityFiltering:e.profanity=t.value;break;case n.ConversationTranslatorCommandTypes.setMute:e.isMuted=t.value;break;case n.ConversationTranslatorCommandTypes.setTranslateToLanguages:e.translateToLanguages=t.value}this.privParticipants.addOrUpdateParticipant(e),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,[this.toParticipant(e)],t.sessionId))}}catch(t){}},this.onLockRoomCommandReceived=()=>{},this.onMuteAllCommandReceived=(e,t)=>{try{this.privParticipants.participants.forEach((e=>e.isMuted=!e.isHost&&t.isMuted)),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.Updated,this.toParticipants(!1),t.sessionId))}catch(t){}},this.onParticipantJoinCommandReceived=(e,t)=>{try{const e=this.privParticipants.addOrUpdateParticipant(t.participant);void 0!==e&&this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,[this.toParticipant(e)],t.sessionId))}catch(t){}},this.onParticipantLeaveCommandReceived=(e,t)=>{try{const e=this.privParticipants.getParticipant(t.participant.id);void 0!==e&&(this.privParticipants.deleteParticipant(t.participant.id),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.LeftConversation,[this.toParticipant(e)],t.sessionId)))}catch(t){}},this.onTranslationReceived=(e,t)=>{try{switch(t.command){case n.ConversationTranslatorMessageTypes.final:this.privConversationTranslator&&this.privConversationTranslator.transcribed(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case n.ConversationTranslatorMessageTypes.partial:this.privConversationTranslator&&this.privConversationTranslator.transcribing(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId));break;case n.ConversationTranslatorMessageTypes.instantMessage:this.privConversationTranslator&&this.privConversationTranslator.textMessageReceived(this.privConversationTranslator,new s.ConversationTranslationEventArgs(t.payload,void 0,t.sessionId))}}catch(t){}},this.onParticipantsListReceived=(e,t)=>{try{if(void 0!==t.sessionToken&&null!==t.sessionToken&&(this.privRoom.token=t.sessionToken),this.privParticipants.participants=[...t.participants],void 0!==this.privParticipants.me&&(this.privIsReady=!0),this.privConversationTranslator&&this.privConversationTranslator.participantsChanged(this.privConversationTranslator,new s.ConversationParticipantsChangedEventArgs(s.ParticipantChangedReason.JoinedConversation,this.toParticipants(!0),t.sessionId)),this.me.isHost){const e=this.privConversationTranslator?.properties.getProperty(s.PropertyId.ConversationTranslator_Name);void 0!==e&&e.length>0&&e!==this.me.displayName&&this.changeNicknameAsync(e)}}catch(t){}},this.onConversationExpiration=(e,t)=>{try{this.privConversationTranslator&&this.privConversationTranslator.conversationExpiration(this.privConversationTranslator,t)}catch(t){}},this.privIsConnected=!1,this.privIsDisposed=!1,this.privConversationId="",this.privProperties=new s.PropertyCollection,this.privManager=new n.ConversationManager;e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])||e.setProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage],n.ConversationConnectionConfig.defaultLanguageCode),this.privLanguage=e.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),this.privConversationId=t,this.privConfig=e;const r=e;o.Contracts.throwIfNull(r,"speechConfig"),this.privProperties=r.properties.clone(),this.privIsConnected=!1,this.privParticipants=new n.InternalParticipants,this.privIsReady=!1,this.privTextMessageMaxLength=1e3}get room(){return this.privRoom}get connection(){return this.privConversationRecognizer}get config(){return this.privConfig}get meetingId(){return this.privRoom?this.privRoom.roomId:this.privConversationId}get properties(){return this.privProperties}get speechRecognitionLanguage(){return this.privLanguage}get isMutedByHost(){return!this.privParticipants.me?.isHost&&this.privParticipants.me?.isMuted}get isConnected(){return this.privIsConnected&&this.privIsReady}get participants(){return this.toParticipants(!0)}get me(){return this.toParticipant(this.privParticipants.me)}get host(){return this.toParticipant(this.privParticipants.host)}get transcriberRecognizer(){return this.privTranscriberRecognizer}get meetingInfo(){const e=this.meetingId,t=this.participants.map((e=>({id:e.id,preferredLanguage:e.preferredLanguage,voice:e.voice}))),r={};for(const i of n.ConversationConnectionConfig.transcriptionEventKeys){const e=this.properties.getProperty(i,"");""!==e&&(r[i]=e)}return{id:e,participants:t,meetingProperties:r}}get canSend(){return this.privIsConnected&&!this.privParticipants.me?.isMuted}get canSendAsHost(){return this.privIsConnected&&this.privParticipants.me?.isHost}get authorizationToken(){return this.privToken}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),this.privToken=e}createMeetingAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),this.privManager.createOrJoin(this.privProperties,void 0,(r=>{r||this.handleError(new Error(this.privErrors.permissionDeniedConnect),t),this.privRoom=r,this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}startMeetingAsync(e,t){try{this.privConversationRecognizer&&this.handleError(new Error(this.privErrors.permissionDeniedStart),t),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedConnect),this.privParticipants.meId=this.privRoom.participantId,this.privConversationRecognizer.connected=this.onConnected,this.privConversationRecognizer.disconnected=this.onDisconnected,this.privConversationRecognizer.canceled=this.onCanceled,this.privConversationRecognizer.participantUpdateCommandReceived=this.onParticipantUpdateCommandReceived,this.privConversationRecognizer.lockRoomCommandReceived=this.onLockRoomCommandReceived,this.privConversationRecognizer.muteAllCommandReceived=this.onMuteAllCommandReceived,this.privConversationRecognizer.participantJoinCommandReceived=this.onParticipantJoinCommandReceived,this.privConversationRecognizer.participantLeaveCommandReceived=this.onParticipantLeaveCommandReceived,this.privConversationRecognizer.translationReceived=this.onTranslationReceived,this.privConversationRecognizer.participantsListReceived=this.onParticipantsListReceived,this.privConversationRecognizer.conversationExpiration=this.onConversationExpiration,this.privConversationRecognizer.connect(this.privRoom.token,(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}addParticipantAsync(e,t,r){o.Contracts.throwIfNullOrUndefined(e,"Participant"),i.marshalPromiseToCallbacks(this.addParticipantImplAsync(e),t,r)}joinMeetingAsync(e,t,r,n,i){try{o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","conversationId")),o.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrWhitespace(r,this.privErrors.invalidArgs.replace("{arg}","language")),this.privManager.createOrJoin(this.privProperties,e,(e=>{o.Contracts.throwIfNullOrUndefined(e,this.privErrors.permissionDeniedConnect),this.privRoom=e,this.privConfig.authorizationToken=e.cognitiveSpeechAuthToken,n&&n(e.cognitiveSpeechAuthToken)}),(e=>{this.handleError(e,i)}))}catch(s){this.handleError(s,i)}}deleteMeetingAsync(e,t){i.marshalPromiseToCallbacks(this.deleteMeetingImplAsync(),e,t)}async deleteMeetingImplAsync(){o.Contracts.throwIfNullOrUndefined(this.privProperties,this.privErrors.permissionDeniedConnect),o.Contracts.throwIfNullOrWhitespace(this.privRoom.token,this.privErrors.permissionDeniedConnect),await this.privManager.leave(this.privProperties,this.privRoom.token),this.dispose()}endMeetingAsync(e,t){i.marshalPromiseToCallbacks(this.endMeetingImplAsync(),e,t)}endMeetingImplAsync(){return this.close(!0)}lockMeetingAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","lock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}muteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privConversationRecognizer,this.privErrors.permissionDeniedSend),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","mute")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!0),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}muteParticipantAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),r);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!0),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}removeParticipantAsync(e,t,r){try{if(o.Contracts.throwIfDisposed(this.privIsDisposed),this.privTranscriberRecognizer&&e.hasOwnProperty("id"))i.marshalPromiseToCallbacks(this.removeParticipantImplAsync(e),t,r);else{o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","remove")),r);let n="";if("string"===typeof e)n=e;else if(e.hasOwnProperty("id")){n=e.id}else if(e.hasOwnProperty("userId")){n=e.userId}o.Contracts.throwIfNullOrWhitespace(n,this.privErrors.invalidArgs.replace("{arg}","userId"));-1===this.participants.findIndex((e=>e.id===n))&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getEjectCommand(n),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}}catch(n){this.handleError(n,r)}}unlockMeetingAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unlock")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getLockCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}unmuteAllParticipantsAsync(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSendAsHost||this.handleError(new Error(this.privErrors.permissionDeniedConversation.replace("{command}","unmute all")),t),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteAllCommand(!1),(()=>{this.handleCallback(e,t)}),(e=>{this.handleError(e,t)}))}catch(r){this.handleError(r,t)}}unmuteParticipantAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","userId")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.me.isHost||this.me.id===e||this.handleError(new Error(this.privErrors.permissionDeniedParticipant.replace("{command}","mute")),r);-1===this.privParticipants.getParticipantIndex(e)&&this.handleError(new Error(this.privErrors.invalidParticipantRequest),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMuteCommand(e,!1),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}sendTextMessageAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","message")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),e.length>this.privTextMessageMaxLength&&this.handleError(new Error(this.privErrors.invalidArgs.replace("{arg}","message length")),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getMessageCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}setTranslatedLanguagesAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfArrayEmptyOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","languages")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getSetTranslateToLanguagesCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}changeNicknameAsync(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfDisposed(this.privConversationRecognizer.isDisposed()),o.Contracts.throwIfNullOrWhitespace(e,this.privErrors.invalidArgs.replace("{arg}","nickname")),o.Contracts.throwIfNullOrUndefined(this.privRoom,this.privErrors.permissionDeniedSend),this.canSend||this.handleError(new Error(this.privErrors.permissionDeniedSend),r),this.privConversationRecognizer&&this.privConversationRecognizer.sendRequest(this.getChangeNicknameCommand(e),(()=>{this.handleCallback(t,r)}),(e=>{this.handleError(e,r)}))}catch(n){this.handleError(n,r)}}isDisposed(){return this.privIsDisposed}dispose(){this.isDisposed||(this.privIsDisposed=!0,this.config&&this.config.close(),this.privConfig=void 0,this.privLanguage=void 0,this.privProperties=void 0,this.privRoom=void 0,this.privToken=void 0,this.privManager=void 0,this.privIsConnected=!1,this.privIsReady=!1,this.privParticipants=void 0)}async connectTranscriberRecognizer(e){this.privTranscriberRecognizer&&await this.privTranscriberRecognizer.close(),await e.enforceAudioGating(),this.privTranscriberRecognizer=e,this.privTranscriberRecognizer.meeting=this}getKeepAlive(){const e=this.me?this.me.displayName:"default_nickname";return JSON.stringify({id:"0",nickname:e,participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.keepAlive})}addParticipantImplAsync(e){if(void 0!==this.privParticipants.addOrUpdateParticipant(e)&&this.privTranscriberRecognizer){const t=this.meetingInfo;return t.participants=[e],this.privTranscriberRecognizer.pushMeetingEvent(t,"join")}}removeParticipantImplAsync(e){this.privParticipants.deleteParticipant(e.id);const t=this.meetingInfo;return t.participants=[e],this.privTranscriberRecognizer.pushMeetingEvent(t,"leave")}async close(e){try{this.privIsConnected=!1,await(this.privConversationRecognizer?.close()),this.privConversationRecognizer=void 0,this.privConversationTranslator&&this.privConversationTranslator.dispose()}catch(t){throw t}e&&this.dispose()}handleCallback(e,t){if(e){try{e()}catch(r){t&&t(r)}e=void 0}}handleError(e,t){if(t)if(e instanceof Error){const r=e;t(r.name+": "+r.message)}else t(e)}toParticipants(e){const t=this.privParticipants.participants.map((e=>this.toParticipant(e)));return e?t:t.filter((e=>!1===e.isHost))}toParticipant(e){return new s.Participant(e.id,e.avatar,e.displayName,e.isHost,e.isMuted,e.isUsingTts,e.preferredLanguage,e.voice)}getMuteAllCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingd"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setMuteAll,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMuteCommand(e,t){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"conversationId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setMute,participantId:e,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:t})}getLockCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setLockState,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getEjectCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(e,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.ejectParticipant,participantId:e,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand})}getSetTranslateToLanguagesCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.setTranslateToLanguages,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getChangeNicknameCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(e,"nickname"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),JSON.stringify({command:n.ConversationTranslatorCommandTypes.changeNickname,nickname:e,participantId:this.privRoom.participantId,roomid:this.privRoom.roomId,type:n.ConversationTranslatorMessageTypes.participantCommand,value:e})}getMessageCommand(e){return o.Contracts.throwIfNullOrWhitespace(this.privRoom.roomId,"meetingId"),o.Contracts.throwIfNullOrWhitespace(this.privRoom.participantId,"participantId"),o.Contracts.throwIfNullOrWhitespace(e,"message"),JSON.stringify({participantId:this.privRoom.participantId,roomId:this.privRoom.roomId,text:e,type:n.ConversationTranslatorMessageTypes.instantMessage})}}t.MeetingImpl=c},5007:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechServiceRecognizer=void 0;const n=r(8040),i=r(9859);class o extends i.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privSpeechRecognizer=i}async processTypeSpecificMessages(e){let t;const r=new n.PropertyCollection;let o=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":const c=i.SpeechHypothesis.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);r.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,c.asJson()),t=new n.SpeechRecognitionResult(this.privRequestSession.requestId,n.ResultReason.RecognizingSpeech,c.Text,c.Duration,c.Offset,c.Language,c.LanguageDetectionConfidence,void 0,void 0,c.asJson(),r),this.privRequestSession.onHypothesis(c.Offset);const l=new n.SpeechRecognitionEventArgs(t,c.Offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognizing)try{this.privSpeechRecognizer.recognizing(this.privSpeechRecognizer,l)}catch(s){}o=!0;break;case"speech.phrase":const u=i.SimpleSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);r.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,u.asJson());const p=i.EnumTranslation.implTranslateRecognitionResult(u.RecognitionStatus,this.privExpectContentAssessmentResponse);if(this.privRequestSession.onPhraseRecognized(u.Offset+u.Duration),n.ResultReason.Canceled===p){const e=i.EnumTranslation.implTranslateCancelResult(u.RecognitionStatus),t=i.EnumTranslation.implTranslateCancelErrorCode(u.RecognitionStatus);await this.cancelRecognitionLocal(e,t,i.EnumTranslation.implTranslateErrorDetails(t))}else{if(u.RecognitionStatus===i.RecognitionStatus.EndOfDictation)break;if(this.privRecognizerConfig.parameters.getProperty(i.OutputFormatPropertyName)===n.OutputFormat[n.OutputFormat.Simple])t=new n.SpeechRecognitionResult(this.privRequestSession.requestId,p,u.DisplayText,u.Duration,u.Offset,u.Language,u.LanguageDetectionConfidence,void 0,void 0,u.asJson(),r);else{const o=i.DetailedSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);r.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,o.asJson()),t=new n.SpeechRecognitionResult(this.privRequestSession.requestId,p,o.RecognitionStatus===i.RecognitionStatus.Success?o.NBest[0].Display:"",o.Duration,o.Offset,o.Language,o.LanguageDetectionConfidence,void 0,void 0,o.asJson(),r)}const o=new n.SpeechRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);if(this.privSpeechRecognizer.recognized)try{this.privSpeechRecognizer.recognized(this.privSpeechRecognizer,o)}catch(s){}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(a){this.privErrorCallback&&this.privErrorCallback(a)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}o=!0}return o}cancelRecognition(e,t,r,o,s){const a=new n.PropertyCollection;if(a.setProperty(i.CancellationErrorCodePropertyName,n.CancellationErrorCode[o]),this.privSpeechRecognizer.canceled){const t=new n.SpeechRecognitionCanceledEventArgs(r,s,o,void 0,e);try{this.privSpeechRecognizer.canceled(this.privSpeechRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new n.SpeechRecognitionResult(t,n.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}t.SpeechServiceRecognizer=o},5043:(e,t,r)=>{"use strict";e.exports=r(4202)},5047:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5080:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,i=(n=r(7019))&&n.__esModule?n:{default:n};const o=[];for(let c=0;c<256;++c)o.push((c+256).toString(16).slice(1));function s(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o[e[t+0]]+o[e[t+1]]+o[e[t+2]]+o[e[t+3]]+"-"+o[e[t+4]]+o[e[t+5]]+"-"+o[e[t+6]]+o[e[t+7]]+"-"+o[e[t+8]]+o[e[t+9]]+"-"+o[e[t+10]]+o[e[t+11]]+o[e[t+12]]+o[e[t+13]]+o[e[t+14]]+o[e[t+15]]}var a=function(e){const t=s(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0);if(!(0,i.default)(t))throw TypeError("Stringified UUID is invalid");return t};t.default=a},5132:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MessageDataStreamType=t.ActivityPayloadResponse=void 0;class r{constructor(e){this.privActivityResponse=JSON.parse(e)}static fromJSON(e){return new r(e)}get conversationId(){return this.privActivityResponse.conversationId}get messageDataStreamType(){return this.privActivityResponse.messageDataStreamType}get messagePayload(){return this.privActivityResponse.messagePayload}get version(){return this.privActivityResponse.version}}t.ActivityPayloadResponse=r,function(e){e[e.None=0]="None",e[e.TextToSpeechAudio=1]="TextToSpeechAudio"}(t.MessageDataStreamType||(t.MessageDataStreamType={}))},5200:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceAdapter=void 0;const n=r(2277),i=r(323),o=r(2307),s=r(7810),a=r(8040),c=r(7368),l=r(9859),u=r(5132),p=r(222);class d extends l.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privEvents=new o.EventSource,this.privDialogServiceConnector=i,this.receiveMessageOverride=()=>this.receiveDialogMessageOverride(),this.privTurnStateManager=new c.DialogServiceTurnStateManager,this.recognizeOverride=(e,t,r)=>this.listenOnce(e,t,r),this.postConnectImplOverride=e=>this.dialogConnectImpl(e),this.configConnectionOverride=e=>this.configConnection(e),this.disconnectOverride=()=>this.privDisconnect(),this.privDialogAudioSource=r,this.agentConfigSent=!1,this.privLastResult=null,this.connectionEvents.attach((e=>{"ConnectionClosedEvent"===e.name&&(this.terminateMessageLoop=!0)}))}async sendMessage(e){const t=o.createGuid(),r=o.createNoDashGuid(),n={context:{interactionId:t},messagePayload:JSON.parse(e),version:.5},i=JSON.stringify(n),s=await this.fetchConnection();await s.send(new p.SpeechConnectionMessage(o.MessageType.Text,"agent",r,"application/json",i))}async privDisconnect(){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,this.agentConfigSent=!1}processTypeSpecificMessages(e){const t=new a.PropertyCollection;let r,n;switch(e.messageType===o.MessageType.Text&&t.setProperty(a.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.phrase":const i=l.SimpleSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);if(this.privRequestSession.onPhraseRecognized(i.Offset+i.Duration),i.RecognitionStatus!==l.RecognitionStatus.TooManyRequests&&i.RecognitionStatus!==l.RecognitionStatus.Error){const e=this.fireEventForResult(i,t);if(this.privLastResult=e.result,this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,e)}catch(s){}}n=!0;break;case"speech.hypothesis":const o=l.SpeechHypothesis.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);r=new a.SpeechRecognitionResult(this.privRequestSession.requestId,a.ResultReason.RecognizingSpeech,o.Text,o.Duration,o.Offset,o.Language,o.LanguageDetectionConfidence,void 0,void 0,o.asJson(),t),this.privRequestSession.onHypothesis(o.Offset);const c=new a.SpeechRecognitionEventArgs(r,o.Offset,this.privRequestSession.sessionId);if(this.privDialogServiceConnector.recognizing)try{this.privDialogServiceConnector.recognizing(this.privDialogServiceConnector,c)}catch(s){}n=!0;break;case"speech.keyword":const u=l.SpeechKeyword.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);r=new a.SpeechRecognitionResult(this.privRequestSession.requestId,"Accepted"===u.Status?a.ResultReason.RecognizedKeyword:a.ResultReason.NoMatch,u.Text,u.Duration,u.Offset,void 0,void 0,void 0,void 0,u.asJson(),t),"Accepted"!==u.Status&&(this.privLastResult=r);const p=new a.SpeechRecognitionEventArgs(r,r.duration,r.resultId);if(this.privDialogServiceConnector.recognized)try{this.privDialogServiceConnector.recognized(this.privDialogServiceConnector,p)}catch(s){}n=!0;break;case"audio":{const t=e.requestId.toUpperCase(),r=this.privTurnStateManager.GetTurn(t);try{e.binaryBody?r.audioStream.write(e.binaryBody):r.endAudioStream()}catch(s){}}n=!0;break;case"response":this.handleResponseMessage(e),n=!0}const i=new o.Deferred;return i.resolve(n),i.promise}async cancelRecognition(e,t,r,n,i){if(this.terminateMessageLoop=!0,this.privRequestSession.isRecognizing&&await this.privRequestSession.onStopRecognizing(),this.privDialogServiceConnector.canceled){const t=new a.PropertyCollection;t.setProperty(l.CancellationErrorCodePropertyName,a.CancellationErrorCode[n]);const o=new a.SpeechRecognitionCanceledEventArgs(r,i,n,void 0,e);try{this.privDialogServiceConnector.canceled(this.privDialogServiceConnector,o)}catch{}if(this.privSuccessCallback){const e=new a.SpeechRecognitionResult(void 0,a.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,void 0,i,void 0,t);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}async listenOnce(e,t,r){this.privRecognizerConfig.recognitionMode=e,this.privSuccessCallback=t,this.privErrorCallback=r,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privDialogAudioSource.events),this.privRecognizerConfig.parameters.setProperty(a.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const i=this.connectImpl(),o=this.sendPreAudioMessages(),s=await this.privDialogAudioSource.attach(this.privRequestSession.audioNodeId),c=await this.privDialogAudioSource.format,l=await this.privDialogAudioSource.deviceInfo,u=new n.ReplayableAudioNode(s,c.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(u,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:l};try{await i,await o}catch(d){return await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.ConnectionFailure,d),Promise.resolve()}const p=new a.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,p);this.sendAudio(u).then((()=>{}),(async e=>{await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.RuntimeError,e)}))}dialogConnectImpl(e){return this.privConnectionLoop=this.startMessageLoop(),e}receiveDialogMessageOverride(){const e=new o.Deferred,t=async()=>{try{const n=this.isDisposed(),i=!this.isDisposed()&&this.terminateMessageLoop;if(n||i)return void e.resolve(void 0);const s=await this.fetchConnection(),c=await s.read();if(!c)return t();const u=p.SpeechConnectionMessage.fromConnectionMessage(c);switch(u.path.toLowerCase()){case"turn.start":{const e=u.requestId.toUpperCase();e!==this.privRequestSession.requestId.toUpperCase()?this.privTurnStateManager.StartTurn(e):this.privRequestSession.onServiceTurnStartResponse()}break;case"speech.startdetected":const e=l.SpeechDetected.fromJSON(u.textBody,this.privRequestSession.currentTurnAudioOffset),t=new a.RecognitionEventArgs(e.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,t);break;case"speech.enddetected":let n;n=u.textBody.length>0?u.textBody:"{ Offset: 0 }";const i=l.SpeechDetected.fromJSON(n,this.privRequestSession.currentTurnAudioOffset);this.privRequestSession.onServiceRecognized(i.Offset);const s=new a.RecognitionEventArgs(i.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,s);break;case"turn.end":{const e=u.requestId.toUpperCase();if(e!==this.privRequestSession.requestId.toUpperCase())this.privTurnStateManager.CompleteTurn(e);else{const e=new a.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(!1),this.privRecognizerConfig.isContinuousRecognition&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing||this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,e),this.privSuccessCallback&&this.privLastResult){try{this.privSuccessCallback(this.privLastResult),this.privLastResult=null}catch(r){this.privErrorCallback&&this.privErrorCallback(r)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}}}break;default:try{await this.processTypeSpecificMessages(u)||this.serviceEvents&&this.serviceEvents.onEvent(new o.ServiceEvent(u.path.toLowerCase(),u.textBody))}catch(r){}}return t()}catch(n){this.terminateMessageLoop=!0,e.resolve()}};return t().catch((e=>{o.Events.instance.onEvent(new o.BackgroundEvent(e))})),e.promise}async startMessageLoop(){this.terminateMessageLoop=!1;try{await this.receiveDialogMessageOverride()}catch(e){await this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,a.CancellationReason.Error,a.CancellationErrorCode.RuntimeError,e)}return Promise.resolve()}async configConnection(e){return this.terminateMessageLoop?(this.terminateMessageLoop=!1,Promise.reject("Connection to service terminated.")):(await this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendAgentConfig(e),e)}async sendPreAudioMessages(){const e=await this.fetchConnection();this.addKeywordContextData(),await this.sendSpeechContext(e,!0),await this.sendAgentContext(e),await this.sendWaveHeader(e)}sendAgentConfig(e){if(this.agentConfig&&!this.agentConfigSent){if(this.privRecognizerConfig.parameters.getProperty(a.PropertyId.Conversation_DialogType)===a.DialogServiceConfig.DialogTypes.CustomCommands){const e=this.agentConfig.get();e.botInfo.commandsCulture=this.privRecognizerConfig.parameters.getProperty(a.PropertyId.SpeechServiceConnection_RecoLanguage,"en-us"),this.agentConfig.set(e)}this.onEvent(new i.SendingAgentContextMessageEvent(this.agentConfig));const t=this.agentConfig.toJsonString();return this.agentConfigSent=!0,e.send(new p.SpeechConnectionMessage(o.MessageType.Text,"agent.config",this.privRequestSession.requestId,"application/json",t))}}sendAgentContext(e){const t=o.createGuid(),r=this.privDialogServiceConnector.properties.getProperty(a.PropertyId.Conversation_Speech_Activity_Template),n={channelData:"",context:{interactionId:t},messagePayload:void 0===typeof r?void 0:r,version:.5},i=JSON.stringify(n);return e.send(new p.SpeechConnectionMessage(o.MessageType.Text,"speech.agent.context",this.privRequestSession.requestId,"application/json",i))}fireEventForResult(e,t){const r=l.EnumTranslation.implTranslateRecognitionResult(e.RecognitionStatus),n=new a.SpeechRecognitionResult(this.privRequestSession.requestId,r,e.DisplayText,e.Duration,e.Offset,e.Language,e.LanguageDetectionConfidence,void 0,void 0,e.asJson(),t);return new a.SpeechRecognitionEventArgs(n,e.Offset,this.privRequestSession.sessionId)}handleResponseMessage(e){const t=JSON.parse(e.textBody);switch(t.messageType.toLowerCase()){case"message":const n=e.requestId.toUpperCase(),i=u.ActivityPayloadResponse.fromJSON(e.textBody),c=this.privTurnStateManager.GetTurn(n);if(i.conversationId){const e=this.agentConfig.get();e.botInfo.conversationId=i.conversationId,this.agentConfig.set(e)}const l=c.processActivityPayload(i,s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormatString(this.privDialogServiceConnector.properties.getProperty(a.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0))),p=new a.ActivityReceivedEventArgs(i.messagePayload,l);if(this.privDialogServiceConnector.activityReceived)try{this.privDialogServiceConnector.activityReceived(this.privDialogServiceConnector,p)}catch(r){}break;case"messagestatus":if(this.privDialogServiceConnector.turnStatusReceived)try{this.privDialogServiceConnector.turnStatusReceived(this.privDialogServiceConnector,new a.TurnStatusReceivedEventArgs(e.textBody))}catch(r){}break;default:o.Events.instance.onEvent(new o.BackgroundEvent(`Unexpected response of type ${t.messageType}. Ignoring.`))}}onEvent(e){this.privEvents.onEvent(e),o.Events.instance.onEvent(e)}addKeywordContextData(){const e=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect");if(void 0===e)return;const t=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Offsets"),r=this.privRecognizerConfig.parameters.getProperty("SPEECH-KeywordsToDetect-Durations"),n=e.split(";"),i=void 0===t?[]:t.split(";"),o=void 0===r?[]:r.split(";"),s=[];for(let a=0;a<n.length;a++){const e={};e.text=n[a],a<i.length&&(e.offset=Number(i[a])),a<o.length&&(e.duration=Number(o[a])),s.push(e)}this.speechContext.setSection("invocationSource","VoiceActivationWithKeyword"),this.speechContext.setSection("keywordDetection",[{clientDetectedKeywords:s,onReject:{action:"EndOfTurn"},type:"startTrigger"}])}}t.DialogServiceAdapter=d},5253:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationStatus=void 0,function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(t.TranslationStatus||(t.TranslationStatus={}))},5411:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechRecognizer=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a extends s.Recognizer{constructor(e,t){const r=e;o.Contracts.throwIfNull(r,"speechConfig"),o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,r.properties,new n.SpeechConnectionFactory),this.privDisposedRecognizer=!1}static FromConfig(e,t,r){const n=e;t.properties.mergeTo(n.properties);return new a(e,r)}get endpointId(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])===s.OutputFormat[s.OutputFormat.Simple]?s.OutputFormat.Simple:s.OutputFormat.Detailed}get properties(){return this.privProperties}recognizeOnceAsync(e,t){i.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(n.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,r){o.Contracts.throwIfNull(e,"model"),r&&r("Not yet implemented.")}stopKeywordRecognitionAsync(e){e&&e()}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,i){const o=r;return new n.SpeechServiceRecognizer(e,t,o,i,this)}}t.SpeechRecognizer=a},5463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(2465);Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return n.Conversation}}),Object.defineProperty(t,"ConversationImpl",{enumerable:!0,get:function(){return n.ConversationImpl}});var i=r(796);Object.defineProperty(t,"ConversationCommon",{enumerable:!0,get:function(){return i.ConversationCommon}});var o=r(1115);Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return o.ConversationExpirationEventArgs}});var s=r(4314);Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return s.ConversationParticipantsChangedEventArgs}});var a=r(8400);Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return a.ConversationTranslationCanceledEventArgs}});var c=r(2033);Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return c.ConversationTranslationEventArgs}});var l=r(4383);Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return l.ConversationTranslationResult}});var u=r(2663);Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return u.ConversationTranslator}});var p=r(5482);Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return p.ConversationTranscriber}});var d=r(4874);Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return d.Participant}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return d.User}});var h=r(8545);Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return h.ParticipantChangedReason}});var v=r(5005);Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return v.Meeting}}),Object.defineProperty(t,"MeetingImpl",{enumerable:!0,get:function(){return v.MeetingImpl}});var f=r(2013);Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return f.MeetingTranscriptionCanceledEventArgs}});var g=r(182);Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return g.MeetingTranscriber}});var m=r(3496);Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return m.ConversationTranscriptionResult}})},5482:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranscriber=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a extends s.Recognizer{constructor(e,t){const r=e;o.Contracts.throwIfNull(r,"speechConfig"),o.Contracts.throwIfNullOrWhitespace(r.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,r.properties,new n.ConversationTranscriberConnectionFactory),this.privProperties.setProperty(s.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privDisposedRecognizer=!1}static FromConfig(e,t,r){const n=e;t.properties.mergeTo(n.properties);return new a(e,r)}get endpointId(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_EndpointId,"00000000-0000-0000-0000-000000000000")}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get outputFormat(){return o.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(n.OutputFormatPropertyName,s.OutputFormat[s.OutputFormat.Simple])===s.OutputFormat[s.OutputFormat.Simple]?s.OutputFormat.Simple:s.OutputFormat.Detailed}get properties(){return this.privProperties}startTranscribingAsync(e,t){i.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),e,t)}stopTranscribingAsync(e,t){i.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedRecognizer),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,i){const o=r;return i.isSpeakerDiarizationEnabled=!0,new n.ConversationTranscriptionServiceRecognizer(e,t,o,i,this)}}t.ConversationTranscriber=a},5619:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AgentConfig=void 0;t.AgentConfig=class{toJsonString(){return JSON.stringify(this.iPrivConfig)}get(){return this.iPrivConfig}set(e){this.iPrivConfig=e}}},5670:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},5787:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnState=void 0;const n=r(7810),i=r(9709),o=r(5132);t.DialogServiceTurnState=class{constructor(e,t){this.privRequestId=t,this.privIsCompleted=!1,this.privAudioStream=null,this.privTurnManager=e,this.resetTurnEndTimeout()}get audioStream(){return this.resetTurnEndTimeout(),this.privAudioStream}processActivityPayload(e,t){return e.messageDataStreamType===o.MessageDataStreamType.TextToSpeechAudio&&(this.privAudioStream=i.AudioOutputStream.createPullStream(),this.privAudioStream.format=void 0!==t?t:n.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privAudioStream}endAudioStream(){null===this.privAudioStream||this.privAudioStream.isClosed||this.privAudioStream.close()}complete(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.endAudioStream()}resetTurnEndTimeout(){void 0!==this.privTimeoutToken&&clearTimeout(this.privTimeoutToken),this.privTimeoutToken=setTimeout((()=>{this.privTurnManager.CompleteTurn(this.privRequestId)}),2e3)}}},5819:e=>{"use strict";const t=new Set(["json","buffer","string"]);e.exports=e=>function(){const r=new Set;let n,i,o,s="";for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];return c.forEach((e=>{if("string"===typeof e)if(e.toUpperCase()===e){if(n){throw new Error(`Can't set method to ${e}, already set to ${n}.`)}n=e}else if(e.startsWith("http:")||e.startsWith("https:"))s=e;else{if(!t.has(e))throw new Error(`Unknown encoding, ${e}`);i=e}else if("number"===typeof e)r.add(e);else{if("object"!==typeof e)throw new Error("Unknown type: "+typeof e);if(Array.isArray(e)||e instanceof Set)e.forEach((e=>r.add(e)));else{if(o)throw new Error("Cannot set headers twice.");o=e}}})),n||(n="GET"),0===r.size&&r.add(200),e(r,n,i,o,s)}},5850:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{}t.ConnectionEventArgs=i},5886:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarSynthesizer=void 0;const n=r(3344),i=r(9859),o=r(2307),s=r(7810),a=r(8040),c=r(260),l=r(8021);class u extends a.Synthesizer{constructor(e,t){super(e),c.Contracts.throwIfNullOrUndefined(t,"avatarConfig"),this.privConnectionFactory=new n.SpeechSynthesisConnectionFactory,this.privAvatarConfig=t,this.implCommonSynthesizeSetup()}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(a.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm)}async startAvatarAsync(e){c.Contracts.throwIfNullOrUndefined(e,"peerConnection"),this.privIceServers=e.getConfiguration().iceServers,c.Contracts.throwIfNullOrUndefined(this.privIceServers,"Ice servers must be set.");const t=new o.Deferred;e.onicegatheringstatechange=()=>{o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering state: "+e.iceGatheringState,o.EventType.Debug)),"complete"===e.iceGatheringState&&(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering complete.",o.EventType.Info)),t.resolve())},e.onicecandidate=e=>{e.candidate?o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice candidate: "+e.candidate.candidate,o.EventType.Debug)):(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice candidate: complete",o.EventType.Debug)),t.resolve())},setTimeout((()=>{"complete"!==e.iceGatheringState&&(o.Events.instance.onEvent(new o.PlatformEvent("peer connection: ice gathering timeout.",o.EventType.Warning)),t.resolve())}),2e3);const r=await e.createOffer();await e.setLocalDescription(r),await t.promise,o.Events.instance.onEvent(new o.PlatformEvent("peer connection: got local SDP.",o.EventType.Info)),this.privProperties.setProperty(a.PropertyId.TalkingAvatarService_WebRTC_SDP,JSON.stringify(e.localDescription));const n=await this.speak("",!1);if(n.reason!==a.ResultReason.SynthesizingAudioCompleted)return new a.SynthesisResult(n.resultId,n.reason,n.errorDetails,n.properties);const i=atob(n.properties.getProperty(a.PropertyId.TalkingAvatarService_WebRTC_SDP)),s=new RTCSessionDescription(JSON.parse(i));return await e.setRemoteDescription(s),new a.SynthesisResult(n.resultId,n.reason,void 0,n.properties)}async speakTextAsync(e){const t=await this.speak(e,!1);return new a.SynthesisResult(t.resultId,t.reason,t.errorDetails,t.properties)}async speakSsmlAsync(e){const t=await this.speak(e,!0);return new a.SynthesisResult(t.resultId,t.reason,t.errorDetails,t.properties)}async stopSpeakingAsync(){for(;this.synthesisRequestQueue.length()>0;){(await this.synthesisRequestQueue.dequeue()).err("Synthesis is canceled by user.")}return this.privAdapter.stopSpeaking()}async stopAvatarAsync(){return c.Contracts.throwIfDisposed(this.privDisposed),this.dispose(!0)}async close(){if(!this.privDisposed)return this.dispose(!0)}get iceServers(){return this.privIceServers}createSynthesisAdapter(e,t,r){return new i.AvatarSynthesisAdapter(e,t,r,this,this.privAvatarConfig)}createRestSynthesisAdapter(e,t){}createSynthesizerConfig(e){const t=super.createSynthesizerConfig(e);return t.avatarEnabled=!0,t}async speak(e,t){const r=o.createNoDashGuid(),n=new o.Deferred;return this.synthesisRequestQueue.enqueue(new l.SynthesisRequest(r,e,t,(e=>{n.resolve(e),this.privSynthesizing=!1,this.adapterSpeak()}),(e=>{n.reject(e),this.privSynthesizing=!1}))),this.adapterSpeak(),n.promise}}t.AvatarSynthesizer=u},5934:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorConnectionFactory=void 0;const n=r(2277),i=r(7354),o=r(260),s=r(8040),a=r(8643),c=r(7237),l=r(2679),u=r(9859);class p extends l.ConnectionFactoryBase{constructor(e){super(),o.Contracts.throwIfNullOrUndefined(e,"convGetter"),this.privConvGetter=e}create(e,t,r){const o="TRUE"===e.parameters.getProperty("ConversationTranslator_MultiChannelAudio","").toUpperCase(),d=this.privConvGetter().room,h=d.cognitiveSpeechRegion||e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Region,""),v={hostSuffix:l.ConnectionFactoryBase.getHostSuffix(h),path:p.CTS_VIRT_MIC_PATH,region:encodeURIComponent(h)};v[c.QueryParameterNames.Language]=encodeURIComponent(e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage,"")),v[c.QueryParameterNames.CtsMeetingId]=encodeURIComponent(d.roomId),v[c.QueryParameterNames.CtsDeviceId]=encodeURIComponent(d.participantId),v[c.QueryParameterNames.CtsIsParticipant]=d.isHost?"":"&"+c.QueryParameterNames.CtsIsParticipant;let f="";const g={},m={};if(o){if(f=e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Endpoint),!f){f="wss://"+e.parameters.getProperty(s.PropertyId.SpeechServiceConnection_Host,"transcribe.{region}.cts.speech{hostSuffix}")+"{path}"}f=i.StringUtils.formatString(f,v);const t=new URL(f);t.searchParams.forEach(((e,t)=>{g[t]=e}));(new u.TranscriberConnectionFactory).setQueryParams(g,e,f),g[c.QueryParameterNames.CtsMeetingId]=v[c.QueryParameterNames.CtsMeetingId],g[c.QueryParameterNames.CtsDeviceId]=v[c.QueryParameterNames.CtsDeviceId],d.isHost||(g[c.QueryParameterNames.CtsIsParticipant]=""),c.QueryParameterNames.Format in g||(g[c.QueryParameterNames.Format]="simple"),t.searchParams.forEach(((e,r)=>{t.searchParams.set(r,g[r]),delete g[r]})),f=t.toString()}else{const t=new u.TranslationConnectionFactory;f=t.getEndpointUrl(e,!0),f=i.StringUtils.formatString(f,v),t.setQueryParams(g,e,f)}m[a.HeaderNames.ConnectionId]=r,m[n.RestConfigBase.configParams.token]=d.token,t.token&&(m[t.headerName]=t.token);const y="TRUE"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","").toUpperCase();return new n.WebsocketConnection(f,g,m,new u.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),y,r)}}t.ConversationTranslatorConnectionFactory=p,p.CTS_VIRT_MIC_PATH="/speech/recognition/dynamicaudio"},6002:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OCSPCacheUpdateErrorEvent=t.OCSPResponseRetrievedEvent=t.OCSPCacheFetchErrorEvent=t.OCSPVerificationFailedEvent=t.OCSPCacheHitEvent=t.OCSPCacheEntryNeedsRefreshEvent=t.OCSPCacheEntryExpiredEvent=t.OCSPWSUpgradeStartedEvent=t.OCSPStapleReceivedEvent=t.OCSPCacheUpdateCompleteEvent=t.OCSPDiskCacheStoreEvent=t.OCSPMemoryCacheStoreEvent=t.OCSPCacheUpdateNeededEvent=t.OCSPDiskCacheHitEvent=t.OCSPCacheMissEvent=t.OCSPMemoryCacheHitEvent=t.OCSPEvent=void 0;const n=r(333);class i extends n.PlatformEvent{constructor(e,t,r){super(e,t),this.privSignature=r}}t.OCSPEvent=i;t.OCSPMemoryCacheHitEvent=class extends i{constructor(e){super("OCSPMemoryCacheHitEvent",n.EventType.Debug,e)}};t.OCSPCacheMissEvent=class extends i{constructor(e){super("OCSPCacheMissEvent",n.EventType.Debug,e)}};t.OCSPDiskCacheHitEvent=class extends i{constructor(e){super("OCSPDiskCacheHitEvent",n.EventType.Debug,e)}};t.OCSPCacheUpdateNeededEvent=class extends i{constructor(e){super("OCSPCacheUpdateNeededEvent",n.EventType.Debug,e)}};t.OCSPMemoryCacheStoreEvent=class extends i{constructor(e){super("OCSPMemoryCacheStoreEvent",n.EventType.Debug,e)}};t.OCSPDiskCacheStoreEvent=class extends i{constructor(e){super("OCSPDiskCacheStoreEvent",n.EventType.Debug,e)}};t.OCSPCacheUpdateCompleteEvent=class extends i{constructor(e){super("OCSPCacheUpdateCompleteEvent",n.EventType.Debug,e)}};t.OCSPStapleReceivedEvent=class extends i{constructor(){super("OCSPStapleReceivedEvent",n.EventType.Debug,"")}};t.OCSPWSUpgradeStartedEvent=class extends i{constructor(e){super("OCSPWSUpgradeStartedEvent",n.EventType.Debug,e)}};t.OCSPCacheEntryExpiredEvent=class extends i{constructor(e,t){super("OCSPCacheEntryExpiredEvent",n.EventType.Debug,e),this.privExpireTime=t}};t.OCSPCacheEntryNeedsRefreshEvent=class extends i{constructor(e,t,r){super("OCSPCacheEntryNeedsRefreshEvent",n.EventType.Debug,e),this.privExpireTime=r,this.privStartTime=t}};t.OCSPCacheHitEvent=class extends i{constructor(e,t,r){super("OCSPCacheHitEvent",n.EventType.Debug,e),this.privExpireTime=r,this.privExpireTimeString=new Date(r).toLocaleDateString(),this.privStartTime=t,this.privStartTimeString=new Date(t).toLocaleTimeString()}};t.OCSPVerificationFailedEvent=class extends i{constructor(e,t){super("OCSPVerificationFailedEvent",n.EventType.Debug,e),this.privError=t}};t.OCSPCacheFetchErrorEvent=class extends i{constructor(e,t){super("OCSPCacheFetchErrorEvent",n.EventType.Debug,e),this.privError=t}};t.OCSPResponseRetrievedEvent=class extends i{constructor(e){super("OCSPResponseRetrievedEvent",n.EventType.Debug,e)}};t.OCSPCacheUpdateErrorEvent=class extends i{constructor(e,t){super("OCSPCacheUpdateErrorEvent",n.EventType.Debug,e),this.privError=t}}},6031:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerIdentificationModel=void 0;const n=r(260),i=r(8040);class o{constructor(e){if(this.privVoiceProfiles=[],this.privProfileIds=[],n.Contracts.throwIfNullOrUndefined(e,"VoiceProfiles"),0===e.length)throw new Error("Empty Voice Profiles array");for(const t of e){if(t.profileType!==i.VoiceProfileType.TextIndependentIdentification)throw new Error("Identification model can only be created from Identification profile: "+t.profileId);this.privVoiceProfiles.push(t),this.privProfileIds.push(t.profileId)}}static fromProfiles(e){return new o(e)}get voiceProfileIds(){return this.privProfileIds.join(",")}get profileIds(){return this.privProfileIds}get scenario(){return"TextIndependentIdentification"}}t.SpeakerIdentificationModel=o},6058:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PropertyCollection=void 0;const n=r(8040);class i{constructor(){this.privKeys=[],this.privValues=[]}getProperty(e,t){let r;r="string"===typeof e?e:n.PropertyId[e];for(let n=0;n<this.privKeys.length;n++)if(this.privKeys[n]===r)return this.privValues[n];if(void 0!==t)return String(t)}setProperty(e,t){let r;r="string"===typeof e?e:n.PropertyId[e];for(let n=0;n<this.privKeys.length;n++)if(this.privKeys[n]===r)return void(this.privValues[n]=t);this.privKeys.push(r),this.privValues.push(t)}clone(){const e=new i;for(let t=0;t<this.privKeys.length;t++)e.privKeys.push(this.privKeys[t]),e.privValues.push(this.privValues[t]);return e}mergeTo(e){this.privKeys.forEach((t=>{if(void 0===e.getProperty(t,void 0)){const r=this.getProperty(t);e.setProperty(t,r)}}))}get keys(){return this.privKeys}}t.PropertyCollection=i},6109:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionMessage=void 0;const n=r(2307);class i extends n.ConnectionMessage{constructor(e,t,r,n){super(e,t,r,n);const i=JSON.parse(this.textBody);void 0!==i.type&&(this.privConversationMessageType=i.type)}get conversationMessageType(){return this.privConversationMessageType}}t.ConversationConnectionMessage=i},6182:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamImpl=t.PullAudioInputStream=t.PushAudioInputStreamImpl=t.PushAudioInputStream=t.AudioInputStream=void 0;const n=r(9859),i=r(2307),o=r(9463),s=r(8040),a=r(4175);class c{constructor(){}static createPushStream(e){return l.create(e)}static createPullStream(e,t){return p.create(e,t)}}t.AudioInputStream=c;class l extends c{static create(e){return new u(e)}}t.PushAudioInputStream=l;class u extends l{constructor(e){super(),this.privFormat=void 0===e?a.AudioStreamFormatImpl.getDefaultInputFormat():e,this.privEvents=new i.EventSource,this.privId=o.createNoDashGuid(),this.privStream=new i.ChunkedArrayBufferStream(this.privFormat.avgBytesPerSec/10)}get format(){return Promise.resolve(this.privFormat)}write(e){this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}id(){return this.privId}turnOn(){this.onEvent(new i.AudioSourceInitializingEvent(this.privId)),this.onEvent(new i.AudioSourceReadyEvent(this.privId))}async attach(e){this.onEvent(new i.AudioStreamNodeAttachingEvent(this.privId,e)),await this.turnOn();const t=this.privStream;return this.onEvent(new i.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:async()=>(this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>t.read()}}detach(e){this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:n.connectivity.Unknown,manufacturer:"Speech SDK",model:"PushStream",samplerate:this.privFormat.samplesPerSec,type:n.type.Stream})}onEvent(e){this.privEvents.onEvent(e),i.Events.instance.onEvent(e)}toBuffer(e){const t=Buffer.alloc(e.byteLength),r=new Uint8Array(e);for(let n=0;n<t.length;++n)t[n]=r[n];return t}}t.PushAudioInputStreamImpl=u;class p extends c{constructor(){super()}static create(e,t){return new d(e,t)}}t.PullAudioInputStream=p;class d extends p{constructor(e,t){super(),this.privFormat=void 0===t?s.AudioStreamFormat.getDefaultInputFormat():t,this.privEvents=new i.EventSource,this.privId=o.createNoDashGuid(),this.privCallback=e,this.privIsClosed=!1,this.privBufferSize=this.privFormat.avgBytesPerSec/10}get format(){return Promise.resolve(this.privFormat)}close(){this.privIsClosed=!0,this.privCallback.close()}id(){return this.privId}turnOn(){this.onEvent(new i.AudioSourceInitializingEvent(this.privId)),this.onEvent(new i.AudioSourceReadyEvent(this.privId))}async attach(e){return this.onEvent(new i.AudioStreamNodeAttachingEvent(this.privId,e)),await this.turnOn(),this.onEvent(new i.AudioStreamNodeAttachedEvent(this.privId,e)),{detach:()=>(this.privCallback.close(),this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)),this.turnOff()),id:()=>e,read:()=>{let e,t=0;for(;t<this.privBufferSize;){const r=new ArrayBuffer(this.privBufferSize-t),n=this.privCallback.read(r);if(void 0===e)e=r;else{new Int8Array(e).set(new Int8Array(r),t)}if(0===n)break;t+=n}return Promise.resolve({buffer:e.slice(0,t),isEnd:this.privIsClosed||0===t,timeReceived:Date.now()})}}}detach(e){this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e))}turnOff(){}get events(){return this.privEvents}get deviceInfo(){return Promise.resolve({bitspersample:this.privFormat.bitsPerSample,channelcount:this.privFormat.channels,connectivity:n.connectivity.Unknown,manufacturer:"Speech SDK",model:"PullStream",samplerate:this.privFormat.samplesPerSec,type:n.type.Stream})}onEvent(e){this.privEvents.onEvent(e),i.Events.instance.onEvent(e)}}t.PullAudioInputStreamImpl=d},6222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarWebRTCConnectionResult=void 0;const n=r(8040);class i extends n.SynthesisResult{constructor(e,t,r,n,i){super(t,r,n,i),this.privSDPAnswer=e}get SDPAnswer(){return this.privSDPAnswer}}t.AvatarWebRTCConnectionResult=i},6308:()=>{},6391:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleSpeechPhrase=void 0;const n=r(9859);class i{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.privSimpleSpeechPhrase=JSON.parse(e),this.privSimpleSpeechPhrase.RecognitionStatus=this.mapRecognitionStatus(this.privSimpleSpeechPhrase.RecognitionStatus),this.updateOffset(t)}static fromJSON(e,t){return new i(e,t)}updateOffset(e){this.privSimpleSpeechPhrase.Offset+=e}asJson(){const e={...this.privSimpleSpeechPhrase};return JSON.stringify({...e,RecognitionStatus:n.RecognitionStatus[e.RecognitionStatus]})}get RecognitionStatus(){return this.privSimpleSpeechPhrase.RecognitionStatus}get DisplayText(){return this.privSimpleSpeechPhrase.DisplayText}get Offset(){return this.privSimpleSpeechPhrase.Offset}get Duration(){return this.privSimpleSpeechPhrase.Duration}get Language(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSimpleSpeechPhrase.PrimaryLanguage?void 0:this.privSimpleSpeechPhrase.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSimpleSpeechPhrase.SpeakerId}mapRecognitionStatus(e){return"string"===typeof e?n.RecognitionStatus[e]:"number"===typeof e?e:void 0}}t.SimpleSpeechPhrase=i},6452:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionEventArgs=void 0;const n=r(8040);class i extends n.RecognitionEventArgs{constructor(e,t,r){super(t,r),this.privResult=e}get result(){return this.privResult}}t.TranslationRecognitionEventArgs=i},6471:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageEventArgs=void 0;t.ConnectionMessageEventArgs=class{constructor(e){this.privConnectionMessage=e}get message(){return this.privConnectionMessage}toString(){return"Message: "+this.privConnectionMessage.toString()}}},6481:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageResult=void 0;const n=r(260);class i{constructor(e,t){n.Contracts.throwIfNullOrUndefined(e,"language"),n.Contracts.throwIfNullOrUndefined(t,"languageDetectionConfidence"),this.privLanguage=e,this.privLanguageDetectionConfidence=t}static fromResult(e){return new i(e.language,e.languageDetectionConfidence)}static fromConversationTranscriptionResult(e){return new i(e.language,e.languageDetectionConfidence)}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}}t.AutoDetectSourceLanguageResult=i},6501:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchDetails=void 0;const n=r(9859),i=r(8040);class o{constructor(e){this.privReason=e}static fromResult(e){const t=n.SimpleSpeechPhrase.fromJSON(e.json,0);let r=i.NoMatchReason.NotRecognized;switch(t.RecognitionStatus){case n.RecognitionStatus.BabbleTimeout:r=i.NoMatchReason.InitialBabbleTimeout;break;case n.RecognitionStatus.InitialSilenceTimeout:r=i.NoMatchReason.InitialSilenceTimeout;break;default:r=i.NoMatchReason.NotRecognized}return new o(r)}get reason(){return this.privReason}}t.NoMatchDetails=o},6518:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognizerConfig=t.SpeechResultFormat=t.RecognitionMode=void 0;const n=r(8040),i=r(9859);var o;!function(e){e[e.Interactive=0]="Interactive",e[e.Conversation=1]="Conversation",e[e.Dictation=2]="Dictation"}(o=t.RecognitionMode||(t.RecognitionMode={})),function(e){e[e.Simple=0]="Simple",e[e.Detailed=1]="Detailed"}(t.SpeechResultFormat||(t.SpeechResultFormat={}));t.RecognizerConfig=class{constructor(e,t){this.privSpeechServiceConfig=e||new i.SpeechServiceConfig(new i.Context(null)),this.privParameters=t,this.privMaxRetryCount=parseInt(t.getProperty("SPEECH-Error-MaxRetryCount","4"),10),this.privLanguageIdMode=t.getProperty(n.PropertyId.SpeechServiceConnection_LanguageIdMode,void 0),this.privEnableSpeakerId=!1}get parameters(){return this.privParameters}get recognitionMode(){return this.privRecognitionMode}set recognitionMode(e){this.privRecognitionMode=e,this.privRecognitionActivityTimeout=e===o.Interactive?8e3:25e3,this.privSpeechServiceConfig.Recognition=o[e]}get SpeechServiceConfig(){return this.privSpeechServiceConfig}get recognitionActivityTimeout(){return this.privRecognitionActivityTimeout}get isContinuousRecognition(){return this.privRecognitionMode!==o.Interactive}get languageIdMode(){return this.privLanguageIdMode}get autoDetectSourceLanguages(){return this.parameters.getProperty(n.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,void 0)}get recognitionEndpointVersion(){return this.parameters.getProperty(n.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,void 0)}get sourceLanguageModels(){const e=[];let t=!1;if(void 0!==this.autoDetectSourceLanguages)for(const r of this.autoDetectSourceLanguages.split(",")){const i=r+n.PropertyId.SpeechServiceConnection_EndpointId.toString(),o=this.parameters.getProperty(i,void 0);void 0!==o?(e.push({language:r,endpoint:o}),t=!0):e.push({language:r,endpoint:""})}return t?e:void 0}get maxRetryCount(){return this.privMaxRetryCount}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}set isSpeakerDiarizationEnabled(e){this.privEnableSpeakerId=e}}},6566:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BotFrameworkConfig=void 0;const n=r(260),i=r(3542),o=r(8040);class s extends i.DialogServiceConfigImpl{constructor(){super()}static fromSubscription(e,t,r){n.Contracts.throwIfNullOrWhitespace(e,"subscription"),n.Contracts.throwIfNullOrWhitespace(t,"region");const s=new i.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.BotFramework),s.setProperty(o.PropertyId.SpeechServiceConnection_Key,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r&&s.setProperty(o.PropertyId.Conversation_ApplicationId,r),s}static fromAuthorizationToken(e,t,r){n.Contracts.throwIfNullOrWhitespace(e,"authorizationToken"),n.Contracts.throwIfNullOrWhitespace(t,"region");const s=new i.DialogServiceConfigImpl;return s.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.BotFramework),s.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e),s.setProperty(o.PropertyId.SpeechServiceConnection_Region,t),r&&s.setProperty(o.PropertyId.Conversation_ApplicationId,r),s}static fromHost(e,t,r){n.Contracts.throwIfNullOrUndefined(e,"host");const s=e instanceof URL?e:new URL(`wss://${e}.convai.speech.azure.us`);n.Contracts.throwIfNullOrUndefined(s,"resolvedHost");const a=new i.DialogServiceConfigImpl;return a.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.BotFramework),a.setProperty(o.PropertyId.SpeechServiceConnection_Host,s.toString()),void 0!==t&&a.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),a}static fromEndpoint(e,t){n.Contracts.throwIfNull(e,"endpoint");const r=new i.DialogServiceConfigImpl;return r.setProperty(o.PropertyId.Conversation_DialogType,i.DialogServiceConfig.DialogTypes.BotFramework),r.setProperty(o.PropertyId.SpeechServiceConnection_Endpoint,e.toString()),void 0!==t&&r.setProperty(o.PropertyId.SpeechServiceConnection_Key,t),r}}t.BotFrameworkConfig=s},6669:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarEventArgs=t.AvatarEventTypes=void 0,function(e){e.SwitchedToSpeaking="SwitchedToSpeaking",e.SwitchedToIdle="SwitchedToIdle",e.SessionClosed="SessionClosed"}(t.AvatarEventTypes||(t.AvatarEventTypes={}));t.AvatarEventArgs=class{constructor(e,t){this.privOffset=e,this.privDescription=t}get type(){return this.privType}get offset(){return this.privOffset}get description(){return this.privDescription}}},6702:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechHypothesis=void 0;class r{constructor(e,t){this.privSpeechHypothesis=JSON.parse(e),this.updateOffset(t)}static fromJSON(e,t){return new r(e,t)}updateOffset(e){this.privSpeechHypothesis.Offset+=e}asJson(){return JSON.stringify(this.privSpeechHypothesis)}get Text(){return this.privSpeechHypothesis.Text}get Offset(){return this.privSpeechHypothesis.Offset}get Duration(){return this.privSpeechHypothesis.Duration}get Language(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Language}get LanguageDetectionConfidence(){return void 0===this.privSpeechHypothesis.PrimaryLanguage?void 0:this.privSpeechHypothesis.PrimaryLanguage.Confidence}get SpeakerId(){return this.privSpeechHypothesis.SpeakerId}}t.SpeechHypothesis=r},6710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechDetected=void 0;class r{constructor(e,t){this.privSpeechStartDetected=JSON.parse(e),this.privSpeechStartDetected.Offset+=t}static fromJSON(e,t){return new r(e,t)}get Offset(){return this.privSpeechStartDetected.Offset}}t.SpeechDetected=r},6727:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NoMatchReason=void 0,function(e){e[e.NotRecognized=0]="NotRecognized",e[e.InitialSilenceTimeout=1]="InitialSilenceTimeout",e[e.InitialBabbleTimeout=2]="InitialBabbleTimeout"}(t.NoMatchReason||(t.NoMatchReason={}))},6733:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,o,s){return n((a=n(n(t,e),n(i,s)))<<(c=o)|a>>>32-c,r);var a,c}function o(e,t,r,n,o,s,a){return i(t&r|~t&n,e,t,o,s,a)}function s(e,t,r,n,o,s,a){return i(t&n|r&~n,e,t,o,s,a)}function a(e,t,r,n,o,s,a){return i(t^r^n,e,t,o,s,a)}function c(e,t,r,n,o,s,a){return i(r^(t|~n),e,t,o,s,a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var l=function(e){if("string"===typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,o=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,l=-271733879,u=-1732584194,p=271733878;for(let r=0;r<e.length;r+=16){const t=i,d=l,h=u,v=p;i=o(i,l,u,p,e[r],7,-680876936),p=o(p,i,l,u,e[r+1],12,-389564586),u=o(u,p,i,l,e[r+2],17,606105819),l=o(l,u,p,i,e[r+3],22,-1044525330),i=o(i,l,u,p,e[r+4],7,-176418897),p=o(p,i,l,u,e[r+5],12,1200080426),u=o(u,p,i,l,e[r+6],17,-1473231341),l=o(l,u,p,i,e[r+7],22,-45705983),i=o(i,l,u,p,e[r+8],7,1770035416),p=o(p,i,l,u,e[r+9],12,-1958414417),u=o(u,p,i,l,e[r+10],17,-42063),l=o(l,u,p,i,e[r+11],22,-1990404162),i=o(i,l,u,p,e[r+12],7,1804603682),p=o(p,i,l,u,e[r+13],12,-40341101),u=o(u,p,i,l,e[r+14],17,-1502002290),l=o(l,u,p,i,e[r+15],22,1236535329),i=s(i,l,u,p,e[r+1],5,-165796510),p=s(p,i,l,u,e[r+6],9,-1069501632),u=s(u,p,i,l,e[r+11],14,643717713),l=s(l,u,p,i,e[r],20,-373897302),i=s(i,l,u,p,e[r+5],5,-701558691),p=s(p,i,l,u,e[r+10],9,38016083),u=s(u,p,i,l,e[r+15],14,-660478335),l=s(l,u,p,i,e[r+4],20,-405537848),i=s(i,l,u,p,e[r+9],5,568446438),p=s(p,i,l,u,e[r+14],9,-1019803690),u=s(u,p,i,l,e[r+3],14,-187363961),l=s(l,u,p,i,e[r+8],20,1163531501),i=s(i,l,u,p,e[r+13],5,-1444681467),p=s(p,i,l,u,e[r+2],9,-51403784),u=s(u,p,i,l,e[r+7],14,1735328473),l=s(l,u,p,i,e[r+12],20,-1926607734),i=a(i,l,u,p,e[r+5],4,-378558),p=a(p,i,l,u,e[r+8],11,-2022574463),u=a(u,p,i,l,e[r+11],16,1839030562),l=a(l,u,p,i,e[r+14],23,-35309556),i=a(i,l,u,p,e[r+1],4,-1530992060),p=a(p,i,l,u,e[r+4],11,1272893353),u=a(u,p,i,l,e[r+7],16,-155497632),l=a(l,u,p,i,e[r+10],23,-1094730640),i=a(i,l,u,p,e[r+13],4,681279174),p=a(p,i,l,u,e[r],11,-358537222),u=a(u,p,i,l,e[r+3],16,-722521979),l=a(l,u,p,i,e[r+6],23,76029189),i=a(i,l,u,p,e[r+9],4,-640364487),p=a(p,i,l,u,e[r+12],11,-421815835),u=a(u,p,i,l,e[r+15],16,530742520),l=a(l,u,p,i,e[r+2],23,-995338651),i=c(i,l,u,p,e[r],6,-198630844),p=c(p,i,l,u,e[r+7],10,1126891415),u=c(u,p,i,l,e[r+14],15,-1416354905),l=c(l,u,p,i,e[r+5],21,-57434055),i=c(i,l,u,p,e[r+12],6,1700485571),p=c(p,i,l,u,e[r+3],10,-1894986606),u=c(u,p,i,l,e[r+10],15,-1051523),l=c(l,u,p,i,e[r+1],21,-2054922799),i=c(i,l,u,p,e[r+8],6,1873313359),p=c(p,i,l,u,e[r+15],10,-30611744),u=c(u,p,i,l,e[r+6],15,-1560198380),l=c(l,u,p,i,e[r+13],21,1309151649),i=c(i,l,u,p,e[r+4],6,-145523070),p=c(p,i,l,u,e[r+11],10,-1120210379),u=c(u,p,i,l,e[r+2],15,718787259),l=c(l,u,p,i,e[r+9],21,-343485551),i=n(i,t),l=n(l,d),u=n(u,h),p=n(p,v)}return[i,l,u,p]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))};t.default=l},6782:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputConfigImpl=t.AudioConfigImpl=t.AudioConfig=void 0;const n=r(2277),i=r(260),o=r(8040),s=r(8777),a=r(6182),c=r(9709);class l{static fromDefaultMicrophoneInput(){const e=new n.PcmRecorder(!0);return new u(new n.MicAudioSource(e))}static fromMicrophoneInput(e){const t=new n.PcmRecorder(!0);return new u(new n.MicAudioSource(t,e))}static fromWavFileInput(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unnamedBuffer.wav";return new u(new n.FileAudioSource(e,t))}static fromStreamInput(e){if(e instanceof o.PullAudioInputStreamCallback)return new u(new a.PullAudioInputStreamImpl(e));if(e instanceof o.AudioInputStream)return new u(e);if("undefined"!==typeof MediaStream&&e instanceof MediaStream){const t=new n.PcmRecorder(!1);return new u(new n.MicAudioSource(t,null,null,e))}throw new Error("Not Supported Type")}static fromDefaultSpeakerOutput(){return new p(new o.SpeakerAudioDestination)}static fromSpeakerOutput(e){if(void 0===e)return l.fromDefaultSpeakerOutput();if(e instanceof o.SpeakerAudioDestination)return new p(e);throw new Error("Not Supported Type")}static fromAudioFileOutput(e){return new p(new s.AudioFileWriter(e))}static fromStreamOutput(e){if(e instanceof o.PushAudioOutputStreamCallback)return new p(new c.PushAudioOutputStreamImpl(e));if(e instanceof o.PushAudioOutputStream)return new p(e);if(e instanceof o.PullAudioOutputStream)return new p(e);throw new Error("Not Supported Type")}}t.AudioConfig=l;class u extends l{constructor(e){super(),this.privSource=e}get format(){return this.privSource.format}close(e,t){this.privSource.turnOff().then((()=>{e&&e()}),(e=>{t&&t(e)}))}id(){return this.privSource.id()}turnOn(){return this.privSource.turnOn()}attach(e){return this.privSource.attach(e)}detach(e){return this.privSource.detach(e)}turnOff(){return this.privSource.turnOff()}get events(){return this.privSource.events}setProperty(e,t){if(i.Contracts.throwIfNull(t,"value"),void 0===this.privSource.setProperty)throw new Error("This AudioConfig instance does not support setting properties.");this.privSource.setProperty(e,t)}getProperty(e,t){if(void 0!==this.privSource.getProperty)return this.privSource.getProperty(e,t);throw new Error("This AudioConfig instance does not support getting properties.")}get deviceInfo(){return this.privSource.deviceInfo}}t.AudioConfigImpl=u;class p extends l{constructor(e){super(),this.privDestination=e}set format(e){this.privDestination.format=e}write(e){this.privDestination.write(e)}close(){this.privDestination.close()}id(){return this.privDestination.id()}setProperty(){throw new Error("This AudioConfig instance does not support setting properties.")}getProperty(){throw new Error("This AudioConfig instance does not support getting properties.")}}t.AudioOutputConfigImpl=p},6822:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MeetingTranscriptionCanceledEventArgs=void 0;const n=r(8706);class i extends n.CancellationEventArgsBase{}t.MeetingTranscriptionCanceledEventArgs=i},6917:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileEnrollmentCancellationDetails=t.VoiceProfileEnrollmentResult=void 0;const n=r(9859),i=r(8040);class o{constructor(e,t,r){this.privReason=e,this.privProperties=new i.PropertyCollection,this.privReason!==i.ResultReason.Canceled?t&&(this.privDetails=JSON.parse(t),"enrolling"===this.privDetails.enrollmentStatus.toLowerCase()&&(this.privReason=i.ResultReason.EnrollingVoiceProfile)):(this.privErrorDetails=r,this.privProperties.setProperty(n.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get enrollmentsCount(){return this.privDetails.enrollmentsCount}get enrollmentsLength(){return this.privDetails.enrollmentsLength}get properties(){return this.privProperties}get enrollmentResultDetails(){return this.privDetails}get errorDetails(){return this.privErrorDetails}static FromIdentificationProfileList(e){const t=[];for(const r of e.value){const e="enrolling"===r.enrollmentStatus.toLowerCase()?i.ResultReason.EnrollingVoiceProfile:"enrolled"===r.enrollmentStatus.toLowerCase()?i.ResultReason.EnrolledVoiceProfile:i.ResultReason.Canceled,n=new o(e,null,null);n.privDetails=this.getIdentificationDetails(r),t.push(n)}return t}static FromVerificationProfileList(e){const t=[];for(const r of e.value){const e="enrolling"===r.enrollmentStatus.toLowerCase()?i.ResultReason.EnrollingVoiceProfile:"enrolled"===r.enrollmentStatus.toLowerCase()?i.ResultReason.EnrolledVoiceProfile:i.ResultReason.Canceled,n=new o(e,null,null);n.privDetails=this.getVerificationDetails(r),t.push(n)}return t}static getIdentificationDetails(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount||0,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.identificationProfileId,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}static getVerificationDetails(e){return{audioLength:e.audioLength?parseFloat(e.audioLength):0,audioSpeechLength:e.audioSpeechLength?parseFloat(e.audioSpeechLength):0,enrollmentStatus:e.enrollmentStatus,enrollmentsCount:e.enrollmentsCount,enrollmentsLength:e.enrollmentsLength?parseFloat(e.enrollmentsLength):0,enrollmentsSpeechLength:e.enrollmentsSpeechLength?parseFloat(e.enrollmentsSpeechLength):0,profileId:e.profileId||e.verificationProfileId,remainingEnrollmentsCount:e.remainingEnrollments||e.remainingEnrollmentsCount,remainingEnrollmentsSpeechLength:e.remainingEnrollmentsSpeechLength?parseFloat(e.remainingEnrollmentsSpeechLength):0}}}t.VoiceProfileEnrollmentResult=o;class s extends i.CancellationDetailsBase{constructor(e,t,r){super(e,t,r)}static fromResult(e){const t=i.CancellationReason.Error;let r=i.CancellationErrorCode.NoError;return e.properties&&(r=i.CancellationErrorCode[e.properties.getProperty(n.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,r)}}t.VoiceProfileEnrollmentCancellationDetails=s},6945:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PhraseListGrammar=void 0;class r{constructor(e){this.privGrammerBuilder=e.dynamicGrammar}static fromRecognizer(e){const t=e.internalData;return new r(t)}addPhrase(e){this.privGrammerBuilder.addPhrase(e)}addPhrases(e){this.privGrammerBuilder.addPhrase(e)}clear(){this.privGrammerBuilder.clearPhrases()}}t.PhraseListGrammar=r},6959:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7014:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PullAudioInputStreamCallback=void 0;t.PullAudioInputStreamCallback=class{}},7019:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(9102))&&n.__esModule?n:{default:n};var o=function(e){return"string"===typeof e&&i.default.test(e)};t.default=o},7108:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationConnectionFactory=void 0;const n=r(2277),i=r(2307),o=r(260),s=r(8040),a=r(2679),c=r(1666),l=r(4914);class u extends a.ConnectionFactoryBase{create(e,t,r){const a=e.parameters.getProperty(s.PropertyId.ConversationTranslator_Host,c.ConversationConnectionConfig.host),u=e.parameters.getProperty(s.PropertyId.ConversationTranslator_CorrelationId,i.createGuid()),p=`wss://${a}${c.ConversationConnectionConfig.webSocketPath}`,d=e.parameters.getProperty(s.PropertyId.ConversationTranslator_Token,void 0);o.Contracts.throwIfNullOrUndefined(d,"token");const h={};h[c.ConversationConnectionConfig.configParams.apiVersion]=c.ConversationConnectionConfig.apiVersion,h[c.ConversationConnectionConfig.configParams.token]=d,h[c.ConversationConnectionConfig.configParams.correlationId]=u;const v="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(p,h,{},new l.ConversationWebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),v,r)}}t.ConversationConnectionFactory=u},7130:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranscriberRecognizer=void 0;const n=r(2307),i=r(260),o=r(8040),s=r(9859);class a extends o.Recognizer{constructor(e,t){const r=e;i.Contracts.throwIfNull(r,"speechTranslationConfig");const n=t;i.Contracts.throwIfNull(n,"audioConfigImpl"),i.Contracts.throwIfNullOrWhitespace(r.speechRecognitionLanguage,o.PropertyId[o.PropertyId.SpeechServiceConnection_RecoLanguage]),super(t,r.properties,new s.TranscriberConnectionFactory),this.privDisposedRecognizer=!1,this.isMeetingRecognizer=!1}get speechRecognitionLanguage(){return i.Contracts.throwIfDisposed(this.privDisposedRecognizer),this.properties.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage)}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(o.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){i.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(o.PropertyId.SpeechServiceAuthorization_Token,e)}set conversation(e){i.Contracts.throwIfNullOrUndefined(e,"Conversation"),this.isMeetingRecognizer=!1,this.privConversation=e}getConversationInfo(){return i.Contracts.throwIfNullOrUndefined(this.privConversation,"Conversation"),this.privConversation.conversationInfo}set meeting(e){i.Contracts.throwIfNullOrUndefined(e,"Meeting"),this.isMeetingRecognizer=!0,this.privMeeting=e}getMeetingInfo(){return i.Contracts.throwIfNullOrUndefined(this.privMeeting,"Meeting"),this.privMeeting.meetingInfo}IsMeetingRecognizer(){return this.isMeetingRecognizer}startContinuousRecognitionAsync(e,t){n.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(s.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){n.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}async close(){this.privDisposedRecognizer||await this.dispose(!0)}async pushConversationEvent(e,t){const r=this.privReco;i.Contracts.throwIfNullOrUndefined(r,"serviceRecognizer"),await r.sendSpeechEventAsync(e,t)}async pushMeetingEvent(e,t){const r=this.privReco;i.Contracts.throwIfNullOrUndefined(r,"serviceRecognizer"),await r.sendMeetingSpeechEventAsync(e,t)}async enforceAudioGating(){const e=this.audioConfig,t=(await e.format).channels;if(1===t){if("true"!==this.properties.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase())throw new Error("Single channel audio configuration for MeetingTranscriber is currently under private preview, please contact diarizationrequest@microsoft.com for more details")}else if(8!==t)throw new Error(`Unsupported audio configuration: Detected ${t}-channel audio`)}connectMeetingCallbacks(e){this.isMeetingRecognizer=!0,this.canceled=(t,r)=>{e.canceled&&e.canceled(e,r)},this.recognizing=(t,r)=>{e.transcribing&&e.transcribing(e,r)},this.recognized=(t,r)=>{e.transcribed&&e.transcribed(e,r)},this.sessionStarted=(t,r)=>{e.sessionStarted&&e.sessionStarted(e,r)},this.sessionStopped=(t,r)=>{e.sessionStopped&&e.sessionStopped(e,r)}}disconnectCallbacks(){this.canceled=void 0,this.recognizing=void 0,this.recognized=void 0,this.sessionStarted=void 0,this.sessionStopped=void 0}async dispose(e){this.privDisposedRecognizer||(e&&(this.privDisposedRecognizer=!0,await this.implRecognizerStop()),await super.dispose(e))}createRecognizerConfig(e){return new s.RecognizerConfig(e,this.properties)}createServiceRecognizer(e,t,r,n){const i=r;return new s.TranscriptionServiceRecognizer(e,t,i,n,this)}}t.TranscriberRecognizer=a},7155:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeferralMap=void 0;t.DeferralMap=class{constructor(){this.privMap={}}add(e,t){this.privMap[e]=t}getId(e){return this.privMap[e]}complete(e,t){try{this.privMap[e].resolve(t)}catch(r){this.privMap[e].reject(r)}finally{this.privMap[e]=void 0}}}},7174:(e,t,r)=>{"use strict";const n=r(5819);class i extends Error{constructor(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];let o;super(...r),Error.captureStackTrace&&Error.captureStackTrace(this,i),this.name="StatusError",this.message=e.statusMessage,this.statusCode=e.status,this.res=e,this.json=e.json.bind(e),this.text=e.text.bind(e),this.arrayBuffer=e.arrayBuffer.bind(e);Object.defineProperty(this,"responseBody",{get:()=>(o||(o=this.arrayBuffer()),o)}),this.headers={};for(const[i,s]of e.headers.entries())this.headers[i.toLowerCase()]=s}}e.exports=n(((e,t,r,n,o)=>async function(s,a){let c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};s=o+(s||"");let l=new URL(s);if(n||(n={}),l.username&&(n.Authorization="Basic "+btoa(l.username+":"+l.password),l=new URL(l.protocol+"//"+l.host+l.pathname+l.search)),"https:"!==l.protocol&&"http:"!==l.protocol)throw new Error(`Unknown protocol, ${l.protocol}`);if(a)if(a instanceof ArrayBuffer||ArrayBuffer.isView(a)||"string"===typeof a);else{if("object"!==typeof a)throw new Error("Unknown body type.");a=JSON.stringify(a),n["Content-Type"]="application/json"}c=new Headers({...n||{},...c});const u=await fetch(l,{method:t,headers:c,body:a});if(u.statusCode=u.status,!e.has(u.status))throw new i(u);return"json"===r?u.json():"buffer"===r?u.arrayBuffer():"string"===r?u.text():u}))},7234:(e,t)=>{"use strict";function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,i=e[n];if(!(0<o(i,t)))break e;e[n]=t,e[r]=i,r=n}}function n(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,i=e.length,s=i>>>1;n<s;){var a=2*(n+1)-1,c=e[a],l=a+1,u=e[l];if(0>o(c,r))l<i&&0>o(u,c)?(e[n]=u,e[l]=r,n=l):(e[n]=c,e[a]=r,n=a);else{if(!(l<i&&0>o(u,r)))break e;e[n]=u,e[l]=r,n=l}}}return t}function o(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,c=a.now();t.unstable_now=function(){return a.now()-c}}var l=[],u=[],p=1,d=null,h=3,v=!1,f=!1,g=!1,m="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,S="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=n(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,r(l,t)}t=n(u)}}function b(e){if(g=!1,C(e),!f)if(null!==n(l))f=!0,M(P);else{var t=n(u);null!==t&&D(b,t.startTime-e)}}function P(e,r){f=!1,g&&(g=!1,y(E),E=-1),v=!0;var o=h;try{for(C(r),d=n(l);null!==d&&(!(d.expirationTime>r)||e&&!A());){var s=d.callback;if("function"===typeof s){d.callback=null,h=d.priorityLevel;var a=s(d.expirationTime<=r);r=t.unstable_now(),"function"===typeof a?d.callback=a:d===n(l)&&i(l),C(r)}else i(l);d=n(l)}if(null!==d)var c=!0;else{var p=n(u);null!==p&&D(b,p.startTime-r),c=!1}return c}finally{d=null,h=o,v=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var w,R=!1,I=null,E=-1,T=5,x=-1;function A(){return!(t.unstable_now()-x<T)}function O(){if(null!==I){var e=t.unstable_now();x=e;var r=!0;try{r=I(!0,e)}finally{r?w():(R=!1,I=null)}}else R=!1}if("function"===typeof S)w=function(){S(O)};else if("undefined"!==typeof MessageChannel){var k=new MessageChannel,N=k.port2;k.port1.onmessage=O,w=function(){N.postMessage(null)}}else w=function(){m(O,0)};function M(e){I=e,R||(R=!0,w())}function D(e,r){E=m((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){f||v||(f=!0,M(P))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(e){switch(h){case 1:case 2:case 3:var t=3;break;default:t=h}var r=h;h=t;try{return e()}finally{h=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=h;h=e;try{return t()}finally{h=r}},t.unstable_scheduleCallback=function(e,i,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:p++,callback:i,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,r(u,e),null===n(l)&&e===n(u)&&(g?(y(E),E=-1):g=!0,D(b,o-s))):(e.sortIndex=a,r(l,e),f||v||(f=!0,M(P))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=h;return function(){var r=h;h=t;try{return e.apply(this,arguments)}finally{h=r}}}},7237:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QueryParameterNames=void 0;class r{}t.QueryParameterNames=r,r.BotId="botid",r.CustomSpeechDeploymentId="cid",r.CustomVoiceDeploymentId="deploymentId",r.EnableAudioLogging="storeAudio",r.EnableLanguageId="lidEnabled",r.EnableWordLevelTimestamps="wordLevelTimestamps",r.EndSilenceTimeoutMs="endSilenceTimeoutMs",r.SegmentationSilenceTimeoutMs="segmentationSilenceTimeoutMs",r.SegmentationMaximumTimeMs="segmentationMaximumTimeMs",r.SegmentationStrategy="segmentationStrategy",r.Format="format",r.InitialSilenceTimeoutMs="initialSilenceTimeoutMs",r.Language="language",r.Profanity="profanity",r.RequestBotStatusMessages="enableBotMessageStatus",r.StableIntermediateThreshold="stableIntermediateThreshold",r.StableTranslation="stableTranslation",r.TestHooks="testhooks",r.Postprocessing="postprocessing",r.CtsMeetingId="meetingId",r.CtsDeviceId="deviceId",r.CtsIsParticipant="isParticipant",r.EnableAvatar="enableTalkingAvatar"},7252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RawWebsocketMessage=void 0;const n=r(2771),i=r(8446),o=r(9463);t.RawWebsocketMessage=class{constructor(e,t,r){if(this.privPayload=null,!t)throw new i.ArgumentNullError("payload");if(e===n.MessageType.Binary&&"ArrayBuffer"!==Object.getPrototypeOf(t).constructor.name)throw new i.InvalidOperationError("Payload must be ArrayBuffer");if(e===n.MessageType.Text&&"string"!==typeof t)throw new i.InvalidOperationError("Payload must be a string");this.privMessageType=e,this.privPayload=t,this.privId=r||o.createNoDashGuid()}get messageType(){return this.privMessageType}get payload(){return this.privPayload}get textContent(){if(this.privMessageType===n.MessageType.Binary)throw new i.InvalidOperationError("Not supported for binary message");return this.privPayload}get binaryContent(){if(this.privMessageType===n.MessageType.Text)throw new i.InvalidOperationError("Not supported for text message");return this.privPayload}get id(){return this.privId}}},7268:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfilePhraseResult=void 0;const n=r(260),i=r(8040);class o extends i.VoiceProfileResult{constructor(e,t,r,i){super(e,t),this.privPhrases=[],n.Contracts.throwIfNullOrUndefined(i,"phrase array"),this.privType=r,i&&i[0]&&(this.privPhrases=i)}get phrases(){return this.privPhrases}get type(){return this.privType}}t.VoiceProfilePhraseResult=o},7316:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(3551);Object.defineProperty(t,"CommandResponsePayload",{enumerable:!0,get:function(){return n.CommandResponsePayload}});var i=r(4555);Object.defineProperty(t,"ParticipantsListPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantsListPayloadResponse}}),Object.defineProperty(t,"ParticipantPayloadResponse",{enumerable:!0,get:function(){return i.ParticipantPayloadResponse}});var o=r(4297);Object.defineProperty(t,"SpeechResponsePayload",{enumerable:!0,get:function(){return o.SpeechResponsePayload}}),Object.defineProperty(t,"TextResponsePayload",{enumerable:!0,get:function(){return o.TextResponsePayload}})},7339:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthInfo=void 0;t.AuthInfo=class{constructor(e,t){this.privHeaderName=e,this.privToken=t}get headerName(){return this.privHeaderName}get token(){return this.privToken}}},7354:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StringUtils=void 0;t.StringUtils=class{static formatString(e,t){if(!e)return"";if(!t)return e;let r="",n="";const i=e=>{r+=e},o=e=>{n+=e};let s=i;for(let a=0;a<e.length;a++){const c=e[a],l=a+1<e.length?e[a+1]:"";switch(c){case"{":"{"===l?(s("{"),a++):s=o;break;case"}":"}"===l?(s("}"),a++):(t.hasOwnProperty(n)&&(r+=t[n]),s=i,n="");break;default:s(c)}}return r}}},7368:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogServiceTurnStateManager=void 0;const n=r(8446),i=r(5787);t.DialogServiceTurnStateManager=class{constructor(){this.privTurnMap=new Map}StartTurn(e){if(this.privTurnMap.has(e))throw new n.InvalidOperationError("Service error: There is already a turn with id:"+e);const t=new i.DialogServiceTurnState(this,e);return this.privTurnMap.set(e,t),this.privTurnMap.get(e)}GetTurn(e){return this.privTurnMap.get(e)}CompleteTurn(e){if(!this.privTurnMap.has(e))throw new n.InvalidOperationError("Service error: Received turn end for an unknown turn id:"+e);const t=this.privTurnMap.get(e);return t.complete(),this.privTurnMap.delete(e),t}}},7487:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CognitiveTokenAuthentication=void 0;const n=r(2307),i=r(7339),o=r(8643);class s{constructor(e,t){if(!e)throw new n.ArgumentNullError("fetchCallback");if(!t)throw new n.ArgumentNullError("fetchOnExpiryCallback");this.privFetchCallback=e,this.privFetchOnExpiryCallback=t}fetch(e){return this.privFetchCallback(e).then((e=>new i.AuthInfo(o.HeaderNames.Authorization,void 0===e?void 0:s.privTokenPrefix+e)))}fetchOnExpiry(e){return this.privFetchOnExpiryCallback(e).then((e=>new i.AuthInfo(o.HeaderNames.Authorization,void 0===e?void 0:s.privTokenPrefix+e)))}}t.CognitiveTokenAuthentication=s,s.privTokenPrefix="Bearer "},7501:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionResult=void 0;t.RecognitionResult=class{constructor(e,t,r,n,i,o,s,a,c,l){this.privResultId=e,this.privReason=t,this.privText=r,this.privDuration=n,this.privOffset=i,this.privLanguage=o,this.privLanguageDetectionConfidence=s,this.privErrorDetails=a,this.privJson=c,this.privProperties=l}get resultId(){return this.privResultId}get reason(){return this.privReason}get text(){return this.privText}get duration(){return this.privDuration}get offset(){return this.privOffset}get language(){return this.privLanguage}get languageDetectionConfidence(){return this.privLanguageDetectionConfidence}get errorDetails(){return this.privErrorDetails}get json(){return this.privJson}get properties(){return this.privProperties}}},7515:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Translations=void 0;const n=r(8040);t.Translations=class{constructor(){this.privMap=new n.PropertyCollection}get languages(){return this.privMap.keys}get(e,t){return this.privMap.getProperty(e,t)}set(e,t){this.privMap.setProperty(e,t)}}},7544:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerServiceRecognizer=void 0;const n=r(2277),i=r(2307),o=r(8040),s=r(9859),a=r(222);class c extends s.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privSpeakerRecognizer=i,this.privSpeakerAudioSource=r,this.recognizeSpeaker=e=>this.recognizeSpeakerOnce(e),this.sendPrePayloadJSONOverride=()=>this.noOp()}processTypeSpecificMessages(e){let t=!1;const r=new o.PropertyCollection;if(e.messageType===i.MessageType.Text&&r.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),"speaker.response"===e.path.toLowerCase()){const r=JSON.parse(e.textBody);let n;n="success"!==r.status.statusCode.toLowerCase()?new o.SpeakerRecognitionResult(r,o.ResultReason.Canceled,o.CancellationErrorCode.ServiceError,r.status.reason):new o.SpeakerRecognitionResult(r,o.ResultReason.RecognizedSpeaker),this.privResultDeferral&&this.privResultDeferral.resolve(n),t=!0}const n=new i.Deferred;return n.resolve(t),n.promise}cancelRecognition(e,t,r,n,i){if((new o.PropertyCollection).setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[n]),this.privResultDeferral){const e=new o.SpeakerRecognitionResult({scenario:this.privSpeakerModel.scenario,status:{statusCode:i,reason:i}},o.ResultReason.Canceled,n,i);try{this.privResultDeferral.resolve(e)}catch(i){this.privResultDeferral.reject(i)}}}async recognizeSpeakerOnce(e){this.privSpeakerModel=e,this.voiceProfileType=e.scenario,this.privResultDeferral||(this.privResultDeferral=new i.Deferred),this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const t=this.connectImpl(),r=this.sendPreAudioMessages(this.extractSpeakerContext(e)),s=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),a=await this.privSpeakerAudioSource.format,c=await this.privSpeakerAudioSource.deviceInfo,l=new n.ReplayableAudioNode(s,a.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(l,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:c};try{await t,await r}catch(p){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,p)}const u=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,u),this.receiveMessage();return this.sendAudio(l).then((()=>{}),(e=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)})),this.privResultDeferral.promise}async sendPreAudioMessages(e){const t=await this.fetchConnection();await this.sendSpeakerRecognition(t,e)}async sendSpeakerRecognition(e,t){const r=JSON.stringify(t);return e.send(new a.SpeechConnectionMessage(i.MessageType.Text,"speaker.context",this.privRequestSession.requestId,"application/json; charset=utf-8",r))}extractSpeakerContext(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}}t.SpeakerServiceRecognizer=c},7646:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SourceLanguageConfig=void 0;const n=r(260);class i{constructor(e,t){n.Contracts.throwIfNullOrUndefined(e,"language"),this.privLanguage=e,this.privEndpointId=t}static fromLanguage(e,t){return new i(e,t)}get language(){return this.privLanguage}get endpointId(){return this.privEndpointId}}t.SourceLanguageConfig=i},7722:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Stream=void 0;const n=r(8446),i=r(9463),o=r(2091);t.Stream=class{constructor(e){this.privIsWriteEnded=!1,this.privIsReadEnded=!1,this.privId=e||i.createNoDashGuid(),this.privReaderQueue=new o.Queue}get isClosed(){return this.privIsWriteEnded}get isReadEnded(){return this.privIsReadEnded}get id(){return this.privId}close(){this.privIsWriteEnded||(this.writeStreamChunk({buffer:null,isEnd:!0,timeReceived:Date.now()}),this.privIsWriteEnded=!0)}writeStreamChunk(e){if(this.throwIfClosed(),!this.privReaderQueue.isDisposed())try{this.privReaderQueue.enqueue(e)}catch(t){}}read(){if(this.privIsReadEnded)throw new n.InvalidOperationError("Stream read has already finished");return this.privReaderQueue.dequeue().then((async e=>((void 0===e||e.isEnd)&&await this.privReaderQueue.dispose("End of stream reached"),e)))}readEnded(){this.privIsReadEnded||(this.privIsReadEnded=!0,this.privReaderQueue=new o.Queue)}throwIfClosed(){if(this.privIsWriteEnded)throw new n.InvalidOperationError("Stream closed")}}},7747:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentRecognizer=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a extends s.Recognizer{constructor(e,t){o.Contracts.throwIfNullOrUndefined(e,"speechConfig");const r=e;o.Contracts.throwIfNullOrUndefined(r,"speechConfig"),super(t,r.properties,new n.IntentConnectionFactory),this.privAddedIntents=[],this.privAddedLmIntents={},this.privDisposedIntentRecognizer=!1,this.privProperties=r.properties,o.Contracts.throwIfNullOrWhitespace(this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage),s.PropertyId[s.PropertyId.SpeechServiceConnection_RecoLanguage])}get speechRecognitionLanguage(){return o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),this.properties.getProperty(s.PropertyId.SpeechServiceConnection_RecoLanguage)}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}recognizeOnceAsync(e,t){if(o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){const e=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",e.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(e.ReferenceGrammars);this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}i.marshalPromiseToCallbacks(this.recognizeOnceAsyncImpl(n.RecognitionMode.Interactive),e,t)}startContinuousRecognitionAsync(e,t){if(0!==Object.keys(this.privAddedLmIntents).length||void 0!==this.privUmbrellaIntent){const e=this.buildSpeechContext();this.privReco.speechContext.setSection("intent",e.Intent),this.privReco.dynamicGrammar.addReferenceGrammar(e.ReferenceGrammars);this.privReco.setIntents(this.privAddedLmIntents,this.privUmbrellaIntent)}i.marshalPromiseToCallbacks(this.startContinuousRecognitionAsyncImpl(n.RecognitionMode.Conversation),e,t)}stopContinuousRecognitionAsync(e,t){i.marshalPromiseToCallbacks(this.stopContinuousRecognitionAsyncImpl(),e,t)}startKeywordRecognitionAsync(e,t,r){o.Contracts.throwIfNull(e,"model"),r&&r("Not yet implemented.")}stopKeywordRecognitionAsync(e,t){if(e)try{e()}catch(r){t&&t(r)}}addIntent(e,t){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(t,"intentId"),o.Contracts.throwIfNullOrWhitespace(e,"simplePhrase"),this.privAddedIntents.push([t,e])}addIntentWithLanguageModel(e,t,r){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),o.Contracts.throwIfNullOrWhitespace(e,"intentId"),o.Contracts.throwIfNull(t,"model");const i=t;o.Contracts.throwIfNullOrWhitespace(i.appId,"model.appId"),this.privAddedLmIntents[e]=new n.AddedLmIntent(i,r)}addAllIntents(e,t){o.Contracts.throwIfNull(e,"model");const r=e;o.Contracts.throwIfNullOrWhitespace(r.appId,"model.appId"),this.privUmbrellaIntent=new n.AddedLmIntent(r,t)}close(e,t){o.Contracts.throwIfDisposed(this.privDisposedIntentRecognizer),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,i){const o=r;return new n.IntentServiceRecognizer(e,t,o,i,this)}async dispose(e){this.privDisposedIntentRecognizer||e&&(this.privDisposedIntentRecognizer=!0,await super.dispose(e))}buildSpeechContext(){let e,t,r;const n=[];void 0!==this.privUmbrellaIntent&&(e=this.privUmbrellaIntent.modelImpl.appId,t=this.privUmbrellaIntent.modelImpl.region,r=this.privUmbrellaIntent.modelImpl.subscriptionKey);for(const i of Object.keys(this.privAddedLmIntents)){const o=this.privAddedLmIntents[i];if(void 0===e)e=o.modelImpl.appId;else if(e!==o.modelImpl.appId)throw new Error("Intents must all be from the same LUIS model");if(void 0===t)t=o.modelImpl.region;else if(t!==o.modelImpl.region)throw new Error("Intents must all be from the same LUIS model in a single region");if(void 0===r)r=o.modelImpl.subscriptionKey;else if(r!==o.modelImpl.subscriptionKey)throw new Error("Intents must all use the same subscription key");const s="luis/"+e+"-PRODUCTION#"+i;n.push(s)}return{Intent:{id:e,key:void 0===r?this.privProperties.getProperty(s.PropertyId[s.PropertyId.SpeechServiceConnection_Key]):r,provider:"LUIS"},ReferenceGrammars:void 0===this.privUmbrellaIntent?n:["luis/"+e+"-PRODUCTION"]}}}t.IntentRecognizer=a},7807:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Events=void 0;const n=r(8446),i=r(385);class o{static setEventSource(e){if(!e)throw new n.ArgumentNullError("eventSource");o.privInstance=e}static get instance(){return o.privInstance}}t.Events=o,o.privInstance=new i.EventSource},7810:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AudioOutputFormatImpl=void 0;const n=r(8765),i=r(4175);class o extends i.AudioStreamFormatImpl{constructor(e,t,r,n,i,o,s,a,c){super(r,o,t,e),this.formatTag=e,this.avgBytesPerSec=n,this.blockAlign=i,this.priAudioFormatString=s,this.priRequestAudioFormatString=a,this.priHasHeader=c}static fromSpeechSynthesisOutputFormat(e){return void 0===e?o.getDefaultOutputFormat():o.fromSpeechSynthesisOutputFormatString(o.SpeechSynthesisOutputFormatToString[e])}static fromSpeechSynthesisOutputFormatString(e){switch(e){case"raw-8khz-8bit-mono-mulaw":return new o(i.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,e,!1);case"riff-16khz-16kbps-mono-siren":return new o(i.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,"audio-16khz-16kbps-mono-siren",!0);case"audio-16khz-16kbps-mono-siren":return new o(i.AudioFormatTag.Siren,1,16e3,2e3,40,0,e,e,!1);case"audio-16khz-32kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,16e3,4096,2,16,e,e,!1);case"audio-16khz-128kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,16e3,16384,2,16,e,e,!1);case"audio-16khz-64kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,16e3,8192,2,16,e,e,!1);case"audio-24khz-48kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,24e3,6144,2,16,e,e,!1);case"audio-24khz-96kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,24e3,12288,2,16,e,e,!1);case"audio-24khz-160kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,24e3,20480,2,16,e,e,!1);case"raw-16khz-16bit-mono-truesilk":return new o(i.AudioFormatTag.SILKSkype,1,16e3,32e3,2,16,e,e,!1);case"riff-8khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!0);case"riff-24khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!0);case"riff-8khz-8bit-mono-mulaw":return new o(i.AudioFormatTag.MuLaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-mulaw",!0);case"raw-16khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,16e3,32e3,2,16,e,"raw-16khz-16bit-mono-pcm",!1);case"raw-24khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,24e3,48e3,2,16,e,"raw-24khz-16bit-mono-pcm",!1);case"raw-8khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,8e3,16e3,2,16,e,"raw-8khz-16bit-mono-pcm",!1);case"ogg-16khz-16bit-mono-opus":return new o(i.AudioFormatTag.OGG_OPUS,1,16e3,8192,2,16,e,e,!1);case"ogg-24khz-16bit-mono-opus":return new o(i.AudioFormatTag.OGG_OPUS,1,24e3,8192,2,16,e,e,!1);case"raw-48khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!1);case"riff-48khz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,48e3,96e3,2,16,e,"raw-48khz-16bit-mono-pcm",!0);case"audio-48khz-96kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,48e3,12288,2,16,e,e,!1);case"audio-48khz-192kbitrate-mono-mp3":return new o(i.AudioFormatTag.MP3,1,48e3,24576,2,16,e,e,!1);case"ogg-48khz-16bit-mono-opus":return new o(i.AudioFormatTag.OGG_OPUS,1,48e3,12e3,2,16,e,e,!1);case"webm-16khz-16bit-mono-opus":return new o(i.AudioFormatTag.WEBM_OPUS,1,16e3,4e3,2,16,e,e,!1);case"webm-24khz-16bit-mono-opus":return new o(i.AudioFormatTag.WEBM_OPUS,1,24e3,6e3,2,16,e,e,!1);case"webm-24khz-16bit-24kbps-mono-opus":return new o(i.AudioFormatTag.WEBM_OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-16khz-16bit-32kbps-mono-opus":return new o(i.AudioFormatTag.OPUS,1,16e3,4e3,2,16,e,e,!1);case"audio-24khz-16bit-48kbps-mono-opus":return new o(i.AudioFormatTag.OPUS,1,24e3,6e3,2,16,e,e,!1);case"audio-24khz-16bit-24kbps-mono-opus":return new o(i.AudioFormatTag.OPUS,1,24e3,3e3,2,16,e,e,!1);case"audio-24khz-16bit-mono-flac":return new o(i.AudioFormatTag.FLAC,1,24e3,24e3,2,16,e,e,!1);case"audio-48khz-16bit-mono-flac":return new o(i.AudioFormatTag.FLAC,1,48e3,3e4,2,16,e,e,!1);case"raw-24khz-16bit-mono-truesilk":return new o(i.AudioFormatTag.SILKSkype,1,24e3,48e3,2,16,e,e,!1);case"raw-8khz-8bit-mono-alaw":return new o(i.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,e,!1);case"riff-8khz-8bit-mono-alaw":return new o(i.AudioFormatTag.ALaw,1,8e3,8e3,1,8,e,"raw-8khz-8bit-mono-alaw",!0);case"raw-22050hz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,22050,44100,2,16,e,e,!1);case"riff-22050hz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,22050,44100,2,16,e,"raw-22050hz-16bit-mono-pcm",!0);case"raw-44100hz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,44100,88200,2,16,e,e,!1);case"riff-44100hz-16bit-mono-pcm":return new o(i.AudioFormatTag.PCM,1,44100,88200,2,16,e,"raw-44100hz-16bit-mono-pcm",!0);case"amr-wb-16000h":return new o(i.AudioFormatTag.AMR_WB,1,16e3,3052,2,16,e,e,!1);case"g722-16khz-64kbps":return new o(i.AudioFormatTag.G722,1,16e3,8e3,2,16,e,e,!1);default:return new o(i.AudioFormatTag.PCM,1,16e3,32e3,2,16,"riff-16khz-16bit-mono-pcm","raw-16khz-16bit-mono-pcm",!0)}}static getDefaultOutputFormat(){return o.fromSpeechSynthesisOutputFormatString("undefined"!==typeof window?"audio-24khz-48kbitrate-mono-mp3":"riff-16khz-16bit-mono-pcm")}get hasHeader(){return this.priHasHeader}get header(){if(this.hasHeader)return this.privHeader}updateHeader(e){if(this.priHasHeader){const t=new DataView(this.privHeader);t.setUint32(4,e+this.privHeader.byteLength-8,!0),t.setUint32(40,e,!0)}}get requestAudioFormatString(){return this.priRequestAudioFormatString}addHeader(e){if(!this.hasHeader)return e;this.updateHeader(e.byteLength);const t=new Uint8Array(e.byteLength+this.header.byteLength);return t.set(new Uint8Array(this.header),0),t.set(new Uint8Array(e),this.header.byteLength),t.buffer}}t.AudioOutputFormatImpl=o,o.SpeechSynthesisOutputFormatToString={[n.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoMULaw]:"raw-8khz-8bit-mono-mulaw",[n.SpeechSynthesisOutputFormat.Riff16Khz16KbpsMonoSiren]:"riff-16khz-16kbps-mono-siren",[n.SpeechSynthesisOutputFormat.Audio16Khz16KbpsMonoSiren]:"audio-16khz-16kbps-mono-siren",[n.SpeechSynthesisOutputFormat.Audio16Khz32KBitRateMonoMp3]:"audio-16khz-32kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio16Khz128KBitRateMonoMp3]:"audio-16khz-128kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio16Khz64KBitRateMonoMp3]:"audio-16khz-64kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio24Khz48KBitRateMonoMp3]:"audio-24khz-48kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio24Khz96KBitRateMonoMp3]:"audio-24khz-96kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio24Khz160KBitRateMonoMp3]:"audio-24khz-160kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoTrueSilk]:"raw-16khz-16bit-mono-truesilk",[n.SpeechSynthesisOutputFormat.Riff16Khz16BitMonoPcm]:"riff-16khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff8Khz16BitMonoPcm]:"riff-8khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff24Khz16BitMonoPcm]:"riff-24khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoMULaw]:"riff-8khz-8bit-mono-mulaw",[n.SpeechSynthesisOutputFormat.Raw16Khz16BitMonoPcm]:"raw-16khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoPcm]:"raw-24khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Raw8Khz16BitMonoPcm]:"raw-8khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Ogg16Khz16BitMonoOpus]:"ogg-16khz-16bit-mono-opus",[n.SpeechSynthesisOutputFormat.Ogg24Khz16BitMonoOpus]:"ogg-24khz-16bit-mono-opus",[n.SpeechSynthesisOutputFormat.Raw48Khz16BitMonoPcm]:"raw-48khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff48Khz16BitMonoPcm]:"riff-48khz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Audio48Khz96KBitRateMonoMp3]:"audio-48khz-96kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Audio48Khz192KBitRateMonoMp3]:"audio-48khz-192kbitrate-mono-mp3",[n.SpeechSynthesisOutputFormat.Ogg48Khz16BitMonoOpus]:"ogg-48khz-16bit-mono-opus",[n.SpeechSynthesisOutputFormat.Webm16Khz16BitMonoOpus]:"webm-16khz-16bit-mono-opus",[n.SpeechSynthesisOutputFormat.Webm24Khz16BitMonoOpus]:"webm-24khz-16bit-mono-opus",[n.SpeechSynthesisOutputFormat.Webm24Khz16Bit24KbpsMonoOpus]:"webm-24khz-16bit-24kbps-mono-opus",[n.SpeechSynthesisOutputFormat.Raw24Khz16BitMonoTrueSilk]:"raw-24khz-16bit-mono-truesilk",[n.SpeechSynthesisOutputFormat.Raw8Khz8BitMonoALaw]:"raw-8khz-8bit-mono-alaw",[n.SpeechSynthesisOutputFormat.Riff8Khz8BitMonoALaw]:"riff-8khz-8bit-mono-alaw",[n.SpeechSynthesisOutputFormat.Audio16Khz16Bit32KbpsMonoOpus]:"audio-16khz-16bit-32kbps-mono-opus",[n.SpeechSynthesisOutputFormat.Audio24Khz16Bit48KbpsMonoOpus]:"audio-24khz-16bit-48kbps-mono-opus",[n.SpeechSynthesisOutputFormat.Audio24Khz16Bit24KbpsMonoOpus]:"audio-24khz-16bit-24kbps-mono-opus",[n.SpeechSynthesisOutputFormat.Raw22050Hz16BitMonoPcm]:"raw-22050hz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff22050Hz16BitMonoPcm]:"riff-22050hz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Raw44100Hz16BitMonoPcm]:"raw-44100hz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.Riff44100Hz16BitMonoPcm]:"riff-44100hz-16bit-mono-pcm",[n.SpeechSynthesisOutputFormat.AmrWb16000Hz]:"amr-wb-16000hz",[n.SpeechSynthesisOutputFormat.G72216Khz64Kbps]:"g722-16khz-64kbps"}},7811:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectionMessageSentEvent=t.ConnectionMessageReceivedEvent=t.ConnectionEstablishErrorEvent=t.ConnectionErrorEvent=t.ConnectionClosedEvent=t.ConnectionEstablishedEvent=t.ConnectionStartEvent=t.ConnectionEvent=t.ServiceEvent=void 0;const n=r(333);class i extends n.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.EventType.Info),this.privJsonResult=t}get jsonString(){return this.privJsonResult}}t.ServiceEvent=i;class o extends n.PlatformEvent{constructor(e,t){super(e,arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.EventType.Info),this.privConnectionId=t}get connectionId(){return this.privConnectionId}}t.ConnectionEvent=o;t.ConnectionStartEvent=class extends o{constructor(e,t,r){super("ConnectionStartEvent",e),this.privUri=t,this.privHeaders=r}get uri(){return this.privUri}get headers(){return this.privHeaders}};t.ConnectionEstablishedEvent=class extends o{constructor(e){super("ConnectionEstablishedEvent",e)}};t.ConnectionClosedEvent=class extends o{constructor(e,t,r){super("ConnectionClosedEvent",e,n.EventType.Debug),this.privReason=r,this.privStatusCode=t}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}};t.ConnectionErrorEvent=class extends o{constructor(e,t,r){super("ConnectionErrorEvent",e,n.EventType.Debug),this.privMessage=t,this.privType=r}get message(){return this.privMessage}get type(){return this.privType}};t.ConnectionEstablishErrorEvent=class extends o{constructor(e,t,r){super("ConnectionEstablishErrorEvent",e,n.EventType.Error),this.privStatusCode=t,this.privReason=r}get reason(){return this.privReason}get statusCode(){return this.privStatusCode}};t.ConnectionMessageReceivedEvent=class extends o{constructor(e,t,r){super("ConnectionMessageReceivedEvent",e),this.privNetworkReceivedTime=t,this.privMessage=r}get networkReceivedTime(){return this.privNetworkReceivedTime}get message(){return this.privMessage}};t.ConnectionMessageSentEvent=class extends o{constructor(e,t,r){super("ConnectionMessageSentEvent",e),this.privNetworkSentTime=t,this.privMessage=r}get networkSentTime(){return this.privNetworkSentTime}get message(){return this.privMessage}}},7882:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProxyInfo=void 0;const n=r(8040);class i{constructor(e,t,r,n){this.privProxyHostName=e,this.privProxyPort=t,this.privProxyUserName=r,this.privProxyPassword=n}static fromParameters(e){return new i(e.getProperty(n.PropertyId.SpeechServiceConnection_ProxyHostName),parseInt(e.getProperty(n.PropertyId.SpeechServiceConnection_ProxyPort),10),e.getProperty(n.PropertyId.SpeechServiceConnection_ProxyUserName),e.getProperty(n.PropertyId.SpeechServiceConnection_ProxyPassword))}static fromRecognizerConfig(e){return this.fromParameters(e.parameters)}get HostName(){return this.privProxyHostName}get Port(){return this.privProxyPort}get UserName(){return this.privProxyUserName}get Password(){return this.privProxyPassword}}t.ProxyInfo=i},7884:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3708))&&n.__esModule?n:{default:n},o=r(5080);let s,a,c=0,l=0;var u=function(e,t,r){let n=t&&r||0;const u=t||new Array(16);let p=(e=e||{}).node||s,d=void 0!==e.clockseq?e.clockseq:a;if(null==p||null==d){const t=e.random||(e.rng||i.default)();null==p&&(p=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==d&&(d=a=16383&(t[6]<<8|t[7]))}let h=void 0!==e.msecs?e.msecs:Date.now(),v=void 0!==e.nsecs?e.nsecs:l+1;const f=h-c+(v-l)/1e4;if(f<0&&void 0===e.clockseq&&(d=d+1&16383),(f<0||h>c)&&void 0===e.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=h,l=v,a=d,h+=122192928e5;const g=(1e4*(268435455&h)+v)%4294967296;u[n++]=g>>>24&255,u[n++]=g>>>16&255,u[n++]=g>>>8&255,u[n++]=255&g;const m=h/4294967296*1e4&268435455;u[n++]=m>>>8&255,u[n++]=255&m,u[n++]=m>>>24&15|16,u[n++]=m>>>16&255,u[n++]=d>>>8|128,u[n++]=255&d;for(let i=0;i<6;++i)u[n+i]=p[i];return t||(0,o.unsafeStringify)(u)};t.default=u},7950:(e,t,r)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(2730)},7961:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},7967:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationRequestSession=void 0;const n=r(2307);t.ConversationRequestSession=class{constructor(e){this.privIsDisposed=!1,this.privDetachables=new Array,this.privSessionId=e,this.privRequestId=n.createNoDashGuid(),this.privRequestCompletionDeferral=new n.Deferred}get sessionId(){return this.privSessionId}get requestId(){return this.privRequestId}get completionPromise(){return this.privRequestCompletionDeferral.promise}onPreConnectionStart(e,t){this.privSessionId=t}onAuthCompleted(e){e&&this.onComplete()}onConnectionEstablishCompleted(e){200!==e&&403===e&&this.onComplete()}onServiceTurnEndResponse(e){e?this.privRequestId=n.createNoDashGuid():this.onComplete()}async dispose(){if(!this.privIsDisposed){this.privIsDisposed=!0;for(const e of this.privDetachables)await e.detach()}}onComplete(){}}},7996:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarVideoFormat=t.Coordinate=void 0;t.Coordinate=class{constructor(e,t){this.x=e,this.y=t}};t.AvatarVideoFormat=class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"H264",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2e6,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1920,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1080;this.codec=e,this.bitrate=t,this.width=r,this.height=n}setCropRange(e,t){this.cropRange={bottomRight:t,topLeft:e}}}},8021:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisRequest=t.Synthesizer=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a{constructor(e){const t=e;o.Contracts.throwIfNull(t,"speechConfig"),this.privProperties=t.properties.clone(),this.privDisposed=!1,this.privSynthesizing=!1,this.synthesisRequestQueue=new i.Queue}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}get properties(){return this.privProperties}get autoDetectSourceLanguage(){return this.properties.getProperty(s.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages)===n.AutoDetectSourceLanguagesOpenRangeOptionName}buildSsml(e){const t={"af-ZA":"af-ZA-AdriNeural","am-ET":"am-ET-AmehaNeural","ar-AE":"ar-AE-FatimaNeural","ar-BH":"ar-BH-AliNeural","ar-DZ":"ar-DZ-AminaNeural","ar-EG":"ar-EG-SalmaNeural","ar-IQ":"ar-IQ-BasselNeural","ar-JO":"ar-JO-SanaNeural","ar-KW":"ar-KW-FahedNeural","ar-LY":"ar-LY-ImanNeural","ar-MA":"ar-MA-JamalNeural","ar-QA":"ar-QA-AmalNeural","ar-SA":"ar-SA-HamedNeural","ar-SY":"ar-SY-AmanyNeural","ar-TN":"ar-TN-HediNeural","ar-YE":"ar-YE-MaryamNeural","bg-BG":"bg-BG-BorislavNeural","bn-BD":"bn-BD-NabanitaNeural","bn-IN":"bn-IN-BashkarNeural","ca-ES":"ca-ES-JoanaNeural","cs-CZ":"cs-CZ-AntoninNeural","cy-GB":"cy-GB-AledNeural","da-DK":"da-DK-ChristelNeural","de-AT":"de-AT-IngridNeural","de-CH":"de-CH-JanNeural","de-DE":"de-DE-KatjaNeural","el-GR":"el-GR-AthinaNeural","en-AU":"en-AU-NatashaNeural","en-CA":"en-CA-ClaraNeural","en-GB":"en-GB-LibbyNeural","en-HK":"en-HK-SamNeural","en-IE":"en-IE-ConnorNeural","en-IN":"en-IN-NeerjaNeural","en-KE":"en-KE-AsiliaNeural","en-NG":"en-NG-AbeoNeural","en-NZ":"en-NZ-MitchellNeural","en-PH":"en-PH-JamesNeural","en-SG":"en-SG-LunaNeural","en-TZ":"en-TZ-ElimuNeural","en-US":"en-US-AvaMultilingualNeural","en-ZA":"en-ZA-LeahNeural","es-AR":"es-AR-ElenaNeural","es-BO":"es-BO-MarceloNeural","es-CL":"es-CL-CatalinaNeural","es-CO":"es-CO-GonzaloNeural","es-CR":"es-CR-JuanNeural","es-CU":"es-CU-BelkysNeural","es-DO":"es-DO-EmilioNeural","es-EC":"es-EC-AndreaNeural","es-ES":"es-ES-AlvaroNeural","es-GQ":"es-GQ-JavierNeural","es-GT":"es-GT-AndresNeural","es-HN":"es-HN-CarlosNeural","es-MX":"es-MX-DaliaNeural","es-NI":"es-NI-FedericoNeural","es-PA":"es-PA-MargaritaNeural","es-PE":"es-PE-AlexNeural","es-PR":"es-PR-KarinaNeural","es-PY":"es-PY-MarioNeural","es-SV":"es-SV-LorenaNeural","es-US":"es-US-AlonsoNeural","es-UY":"es-UY-MateoNeural","es-VE":"es-VE-PaolaNeural","et-EE":"et-EE-AnuNeural","fa-IR":"fa-IR-DilaraNeural","fi-FI":"fi-FI-SelmaNeural","fil-PH":"fil-PH-AngeloNeural","fr-BE":"fr-BE-CharlineNeural","fr-CA":"fr-CA-SylvieNeural","fr-CH":"fr-CH-ArianeNeural","fr-FR":"fr-FR-DeniseNeural","ga-IE":"ga-IE-ColmNeural","gl-ES":"gl-ES-RoiNeural","gu-IN":"gu-IN-DhwaniNeural","he-IL":"he-IL-AvriNeural","hi-IN":"hi-IN-MadhurNeural","hr-HR":"hr-HR-GabrijelaNeural","hu-HU":"hu-HU-NoemiNeural","id-ID":"id-ID-ArdiNeural","is-IS":"is-IS-GudrunNeural","it-IT":"it-IT-IsabellaNeural","ja-JP":"ja-JP-NanamiNeural","jv-ID":"jv-ID-DimasNeural","kk-KZ":"kk-KZ-AigulNeural","km-KH":"km-KH-PisethNeural","kn-IN":"kn-IN-GaganNeural","ko-KR":"ko-KR-SunHiNeural","lo-LA":"lo-LA-ChanthavongNeural","lt-LT":"lt-LT-LeonasNeural","lv-LV":"lv-LV-EveritaNeural","mk-MK":"mk-MK-AleksandarNeural","ml-IN":"ml-IN-MidhunNeural","mr-IN":"mr-IN-AarohiNeural","ms-MY":"ms-MY-OsmanNeural","mt-MT":"mt-MT-GraceNeural","my-MM":"my-MM-NilarNeural","nb-NO":"nb-NO-PernilleNeural","nl-BE":"nl-BE-ArnaudNeural","nl-NL":"nl-NL-ColetteNeural","pl-PL":"pl-PL-AgnieszkaNeural","ps-AF":"ps-AF-GulNawazNeural","pt-BR":"pt-BR-FranciscaNeural","pt-PT":"pt-PT-DuarteNeural","ro-RO":"ro-RO-AlinaNeural","ru-RU":"ru-RU-SvetlanaNeural","si-LK":"si-LK-SameeraNeural","sk-SK":"sk-SK-LukasNeural","sl-SI":"sl-SI-PetraNeural","so-SO":"so-SO-MuuseNeural","sr-RS":"sr-RS-NicholasNeural","su-ID":"su-ID-JajangNeural","sv-SE":"sv-SE-SofieNeural","sw-KE":"sw-KE-RafikiNeural","sw-TZ":"sw-TZ-DaudiNeural","ta-IN":"ta-IN-PallaviNeural","ta-LK":"ta-LK-KumarNeural","ta-SG":"ta-SG-AnbuNeural","te-IN":"te-IN-MohanNeural","th-TH":"th-TH-PremwadeeNeural","tr-TR":"tr-TR-AhmetNeural","uk-UA":"uk-UA-OstapNeural","ur-IN":"ur-IN-GulNeural","ur-PK":"ur-PK-AsadNeural","uz-UZ":"uz-UZ-MadinaNeural","vi-VN":"vi-VN-HoaiMyNeural","zh-CN":"zh-CN-XiaoxiaoNeural","zh-HK":"zh-HK-HiuMaanNeural","zh-TW":"zh-TW-HsiaoChenNeural","zu-ZA":"zu-ZA-ThandoNeural"};let r=this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthLanguage,"en-US"),n=this.properties.getProperty(s.PropertyId.SpeechServiceConnection_SynthVoice,""),i=a.XMLEncode(e);return this.autoDetectSourceLanguage?r="en-US":n=n||t[r],n&&(i=`<voice name='${n}'>${i}</voice>`),i=`<speak version='1.0' xmlns='http://www.w3.org/2001/10/synthesis' xmlns:mstts='http://www.w3.org/2001/mstts' xmlns:emo='http://www.w3.org/2009/10/emotionml' xml:lang='${r}'>${i}</speak>`,i}async dispose(e){this.privDisposed||(e&&this.privAdapter&&await this.privAdapter.dispose(),this.privDisposed=!0)}async adapterSpeak(){if(!this.privDisposed&&!this.privSynthesizing){this.privSynthesizing=!0;const e=await this.synthesisRequestQueue.dequeue();return this.privAdapter.Speak(e.text,e.isSSML,e.requestId,e.cb,e.err,e.dataStream)}}createSynthesizerConfig(e){return new n.SynthesizerConfig(e,this.privProperties)}implCommonSynthesizeSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);const i=this.createSynthesizerConfig(new n.SpeechServiceConfig(new n.Context(new n.OS(e,t,r)))),o=this.privProperties.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0),a=o&&""!==o?new n.CognitiveSubscriptionKeyAuthentication(o):new n.CognitiveTokenAuthentication((()=>{const e=this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(e)}),(()=>{const e=this.privProperties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(e)}));this.privAdapter=this.createSynthesisAdapter(a,this.privConnectionFactory,i),this.privRestAdapter=this.createRestSynthesisAdapter(a,i)}static XMLEncode(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}}t.Synthesizer=a;t.SynthesisRequest=class{constructor(e,t,r,n,i,o){this.requestId=e,this.text=t,this.isSSML=r,this.cb=n,this.err=i,this.dataStream=o}}},8040:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=r(6782);Object.defineProperty(t,"AudioConfig",{enumerable:!0,get:function(){return n.AudioConfig}});var i=r(4175);Object.defineProperty(t,"AudioStreamFormat",{enumerable:!0,get:function(){return i.AudioStreamFormat}}),Object.defineProperty(t,"AudioFormatTag",{enumerable:!0,get:function(){return i.AudioFormatTag}});var o=r(6182);Object.defineProperty(t,"AudioInputStream",{enumerable:!0,get:function(){return o.AudioInputStream}}),Object.defineProperty(t,"PullAudioInputStream",{enumerable:!0,get:function(){return o.PullAudioInputStream}}),Object.defineProperty(t,"PushAudioInputStream",{enumerable:!0,get:function(){return o.PushAudioInputStream}});var s=r(9709);Object.defineProperty(t,"AudioOutputStream",{enumerable:!0,get:function(){return s.AudioOutputStream}}),Object.defineProperty(t,"PullAudioOutputStream",{enumerable:!0,get:function(){return s.PullAudioOutputStream}}),Object.defineProperty(t,"PushAudioOutputStream",{enumerable:!0,get:function(){return s.PushAudioOutputStream}});var a=r(2096);Object.defineProperty(t,"CancellationReason",{enumerable:!0,get:function(){return a.CancellationReason}});var c=r(7014);Object.defineProperty(t,"PullAudioInputStreamCallback",{enumerable:!0,get:function(){return c.PullAudioInputStreamCallback}});var l=r(8626);Object.defineProperty(t,"PushAudioOutputStreamCallback",{enumerable:!0,get:function(){return l.PushAudioOutputStreamCallback}});var u=r(1220);Object.defineProperty(t,"KeywordRecognitionModel",{enumerable:!0,get:function(){return u.KeywordRecognitionModel}});var p=r(9070);Object.defineProperty(t,"SessionEventArgs",{enumerable:!0,get:function(){return p.SessionEventArgs}});var d=r(8743);Object.defineProperty(t,"RecognitionEventArgs",{enumerable:!0,get:function(){return d.RecognitionEventArgs}});var h=r(3833);Object.defineProperty(t,"OutputFormat",{enumerable:!0,get:function(){return h.OutputFormat}});var v=r(4065);Object.defineProperty(t,"IntentRecognitionEventArgs",{enumerable:!0,get:function(){return v.IntentRecognitionEventArgs}});var f=r(7501);Object.defineProperty(t,"RecognitionResult",{enumerable:!0,get:function(){return f.RecognitionResult}});var g=r(127);Object.defineProperty(t,"SpeechRecognitionResult",{enumerable:!0,get:function(){return g.SpeechRecognitionResult}});var m=r(2399);Object.defineProperty(t,"IntentRecognitionResult",{enumerable:!0,get:function(){return m.IntentRecognitionResult}});var y=r(590);Object.defineProperty(t,"LanguageUnderstandingModel",{enumerable:!0,get:function(){return y.LanguageUnderstandingModel}});var S=r(1649);Object.defineProperty(t,"SpeechRecognitionEventArgs",{enumerable:!0,get:function(){return S.SpeechRecognitionEventArgs}}),Object.defineProperty(t,"ConversationTranscriptionEventArgs",{enumerable:!0,get:function(){return S.ConversationTranscriptionEventArgs}}),Object.defineProperty(t,"MeetingTranscriptionEventArgs",{enumerable:!0,get:function(){return S.MeetingTranscriptionEventArgs}});var C=r(4832);Object.defineProperty(t,"SpeechRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return C.SpeechRecognitionCanceledEventArgs}});var b=r(6452);Object.defineProperty(t,"TranslationRecognitionEventArgs",{enumerable:!0,get:function(){return b.TranslationRecognitionEventArgs}});var P=r(4823);Object.defineProperty(t,"TranslationSynthesisEventArgs",{enumerable:!0,get:function(){return P.TranslationSynthesisEventArgs}});var w=r(2936);Object.defineProperty(t,"TranslationRecognitionResult",{enumerable:!0,get:function(){return w.TranslationRecognitionResult}});var R=r(3213);Object.defineProperty(t,"TranslationSynthesisResult",{enumerable:!0,get:function(){return R.TranslationSynthesisResult}});var I=r(3906);Object.defineProperty(t,"ResultReason",{enumerable:!0,get:function(){return I.ResultReason}});var E=r(3051);Object.defineProperty(t,"SpeechConfig",{enumerable:!0,get:function(){return E.SpeechConfig}}),Object.defineProperty(t,"SpeechConfigImpl",{enumerable:!0,get:function(){return E.SpeechConfigImpl}});var T=r(3468);Object.defineProperty(t,"SpeechTranslationConfig",{enumerable:!0,get:function(){return T.SpeechTranslationConfig}}),Object.defineProperty(t,"SpeechTranslationConfigImpl",{enumerable:!0,get:function(){return T.SpeechTranslationConfigImpl}});var x=r(6058);Object.defineProperty(t,"PropertyCollection",{enumerable:!0,get:function(){return x.PropertyCollection}});var A=r(1743);Object.defineProperty(t,"PropertyId",{enumerable:!0,get:function(){return A.PropertyId}});var O=r(8045);Object.defineProperty(t,"Recognizer",{enumerable:!0,get:function(){return O.Recognizer}});var k=r(5411);Object.defineProperty(t,"SpeechRecognizer",{enumerable:!0,get:function(){return k.SpeechRecognizer}});var N=r(7747);Object.defineProperty(t,"IntentRecognizer",{enumerable:!0,get:function(){return N.IntentRecognizer}});var M=r(8472);Object.defineProperty(t,"VoiceProfileType",{enumerable:!0,get:function(){return M.VoiceProfileType}});var D=r(2058);Object.defineProperty(t,"TranslationRecognizer",{enumerable:!0,get:function(){return D.TranslationRecognizer}});var _=r(7515);Object.defineProperty(t,"Translations",{enumerable:!0,get:function(){return _.Translations}});var z=r(6727);Object.defineProperty(t,"NoMatchReason",{enumerable:!0,get:function(){return z.NoMatchReason}});var L=r(6501);Object.defineProperty(t,"NoMatchDetails",{enumerable:!0,get:function(){return L.NoMatchDetails}});var j=r(9169);Object.defineProperty(t,"TranslationRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return j.TranslationRecognitionCanceledEventArgs}});var F=r(3552);Object.defineProperty(t,"IntentRecognitionCanceledEventArgs",{enumerable:!0,get:function(){return F.IntentRecognitionCanceledEventArgs}});var B=r(8293);Object.defineProperty(t,"CancellationDetailsBase",{enumerable:!0,get:function(){return B.CancellationDetailsBase}});var U=r(4148);Object.defineProperty(t,"CancellationDetails",{enumerable:!0,get:function(){return U.CancellationDetails}});var q=r(372);Object.defineProperty(t,"CancellationErrorCode",{enumerable:!0,get:function(){return q.CancellationErrorCode}});var W=r(5850);Object.defineProperty(t,"ConnectionEventArgs",{enumerable:!0,get:function(){return W.ConnectionEventArgs}});var H=r(3707);Object.defineProperty(t,"ServiceEventArgs",{enumerable:!0,get:function(){return H.ServiceEventArgs}});var V=r(4931);Object.defineProperty(t,"Connection",{enumerable:!0,get:function(){return V.Connection}});var K=r(6945);Object.defineProperty(t,"PhraseListGrammar",{enumerable:!0,get:function(){return K.PhraseListGrammar}});var J=r(3542);Object.defineProperty(t,"DialogServiceConfig",{enumerable:!0,get:function(){return J.DialogServiceConfig}});var $=r(6566);Object.defineProperty(t,"BotFrameworkConfig",{enumerable:!0,get:function(){return $.BotFrameworkConfig}});var G=r(980);Object.defineProperty(t,"CustomCommandsConfig",{enumerable:!0,get:function(){return G.CustomCommandsConfig}});var Q=r(4229);Object.defineProperty(t,"DialogServiceConnector",{enumerable:!0,get:function(){return Q.DialogServiceConnector}});var Y=r(840);Object.defineProperty(t,"ActivityReceivedEventArgs",{enumerable:!0,get:function(){return Y.ActivityReceivedEventArgs}});var X=r(716);Object.defineProperty(t,"TurnStatusReceivedEventArgs",{enumerable:!0,get:function(){return X.TurnStatusReceivedEventArgs}});var Z=r(8282);Object.defineProperty(t,"ServicePropertyChannel",{enumerable:!0,get:function(){return Z.ServicePropertyChannel}});var ee=r(94);Object.defineProperty(t,"ProfanityOption",{enumerable:!0,get:function(){return ee.ProfanityOption}});var te=r(4902);Object.defineProperty(t,"BaseAudioPlayer",{enumerable:!0,get:function(){return te.BaseAudioPlayer}});var re=r(6471);Object.defineProperty(t,"ConnectionMessageEventArgs",{enumerable:!0,get:function(){return re.ConnectionMessageEventArgs}});var ne=r(344);Object.defineProperty(t,"ConnectionMessage",{enumerable:!0,get:function(){return ne.ConnectionMessage}});var ie=r(4384);Object.defineProperty(t,"VoiceProfile",{enumerable:!0,get:function(){return ie.VoiceProfile}});var oe=r(6917);Object.defineProperty(t,"VoiceProfileEnrollmentResult",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentResult}}),Object.defineProperty(t,"VoiceProfileEnrollmentCancellationDetails",{enumerable:!0,get:function(){return oe.VoiceProfileEnrollmentCancellationDetails}});var se=r(9941);Object.defineProperty(t,"VoiceProfileResult",{enumerable:!0,get:function(){return se.VoiceProfileResult}}),Object.defineProperty(t,"VoiceProfileCancellationDetails",{enumerable:!0,get:function(){return se.VoiceProfileCancellationDetails}});var ae=r(7268);Object.defineProperty(t,"VoiceProfilePhraseResult",{enumerable:!0,get:function(){return ae.VoiceProfilePhraseResult}});var ce=r(8163);Object.defineProperty(t,"VoiceProfileClient",{enumerable:!0,get:function(){return ce.VoiceProfileClient}});var le=r(4656);Object.defineProperty(t,"SpeakerRecognizer",{enumerable:!0,get:function(){return le.SpeakerRecognizer}});var ue=r(6031);Object.defineProperty(t,"SpeakerIdentificationModel",{enumerable:!0,get:function(){return ue.SpeakerIdentificationModel}});var pe=r(2040);Object.defineProperty(t,"SpeakerVerificationModel",{enumerable:!0,get:function(){return pe.SpeakerVerificationModel}});var de=r(9982);Object.defineProperty(t,"AutoDetectSourceLanguageConfig",{enumerable:!0,get:function(){return de.AutoDetectSourceLanguageConfig}});var he=r(6481);Object.defineProperty(t,"AutoDetectSourceLanguageResult",{enumerable:!0,get:function(){return he.AutoDetectSourceLanguageResult}});var ve=r(7646);Object.defineProperty(t,"SourceLanguageConfig",{enumerable:!0,get:function(){return ve.SourceLanguageConfig}});var fe=r(9818);Object.defineProperty(t,"SpeakerRecognitionResult",{enumerable:!0,get:function(){return fe.SpeakerRecognitionResult}}),Object.defineProperty(t,"SpeakerRecognitionResultType",{enumerable:!0,get:function(){return fe.SpeakerRecognitionResultType}}),Object.defineProperty(t,"SpeakerRecognitionCancellationDetails",{enumerable:!0,get:function(){return fe.SpeakerRecognitionCancellationDetails}});var ge=r(5463);Object.defineProperty(t,"Conversation",{enumerable:!0,get:function(){return ge.Conversation}}),Object.defineProperty(t,"ConversationExpirationEventArgs",{enumerable:!0,get:function(){return ge.ConversationExpirationEventArgs}}),Object.defineProperty(t,"ConversationParticipantsChangedEventArgs",{enumerable:!0,get:function(){return ge.ConversationParticipantsChangedEventArgs}}),Object.defineProperty(t,"ConversationTranslationCanceledEventArgs",{enumerable:!0,get:function(){return ge.ConversationTranslationCanceledEventArgs}}),Object.defineProperty(t,"ConversationTranslationEventArgs",{enumerable:!0,get:function(){return ge.ConversationTranslationEventArgs}}),Object.defineProperty(t,"ConversationTranslationResult",{enumerable:!0,get:function(){return ge.ConversationTranslationResult}}),Object.defineProperty(t,"ConversationTranslator",{enumerable:!0,get:function(){return ge.ConversationTranslator}}),Object.defineProperty(t,"ConversationTranscriber",{enumerable:!0,get:function(){return ge.ConversationTranscriber}}),Object.defineProperty(t,"ConversationTranscriptionResult",{enumerable:!0,get:function(){return ge.ConversationTranscriptionResult}}),Object.defineProperty(t,"Meeting",{enumerable:!0,get:function(){return ge.Meeting}}),Object.defineProperty(t,"MeetingTranscriber",{enumerable:!0,get:function(){return ge.MeetingTranscriber}}),Object.defineProperty(t,"Participant",{enumerable:!0,get:function(){return ge.Participant}}),Object.defineProperty(t,"ParticipantChangedReason",{enumerable:!0,get:function(){return ge.ParticipantChangedReason}}),Object.defineProperty(t,"User",{enumerable:!0,get:function(){return ge.User}});var me=r(8021);Object.defineProperty(t,"Synthesizer",{enumerable:!0,get:function(){return me.Synthesizer}});var ye=r(8765);Object.defineProperty(t,"SpeechSynthesisOutputFormat",{enumerable:!0,get:function(){return ye.SpeechSynthesisOutputFormat}});var Se=r(9783);Object.defineProperty(t,"SpeechSynthesizer",{enumerable:!0,get:function(){return Se.SpeechSynthesizer}});var Ce=r(9548);Object.defineProperty(t,"SynthesisResult",{enumerable:!0,get:function(){return Ce.SynthesisResult}});var be=r(8394);Object.defineProperty(t,"SpeechSynthesisResult",{enumerable:!0,get:function(){return be.SpeechSynthesisResult}});var Pe=r(3289);Object.defineProperty(t,"SpeechSynthesisEventArgs",{enumerable:!0,get:function(){return Pe.SpeechSynthesisEventArgs}});var we=r(8608);Object.defineProperty(t,"SpeechSynthesisWordBoundaryEventArgs",{enumerable:!0,get:function(){return we.SpeechSynthesisWordBoundaryEventArgs}});var Re=r(4814);Object.defineProperty(t,"SpeechSynthesisBookmarkEventArgs",{enumerable:!0,get:function(){return Re.SpeechSynthesisBookmarkEventArgs}});var Ie=r(3911);Object.defineProperty(t,"SpeechSynthesisVisemeEventArgs",{enumerable:!0,get:function(){return Ie.SpeechSynthesisVisemeEventArgs}});var Ee=r(9225);Object.defineProperty(t,"SpeechSynthesisBoundaryType",{enumerable:!0,get:function(){return Ee.SpeechSynthesisBoundaryType}});var Te=r(2359);Object.defineProperty(t,"SynthesisVoicesResult",{enumerable:!0,get:function(){return Te.SynthesisVoicesResult}});var xe=r(8833);Object.defineProperty(t,"SynthesisVoiceGender",{enumerable:!0,get:function(){return xe.SynthesisVoiceGender}}),Object.defineProperty(t,"SynthesisVoiceType",{enumerable:!0,get:function(){return xe.SynthesisVoiceType}}),Object.defineProperty(t,"VoiceInfo",{enumerable:!0,get:function(){return xe.VoiceInfo}});var Ae=r(9553);Object.defineProperty(t,"SpeakerAudioDestination",{enumerable:!0,get:function(){return Ae.SpeakerAudioDestination}});var Oe=r(684);Object.defineProperty(t,"ConversationTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return Oe.ConversationTranscriptionCanceledEventArgs}});var ke=r(6822);Object.defineProperty(t,"MeetingTranscriptionCanceledEventArgs",{enumerable:!0,get:function(){return ke.MeetingTranscriptionCanceledEventArgs}});var Ne=r(175);Object.defineProperty(t,"PronunciationAssessmentGradingSystem",{enumerable:!0,get:function(){return Ne.PronunciationAssessmentGradingSystem}});var Me=r(338);Object.defineProperty(t,"PronunciationAssessmentGranularity",{enumerable:!0,get:function(){return Me.PronunciationAssessmentGranularity}});var De=r(1074);Object.defineProperty(t,"PronunciationAssessmentConfig",{enumerable:!0,get:function(){return De.PronunciationAssessmentConfig}});var _e=r(1045);Object.defineProperty(t,"PronunciationAssessmentResult",{enumerable:!0,get:function(){return _e.PronunciationAssessmentResult}});var ze=r(9531);Object.defineProperty(t,"LanguageIdMode",{enumerable:!0,get:function(){return ze.LanguageIdMode}});var Le=r(4572);Object.defineProperty(t,"AvatarConfig",{enumerable:!0,get:function(){return Le.AvatarConfig}});var je=r(6669);Object.defineProperty(t,"AvatarEventArgs",{enumerable:!0,get:function(){return je.AvatarEventArgs}});var Fe=r(5886);Object.defineProperty(t,"AvatarSynthesizer",{enumerable:!0,get:function(){return Fe.AvatarSynthesizer}});var Be=r(7996);Object.defineProperty(t,"AvatarVideoFormat",{enumerable:!0,get:function(){return Be.AvatarVideoFormat}}),Object.defineProperty(t,"Coordinate",{enumerable:!0,get:function(){return Be.Coordinate}});var Ue=r(6222);Object.defineProperty(t,"AvatarWebRTCConnectionResult",{enumerable:!0,get:function(){return Ue.AvatarWebRTCConnectionResult}});var qe=r(2999);Object.defineProperty(t,"Diagnostics",{enumerable:!0,get:function(){return qe.Diagnostics}});var We=r(9099);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return We.LogLevel}})},8045:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Recognizer=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040);class a{constructor(e,t,r){this.audioConfig=void 0!==e?e:s.AudioConfig.fromDefaultMicrophoneInput(),this.privDisposed=!1,this.privProperties=t.clone(),this.privConnectionFactory=r,this.implCommonRecognizerSetup()}close(e,t){o.Contracts.throwIfDisposed(this.privDisposed),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}get internalData(){return this.privReco}async dispose(e){this.privDisposed||(this.privDisposed=!0,e&&this.privReco&&(await this.privReco.audioSource.turnOff(),await this.privReco.dispose()))}static get telemetryEnabled(){return n.ServiceRecognizerBase.telemetryDataEnabled}static enableTelemetry(e){n.ServiceRecognizerBase.telemetryDataEnabled=e}implCommonRecognizerSetup(){let e="undefined"!==typeof window?"Browser":"Node",t="unknown",r="unknown";"undefined"!==typeof navigator&&(e=e+"/"+navigator.platform,t=navigator.userAgent,r=navigator.appVersion);const i=this.createRecognizerConfig(new n.SpeechServiceConfig(new n.Context(new n.OS(e,t,r))));this.privReco=this.createServiceRecognizer(a.getAuthFromProperties(this.privProperties),this.privConnectionFactory,this.audioConfig,i)}async recognizeOnceAsyncImpl(e){o.Contracts.throwIfDisposed(this.privDisposed);const t=new i.Deferred;await this.implRecognizerStop(),await this.privReco.recognize(e,t.resolve,t.reject);const r=await t.promise;return await this.implRecognizerStop(),r}async startContinuousRecognitionAsyncImpl(e){o.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop(),await this.privReco.recognize(e,void 0,void 0)}async stopContinuousRecognitionAsyncImpl(){o.Contracts.throwIfDisposed(this.privDisposed),await this.implRecognizerStop()}async implRecognizerStop(){this.privReco&&await this.privReco.stopRecognizing()}static getAuthFromProperties(e){const t=e.getProperty(s.PropertyId.SpeechServiceConnection_Key,void 0);return t&&""!==t?new n.CognitiveSubscriptionKeyAuthentication(t):new n.CognitiveTokenAuthentication((()=>{const t=e.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}),(()=>{const t=e.getProperty(s.PropertyId.SpeechServiceAuthorization_Token,void 0);return Promise.resolve(t)}))}}t.Recognizer=a},8073:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechKeyword=void 0;class r{constructor(e,t){this.privSpeechKeyword=JSON.parse(e),this.privSpeechKeyword.Offset+=t}static fromJSON(e,t){return new r(e,t)}get Status(){return this.privSpeechKeyword.Status}get Text(){return this.privSpeechKeyword.Text}get Offset(){return this.privSpeechKeyword.Offset}get Duration(){return this.privSpeechKeyword.Duration}asJson(){return JSON.stringify(this.privSpeechKeyword)}}t.SpeechKeyword=r},8096:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServiceRecognizerBase=void 0;const n=r(2277),i=r(2307),o=r(8040),s=r(9859),a=r(222);class c{constructor(e,t,r,n,a){if(this.privConnectionConfigurationPromise=void 0,this.privConnectionPromise=void 0,this.privSetTimeout=setTimeout,this.privIsLiveAudio=!1,this.privAverageBytesPerMs=0,this.privEnableSpeakerId=!1,this.privExpectContentAssessmentResponse=!1,this.recognizeOverride=void 0,this.recognizeSpeaker=void 0,this.disconnectOverride=void 0,this.receiveMessageOverride=void 0,this.sendPrePayloadJSONOverride=void 0,this.postConnectImplOverride=void 0,this.configConnectionOverride=void 0,this.handleSpeechPhraseMessage=void 0,this.handleSpeechHypothesisMessage=void 0,!e)throw new i.ArgumentNullError("authentication");if(!t)throw new i.ArgumentNullError("connectionFactory");if(!r)throw new i.ArgumentNullError("audioSource");if(!n)throw new i.ArgumentNullError("recognizerConfig");this.privEnableSpeakerId=n.isSpeakerDiarizationEnabled,this.privMustReportEndOfStream=!1,this.privAuthentication=e,this.privConnectionFactory=t,this.privAudioSource=r,this.privRecognizerConfig=n,this.privIsDisposed=!1,this.privRecognizer=a,this.privRequestSession=new s.RequestSession(this.privAudioSource.id()),this.privConnectionEvents=new i.EventSource,this.privServiceEvents=new i.EventSource,this.privDynamicGrammar=new s.DynamicGrammarBuilder,this.privSpeechContext=new s.SpeechContext(this.privDynamicGrammar),this.privAgentConfig=new s.AgentConfig;"on"===this.privRecognizerConfig.parameters.getProperty(o.PropertyId.WebWorkerLoadType,"on").toLowerCase()&&"undefined"!==typeof Blob&&"undefined"!==typeof Worker?this.privSetTimeout=i.Timeout.setTimeout:("undefined"!==typeof window&&(this.privSetTimeout=window.setTimeout.bind(window)),"undefined"!==typeof globalThis&&(this.privSetTimeout=globalThis.setTimeout.bind(globalThis))),this.connectionEvents.attach((e=>{if("ConnectionClosedEvent"===e.name){const t=e;(1003===t.statusCode||1007===t.statusCode||1002===t.statusCode||4e3===t.statusCode||this.privRequestSession.numConnectionAttempts>this.privRecognizerConfig.maxRetryCount)&&this.cancelRecognitionLocal(o.CancellationReason.Error,1007===t.statusCode?o.CancellationErrorCode.BadRequestParameters:o.CancellationErrorCode.ConnectionFailure,`${t.reason} websocket error code: ${t.statusCode}`)}})),this.privEnableSpeakerId&&(this.privDiarizationSessionId=i.createNoDashGuid()),this.setLanguageIdJson(),this.setOutputDetailLevelJson()}setTranslationJson(){const e=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0);if(void 0!==e){const t=e.split(","),r=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationVoice,void 0),n=void 0!==r?"Synthesize":"None";if(this.privSpeechContext.setSection("translation",{onSuccess:{action:n},output:{interimResults:{mode:"Always"}},targetLanguages:t}),void 0!==r){const e={};for(const n of t)e[n]=r;this.privSpeechContext.setSection("synthesis",{defaultVoices:e})}}}setSpeechSegmentationTimeoutJson(){const e=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Speech_SegmentationSilenceTimeoutMs,void 0),t=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Speech_SegmentationMaximumTimeMs,void 0),r=this.privRecognizerConfig.parameters.getProperty(o.PropertyId.Speech_SegmentationStrategy,void 0),n={segmentation:{mode:""}};let i=!1;if(void 0!==r){i=!0;let e="";switch(r.toLowerCase()){case"default":break;case"time":e="Custom";break;case"semantic":e="Semantic"}n.segmentation.mode=e}if(void 0!==e){i=!0;const t=parseInt(e,10);n.segmentation.mode="Custom",n.segmentation.segmentationSilenceTimeoutMs=t}if(void 0!==t){i=!0;const e=parseInt(t,10);n.segmentation.mode="Custom",n.segmentation.segmentationForcedTimeoutMs=e}if(i){const e=this.recognitionMode===s.RecognitionMode.Conversation?"CONVERSATION":this.recognitionMode===s.RecognitionMode.Dictation?"DICTATION":"INTERACTIVE",t=this.privSpeechContext.getSection("phraseDetection");t.mode=e,t[e]=n,this.privSpeechContext.setSection("phraseDetection",t)}}setLanguageIdJson(){const e=this.privSpeechContext.getSection("phraseDetection");if(void 0!==this.privRecognizerConfig.autoDetectSourceLanguages){const t=this.privRecognizerConfig.autoDetectSourceLanguages.split(",");let r;r="Continuous"===this.privRecognizerConfig.languageIdMode?"DetectContinuous":"DetectAtAudioStart",this.privSpeechContext.setSection("languageId",{Priority:"PrioritizeLatency",languages:t,mode:r,onSuccess:{action:"Recognize"},onUnknown:{action:"None"}}),this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"Auto"},phraseResults:{resultType:"Always"}});const n=this.privRecognizerConfig.sourceLanguageModels;void 0!==n&&(e.customModels=n,e.onInterim={action:"None"},e.onSuccess={action:"None"})}void 0!==this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_TranslationToLanguages,void 0)&&(e.onInterim={action:"Translate"},e.onSuccess={action:"Translate"},this.privSpeechContext.setSection("phraseOutput",{interimResults:{resultType:"None"},phraseResults:{resultType:"None"}})),this.privSpeechContext.setSection("phraseDetection",e)}setOutputDetailLevelJson(){if(this.privEnableSpeakerId){if("true"===this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceResponse_RequestWordLevelTimestamps,"false").toLowerCase())this.privSpeechContext.setWordLevelTimings();else{this.privRecognizerConfig.parameters.getProperty(s.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase()===o.OutputFormat[o.OutputFormat.Detailed].toLocaleLowerCase()&&this.privSpeechContext.setDetailedOutputFormat()}}}get isSpeakerDiarizationEnabled(){return this.privEnableSpeakerId}get audioSource(){return this.privAudioSource}get speechContext(){return this.privSpeechContext}get dynamicGrammar(){return this.privDynamicGrammar}get agentConfig(){return this.privAgentConfig}set conversationTranslatorToken(e){this.privRecognizerConfig.parameters.setProperty(o.PropertyId.ConversationTranslator_Token,e)}set voiceProfileType(e){this.privRecognizerConfig.parameters.setProperty(o.PropertyId.SpeechServiceConnection_SpeakerIdMode,e)}set authentication(e){this.privAuthentication=e}isDisposed(){return this.privIsDisposed}async dispose(e){if(this.privIsDisposed=!0,void 0!==this.privConnectionConfigurationPromise)try{const t=await this.privConnectionConfigurationPromise;await t.dispose(e)}catch(t){return}}get connectionEvents(){return this.privConnectionEvents}get serviceEvents(){return this.privServiceEvents}get recognitionMode(){return this.privRecognizerConfig.recognitionMode}async recognize(e,t,r){if(void 0!==this.recognizeOverride)return void await this.recognizeOverride(e,t,r);this.privConnectionConfigurationPromise=void 0,this.privRecognizerConfig.recognitionMode=e,this.setSpeechSegmentationTimeoutJson(),this.setTranslationJson(),this.privSuccessCallback=t,this.privErrorCallback=r,this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privAudioSource.events);const i=this.connectImpl();let a;try{const e=await this.audioSource.attach(this.privRequestSession.audioNodeId),t=await this.audioSource.format,r=await this.audioSource.deviceInfo;this.privIsLiveAudio=r.type&&r.type===s.type.Microphones,a=new n.ReplayableAudioNode(e,t.avgBytesPerSec),await this.privRequestSession.onAudioSourceAttachCompleted(a,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:r}}catch(l){throw await this.privRequestSession.onStopRecognizing(),l}try{await i}catch(l){return void await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,l)}const c=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,c),this.receiveMessage();this.sendAudio(a).catch((async e=>{await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)}))}async stopRecognizing(){if(this.privRequestSession.isRecognizing)try{await this.audioSource.turnOff(),await this.sendFinalAudio(),await this.privRequestSession.onStopRecognizing(),await this.privRequestSession.turnCompletionPromise}finally{await this.privRequestSession.dispose()}}async connect(){return await this.connectImpl(),Promise.resolve()}connectAsync(e,t){this.connectImpl().then((()=>{try{e&&e()}catch(r){t&&t(r)}}),(e=>{try{t&&t(e)}catch(r){}}))}async disconnect(){if(await this.cancelRecognitionLocal(o.CancellationReason.Error,o.CancellationErrorCode.NoError,"Disconnecting"),void 0!==this.disconnectOverride&&await this.disconnectOverride(),void 0!==this.privConnectionPromise)try{await(await this.privConnectionPromise).dispose()}catch(e){}this.privConnectionPromise=void 0}sendMessage(e){}async sendNetworkMessage(e,t){const r="string"===typeof t?i.MessageType.Text:i.MessageType.Binary,n="string"===typeof t?"application/json":"";return(await this.fetchConnection()).send(new a.SpeechConnectionMessage(r,e,this.privRequestSession.requestId,n,t))}set activityTemplate(e){this.privActivityTemplate=e}get activityTemplate(){return this.privActivityTemplate}set expectContentAssessmentResponse(e){this.privExpectContentAssessmentResponse=e}async sendTelemetryData(){const e=this.privRequestSession.getTelemetry();if(!0!==c.telemetryDataEnabled||this.privIsDisposed||null===e)return;if(c.telemetryData)try{c.telemetryData(e)}catch{}const t=await this.fetchConnection();await t.send(new a.SpeechConnectionMessage(i.MessageType.Text,"telemetry",this.privRequestSession.requestId,"application/json",e))}async cancelRecognitionLocal(e,t,r){this.privRequestSession.isRecognizing&&(await this.privRequestSession.onStopRecognizing(),this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,e,t,r))}async receiveMessage(){try{if(this.privIsDisposed)return;let e=await this.fetchConnection();const t=await e.read();if(void 0!==this.receiveMessageOverride)return this.receiveMessageOverride();if(!t)return this.receiveMessage();this.privServiceHasSentMessage=!0;const r=a.SpeechConnectionMessage.fromConnectionMessage(t);if(r.requestId.toLowerCase()===this.privRequestSession.requestId.toLowerCase())switch(r.path.toLowerCase()){case"turn.start":this.privMustReportEndOfStream=!0,this.privRequestSession.onServiceTurnStartResponse();break;case"speech.startdetected":const t=s.SpeechDetected.fromJSON(r.textBody,this.privRequestSession.currentTurnAudioOffset),n=new o.RecognitionEventArgs(t.Offset,this.privRequestSession.sessionId);this.privRecognizer.speechStartDetected&&this.privRecognizer.speechStartDetected(this.privRecognizer,n);break;case"speech.enddetected":let a;a=r.textBody.length>0?r.textBody:"{ Offset: 0 }";const c=s.SpeechDetected.fromJSON(a,this.privRequestSession.currentTurnAudioOffset),l=new o.RecognitionEventArgs(c.Offset+this.privRequestSession.currentTurnAudioOffset,this.privRequestSession.sessionId);this.privRecognizer.speechEndDetected&&this.privRecognizer.speechEndDetected(this.privRecognizer,l);break;case"turn.end":await this.sendTelemetryData(),this.privRequestSession.isSpeechEnded&&this.privMustReportEndOfStream&&(this.privMustReportEndOfStream=!1,await this.cancelRecognitionLocal(o.CancellationReason.EndOfStream,o.CancellationErrorCode.NoError,void 0));const u=new o.SessionEventArgs(this.privRequestSession.sessionId);if(await this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition),!this.privRecognizerConfig.isContinuousRecognition||this.privRequestSession.isSpeechEnded||!this.privRequestSession.isRecognizing)return void(this.privRecognizer.sessionStopped&&this.privRecognizer.sessionStopped(this.privRecognizer,u));e=await this.fetchConnection(),await this.sendPrePayloadJSON(e);break;default:await this.processTypeSpecificMessages(r)||this.privServiceEvents&&this.serviceEvents.onEvent(new i.ServiceEvent(r.path.toLowerCase(),r.textBody))}return this.receiveMessage()}catch(e){return null}}updateSpeakerDiarizationAudioOffset(){const e=this.privRequestSession.recognitionBytesSent,t=0!==this.privAverageBytesPerMs?e/this.privAverageBytesPerMs:0;this.privSpeechContext.setSpeakerDiarizationAudioOffsetMs(t)}sendSpeechContext(e,t){this.privEnableSpeakerId&&this.updateSpeakerDiarizationAudioOffset();const r=this.speechContext.toJSON();if(t&&this.privRequestSession.onSpeechContext(),r)return e.send(new a.SpeechConnectionMessage(i.MessageType.Text,"speech.context",this.privRequestSession.requestId,"application/json",r))}noOp(){}async sendPrePayloadJSON(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0!==this.sendPrePayloadJSONOverride)return this.sendPrePayloadJSONOverride(e);await this.sendSpeechContext(e,t),await this.sendWaveHeader(e)}async sendWaveHeader(e){const t=await this.audioSource.format;return e.send(new a.SpeechConnectionMessage(i.MessageType.Binary,"audio",this.privRequestSession.requestId,"audio/x-wav",t.header))}connectImpl(){return void 0!==this.privConnectionPromise?this.privConnectionPromise.then((e=>e.state()===i.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()):this.privConnectionPromise),(()=>(this.privConnectionId=null,this.privConnectionPromise=void 0,this.privServiceHasSentMessage=!1,this.connectImpl()))):(this.privConnectionPromise=this.retryableConnect(),this.privConnectionPromise.catch((()=>{})),void 0!==this.postConnectImplOverride?this.postConnectImplOverride(this.privConnectionPromise):this.privConnectionPromise)}sendSpeechServiceConfig(e,t,r){if(t.onSpeechContext(),!0!==c.telemetryDataEnabled){const e={context:{system:JSON.parse(r).context.system}};r=JSON.stringify(e)}if("true"===this.privRecognizerConfig.parameters.getProperty("f0f5debc-f8c9-4892-ac4b-90a7ab359fd2","false").toLowerCase()){const e=JSON.parse(r);e.context.DisableReferenceChannel="True",e.context.MicSpec="1_0_0",r=JSON.stringify(e)}if(r)return e.send(new a.SpeechConnectionMessage(i.MessageType.Text,"speech.config",t.requestId,"application/json",r))}async fetchConnection(){return void 0!==this.privConnectionConfigurationPromise?this.privConnectionConfigurationPromise.then((e=>e.state()===i.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()):this.privConnectionConfigurationPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigurationPromise=void 0,this.privServiceHasSentMessage=!1,this.fetchConnection()))):(this.privConnectionConfigurationPromise=this.configureConnection(),await this.privConnectionConfigurationPromise)}async sendAudio(e){const t=await this.audioSource.format;this.privAverageBytesPerMs=t.avgBytesPerSec/1e3;let r=Date.now();const n=this.privRecognizerConfig.parameters.getProperty("SPEECH-TransmitLengthBeforThrottleMs","5000"),o=t.avgBytesPerSec/1e3*parseInt(n,10),s=this.privRequestSession.recogNumber,c=async()=>{if(!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s){const n=await this.fetchConnection(),l=await e.read();if(this.privRequestSession.isSpeechEnded)return;let u,p;if(!l||l.isEnd?(u=null,p=0):(u=l.buffer,this.privRequestSession.onAudioSent(u.byteLength),p=o>=this.privRequestSession.bytesSent?0:Math.max(0,r-Date.now())),0!==p&&await this.delay(p),null!==u&&(r=Date.now()+1e3*u.byteLength/(2*t.avgBytesPerSec)),!this.privIsDisposed&&!this.privRequestSession.isSpeechEnded&&this.privRequestSession.isRecognizing&&this.privRequestSession.recogNumber===s){if(n.send(new a.SpeechConnectionMessage(i.MessageType.Binary,"audio",this.privRequestSession.requestId,null,u)).catch((()=>{this.privRequestSession.onServiceTurnEndResponse(this.privRecognizerConfig.isContinuousRecognition).catch((()=>{}))})),!l?.isEnd)return c();this.privIsLiveAudio||this.privRequestSession.onSpeechEnded()}}};return c()}async retryableConnect(){let e=!1;this.privAuthFetchEventId=i.createNoDashGuid();const t=this.privRequestSession.sessionId;this.privConnectionId=void 0!==t?t:i.createNoDashGuid(),this.privRequestSession.onPreConnectionStart(this.privAuthFetchEventId,this.privConnectionId);let r=0,n="";for(;this.privRequestSession.numConnectionAttempts<=this.privRecognizerConfig.maxRetryCount;){const t=e?this.privAuthentication.fetchOnExpiry(this.privAuthFetchEventId):this.privAuthentication.fetch(this.privAuthFetchEventId),i=await t;await this.privRequestSession.onAuthCompleted(!1);const o=this.privConnectionFactory.create(this.privRecognizerConfig,i,this.privConnectionId);this.privRequestSession.listenForServiceTelemetry(o.events),o.events.attach((e=>{this.connectionEvents.onEvent(e)}));const s=await o.open();if(200===s.statusCode)return await this.privRequestSession.onConnectionEstablishCompleted(s.statusCode),Promise.resolve(o);1006===s.statusCode&&(e=!0),r=s.statusCode,n=s.reason,this.privRequestSession.onRetryConnection()}return await this.privRequestSession.onConnectionEstablishCompleted(r,n),Promise.reject(`Unable to contact server. StatusCode: ${r}, ${this.privRecognizerConfig.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint)} Reason: ${n}`)}delay(e){return new Promise((t=>this.privSetTimeout(t,e)))}writeBufferToConsole(e){let t="Buffer Size: ";if(null===e)t+="null";else{const r=new Uint8Array(e);t+=`${e.byteLength}\r\n`;for(let n=0;n<e.byteLength;n++)t+=r[n].toString(16).padStart(2,"0")+" ",(n+1)%16===0&&(console.info(t),t="")}console.info(t)}async sendFinalAudio(){const e=await this.fetchConnection();await e.send(new a.SpeechConnectionMessage(i.MessageType.Binary,"audio",this.privRequestSession.requestId,null,null))}async configureConnection(){const e=await this.connectImpl();return void 0!==this.configConnectionOverride?this.configConnectionOverride(e):(await this.sendSpeechServiceConfig(e,this.privRequestSession,this.privRecognizerConfig.SpeechServiceConfig.serialize()),await this.sendPrePayloadJSON(e,!1),e)}}t.ServiceRecognizerBase=c,c.telemetryDataEnabled=!0},8162:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},8163:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileClient=void 0;const n=r(9859),i=r(6782),o=r(260),s=r(8040);class a extends s.Recognizer{constructor(e){o.Contracts.throwIfNullOrUndefined(e,"speechConfig");const t=e;o.Contracts.throwIfNull(t,"speechConfig"),super(i.AudioConfig.fromStreamInput(s.AudioInputStream.createPushStream()),t.properties,new n.VoiceProfileConnectionFactory),this.privProperties=t.properties.clone(),this.privVoiceAdapter=this.privReco,this.privDisposedVoiceAdapter=!1}get properties(){return this.privProperties}get authorizationToken(){return this.properties.getProperty(s.PropertyId.SpeechServiceAuthorization_Token)}set authorizationToken(e){o.Contracts.throwIfNullOrWhitespace(e,"token"),this.properties.setProperty(s.PropertyId.SpeechServiceAuthorization_Token,e)}async createProfileAsync(e,t){const r=await this.privVoiceAdapter.createProfile(e,t);return new s.VoiceProfile(r[0],e)}async retrieveEnrollmentResultAsync(e){return this.privVoiceAdapter.retrieveEnrollmentResult(e)}async getAllProfilesAsync(e){return this.privVoiceAdapter.getAllProfiles(e)}async getActivationPhrasesAsync(e,t){return this.privVoiceAdapter.getActivationPhrases(e,t)}async enrollProfileAsync(e,t){const r=t;return o.Contracts.throwIfNullOrUndefined(r,"audioConfig"),this.audioConfig=t,this.privVoiceAdapter.SpeakerAudioSource=r,this.privVoiceAdapter.enrollProfile(e)}async deleteProfileAsync(e){return this.privVoiceAdapter.deleteProfile(e)}async resetProfileAsync(e){return this.privVoiceAdapter.resetProfile(e)}async close(){await this.dispose(!0)}createServiceRecognizer(e,t,r,i){const o=r;return new n.VoiceServiceRecognizer(e,t,o,i,this)}async dispose(e){this.privDisposedVoiceAdapter||(this.privDisposedVoiceAdapter=!0,e&&await super.dispose(e))}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.properties)}getResult(e,t){return new s.VoiceProfileResult(e.ok?t:s.ResultReason.Canceled,e.statusText)}}t.VoiceProfileClient=a},8243:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.IntentServiceRecognizer=void 0;const n=r(2307),i=r(8040),o=r(9859);class s extends o.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.privIntentRecognizer=i,this.privIntentDataSent=!1}setIntents(e,t){this.privAddedLmIntents=e,this.privUmbrellaIntent=t,this.privIntentDataSent=!0}processTypeSpecificMessages(e){let t,r,s=!1;const a=new i.PropertyCollection;switch(e.messageType===n.MessageType.Text&&a.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speech.hypothesis":const n=o.SpeechHypothesis.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);if(t=new i.IntentRecognitionResult(void 0,this.privRequestSession.requestId,i.ResultReason.RecognizingIntent,n.Text,n.Duration,n.Offset,n.Language,n.LanguageDetectionConfidence,void 0,n.asJson(),a),this.privRequestSession.onHypothesis(t.offset),r=new i.IntentRecognitionEventArgs(t,n.Offset,this.privRequestSession.sessionId),this.privIntentRecognizer.recognizing)try{this.privIntentRecognizer.recognizing(this.privIntentRecognizer,r)}catch(l){}s=!0;break;case"speech.phrase":const c=o.SimpleSpeechPhrase.fromJSON(e.textBody,this.privRequestSession.currentTurnAudioOffset);t=new i.IntentRecognitionResult(void 0,this.privRequestSession.requestId,o.EnumTranslation.implTranslateRecognitionResult(c.RecognitionStatus),c.DisplayText,c.Duration,c.Offset,c.Language,c.LanguageDetectionConfidence,void 0,c.asJson(),a),r=new i.IntentRecognitionEventArgs(t,t.offset,this.privRequestSession.sessionId);const p=()=>{if(this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,r)}catch(l){}if(this.privSuccessCallback){try{this.privSuccessCallback(t)}catch(e){this.privErrorCallback&&this.privErrorCallback(e)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}};!1===this.privIntentDataSent||i.ResultReason.NoMatch===r.result.reason?(this.privRequestSession.onPhraseRecognized(r.offset+r.result.duration),p()):this.privPendingIntentArgs=r,s=!0;break;case"response":if(r=this.privPendingIntentArgs,this.privPendingIntentArgs=void 0,void 0===r){if(""===e.textBody)return;r=new i.IntentRecognitionEventArgs(new i.IntentRecognitionResult,0,this.privRequestSession.sessionId)}const d=o.IntentResponse.fromJSON(e.textBody);if(null!==d&&d.topScoringIntent&&d.topScoringIntent.intent){let t=this.privAddedLmIntents[d.topScoringIntent.intent];if(void 0!==this.privUmbrellaIntent&&(t=this.privUmbrellaIntent),t){const n=void 0===t||void 0===t.intentName?d.topScoringIntent.intent:t.intentName;let o=r.result.reason;void 0!==n&&(o=i.ResultReason.RecognizedIntent);const s=void 0!==r.result.properties?r.result.properties:new i.PropertyCollection;s.setProperty(i.PropertyId.LanguageUnderstandingServiceResponse_JsonResult,e.textBody),r=new i.IntentRecognitionEventArgs(new i.IntentRecognitionResult(n,r.result.resultId,o,r.result.text,r.result.duration,r.result.offset,void 0,void 0,r.result.errorDetails,r.result.json,s),r.offset,r.sessionId)}}if(this.privRequestSession.onPhraseRecognized(r.offset+r.result.duration),this.privIntentRecognizer.recognized)try{this.privIntentRecognizer.recognized(this.privIntentRecognizer,r)}catch(l){}if(this.privSuccessCallback){try{this.privSuccessCallback(r.result)}catch(u){this.privErrorCallback&&this.privErrorCallback(u)}this.privSuccessCallback=void 0,this.privErrorCallback=void 0}s=!0}const c=new n.Deferred;return c.resolve(s),c.promise}cancelRecognition(e,t,r,n,s){const a=new i.PropertyCollection;if(a.setProperty(o.CancellationErrorCodePropertyName,i.CancellationErrorCode[n]),this.privIntentRecognizer.canceled){const t=new i.IntentRecognitionCanceledEventArgs(r,s,n,void 0,void 0,e);try{this.privIntentRecognizer.canceled(this.privIntentRecognizer,t)}catch{}}if(this.privSuccessCallback){const e=new i.IntentRecognitionResult(void 0,t,i.ResultReason.Canceled,void 0,void 0,void 0,void 0,void 0,s,void 0,a);try{this.privSuccessCallback(e),this.privSuccessCallback=void 0}catch{}}}}t.IntentServiceRecognizer=s},8282:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServicePropertyChannel=void 0,function(e){e[e.UriQueryParameter=0]="UriQueryParameter"}(t.ServicePropertyChannel||(t.ServicePropertyChannel={}))},8293:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationDetailsBase=void 0;t.CancellationDetailsBase=class{constructor(e,t,r){this.privReason=e,this.privErrorDetails=t,this.privErrorCode=r}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get ErrorCode(){return this.privErrorCode}}},8388:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslatorRecognizer=t.ConversationRecognizerFactory=void 0;const n=r(9859),i=r(2307),o=r(260),s=r(8040),a=r(7108),c=r(8486);t.ConversationRecognizerFactory=class{static fromConfig(e,t,r){return new l(e,t,r)}};class l extends s.Recognizer{constructor(e,t,r){const n=t;o.Contracts.throwIfNull(n,"speechConfig");const c=e;o.Contracts.throwIfNull(c,"conversationImpl"),super(r,n.properties,new a.ConversationConnectionFactory),this.privConversation=c,this.privIsDisposed=!1,this.privProperties=n.properties.clone(),this.privConnection=s.Connection.fromRecognizer(this);"on"===this.privProperties.getProperty(s.PropertyId.WebWorkerLoadType,"on").toLowerCase()&&"undefined"!==typeof Blob&&"undefined"!==typeof Worker?(this.privSetTimeout=i.Timeout.setTimeout,this.privClearTimeout=i.Timeout.clearTimeout):"undefined"!==typeof window?(this.privSetTimeout=window.setTimeout.bind(window),this.privClearTimeout=window.clearTimeout.bind(window)):(this.privSetTimeout=setTimeout,this.privClearTimeout=clearTimeout)}set connected(e){this.privConnection.connected=e}set disconnected(e){this.privConnection.disconnected=e}get speechRecognitionLanguage(){return this.privSpeechRecognitionLanguage}get properties(){return this.privProperties}isDisposed(){return this.privIsDisposed}connect(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),o.Contracts.throwIfNullOrWhitespace(e,"token"),this.privReco.conversationTranslatorToken=e,this.resetConversationTimeout(),this.privReco.connectAsync(t,r)}catch(n){if(r)if(n instanceof Error){const e=n;r(e.name+": "+e.message)}else r(n)}}disconnect(e,t){try{o.Contracts.throwIfDisposed(this.privIsDisposed),void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privReco.disconnect().then((()=>{e&&e()}),(e=>{t&&t(e)}))}catch(r){if(t)if(r instanceof Error){const e=r;t(e.name+": "+e.message)}else t(r);this.dispose(!0).catch((e=>{i.Events.instance.onEvent(new i.BackgroundEvent(e))}))}}sendRequest(e,t,r){try{o.Contracts.throwIfDisposed(this.privIsDisposed),this.sendMessage(e,t,r)}catch(n){if(r)if(n instanceof Error){const e=n;r(e.name+": "+e.message)}else r(n);this.dispose(!0).catch((e=>{i.Events.instance.onEvent(new i.BackgroundEvent(e))}))}}onToken(e){this.privConversation.onToken(e)}async close(){this.privIsDisposed||(this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close()),this.privConnection=void 0,await this.dispose(!0))}async dispose(e){this.privIsDisposed||e&&(void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privIsDisposed=!0,this.privConnection&&(this.privConnection.closeConnection(),this.privConnection.close(),this.privConnection=void 0),await super.dispose(e))}createRecognizerConfig(e){return new n.RecognizerConfig(e,this.privProperties)}createServiceRecognizer(e,t,r,n){const i=r;return new c.ConversationServiceAdapter(e,t,i,n,this)}sendMessage(e,t,r){((e,t,r)=>{void 0!==e?e.then((()=>{try{t&&t()}catch(e){r&&r(`'Unhandled error on promise callback: ${e}'`)}}),(e=>{try{r&&r(e)}catch(t){}})):r&&r("Null promise")})(this.privReco.sendMessageAsync(e),t,r),this.resetConversationTimeout()}resetConversationTimeout(){void 0!==this.privTimeoutToken&&this.privClearTimeout(this.privTimeoutToken),this.privTimeoutToken=this.privSetTimeout((()=>{this.sendRequest(this.privConversation.getKeepAlive())}),6e4)}}t.ConversationTranslatorRecognizer=l},8394:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisResult=void 0;const n=r(8040);class i extends n.SynthesisResult{constructor(e,t,r,n,i,o){super(e,t,n,i),this.privAudioData=r,this.privAudioDuration=o}get audioData(){return this.privAudioData}get audioDuration(){return this.privAudioDuration}}t.SpeechSynthesisResult=i},8400:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationTranslationCanceledEventArgs=void 0;const n=r(8706);class i extends n.CancellationEventArgsBase{}t.ConversationTranslationCanceledEventArgs=i},8401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DialogConnectionFactory=void 0;const n=r(2277),i=r(9859),o=r(8040),s=r(2679),a=r(9859),c=r(8643),l=r(7237);class u extends s.ConnectionFactoryBase{create(e,t,r){const p=e.parameters.getProperty(o.PropertyId.Conversation_ApplicationId,""),d=e.parameters.getProperty(o.PropertyId.Conversation_DialogType),h=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region),v=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,"en-US"),f=e.parameters.getProperty(o.PropertyId.Conversation_Request_Bot_Status_Messages,"true"),g={};g[c.HeaderNames.ConnectionId]=r,g[l.QueryParameterNames.Format]=e.parameters.getProperty(i.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase(),g[l.QueryParameterNames.Language]=v,g[l.QueryParameterNames.RequestBotStatusMessages]=f,p&&(g[l.QueryParameterNames.BotId]=p,d===o.DialogServiceConfig.DialogTypes.CustomCommands&&(g[c.HeaderNames.CustomCommandsAppId]=p));const m=d===o.DialogServiceConfig.DialogTypes.CustomCommands?"commands/":"",y=d===o.DialogServiceConfig.DialogTypes.CustomCommands?"v1":d===o.DialogServiceConfig.DialogTypes.BotFramework?"v3":"v0",S={};null!=t.token&&""!==t.token&&(S[t.headerName]=t.token);let C=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,"");if(!C){const t=s.ConnectionFactoryBase.getHostSuffix(h),r=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,`wss://${h}.${u.BaseUrl}${t}`);C=`${r.endsWith("/")?r:r+"/"}${m}${u.ApiKey}/${y}`}this.setCommonUrlParams(e,g,C);const b="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false");return new n.WebsocketConnection(C,g,S,new a.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),b,r)}}t.DialogConnectionFactory=u,u.ApiKey="api",u.BaseUrl="convai.speech"},8446:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ObjectDisposedError=t.InvalidOperationError=t.ArgumentNullError=void 0;class r extends Error{constructor(e){super(e),this.name="ArgumentNull",this.message=e}}t.ArgumentNullError=r;class n extends Error{constructor(e){super(e),this.name="InvalidOperation",this.message=e}}t.InvalidOperationError=n;class i extends Error{constructor(e,t){super(t),this.name=e+"ObjectDisposed",this.message=t}}t.ObjectDisposedError=i},8472:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileType=void 0,function(e){e[e.TextIndependentIdentification=0]="TextIndependentIdentification",e[e.TextDependentVerification=1]="TextDependentVerification",e[e.TextIndependentVerification=2]="TextIndependentVerification"}(t.VoiceProfileType||(t.VoiceProfileType={}))},8486:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceAdapter=void 0;const n=r(2307),i=r(8040),o=r(9859),s=r(6109),a=r(7967),c=r(9537),l=r(4566),u=r(7316);class p extends o.ServiceRecognizerBase{constructor(e,t,r,i,o){super(e,t,r,i,o),this.privConnectionConfigPromise=void 0,this.privLastPartialUtteranceId="",this.privConversationServiceConnector=o,this.privConversationAuthentication=e,this.receiveMessageOverride=()=>this.receiveConversationMessageOverride(),this.recognizeOverride=()=>this.noOp(),this.postConnectImplOverride=e=>this.conversationConnectImpl(e),this.configConnectionOverride=()=>this.configConnection(),this.disconnectOverride=()=>this.privDisconnect(),this.privConversationRequestSession=new a.ConversationRequestSession(n.createNoDashGuid()),this.privConversationConnectionFactory=t,this.privConversationIsDisposed=!1}isDisposed(){return super.isDisposed()||this.privConversationIsDisposed}async dispose(e){if(this.privConversationIsDisposed=!0,void 0!==this.privConnectionConfigPromise){const t=await this.privConnectionConfigPromise;await t.dispose(e)}await super.dispose(e)}async sendMessage(e){return(await this.fetchConnection()).send(new s.ConversationConnectionMessage(n.MessageType.Text,e))}async sendMessageAsync(e){const t=await this.fetchConnection();await t.send(new s.ConversationConnectionMessage(n.MessageType.Text,e))}privDisconnect(){if(!this.terminateMessageLoop)return this.cancelRecognition(this.privConversationRequestSession.sessionId,this.privConversationRequestSession.requestId,i.CancellationReason.Error,i.CancellationErrorCode.NoError,"Disconnecting"),this.terminateMessageLoop=!0,Promise.resolve()}async processTypeSpecificMessages(){return!0}cancelRecognition(e,t,r,n,o){this.terminateMessageLoop=!0;const s=new i.ConversationTranslationCanceledEventArgs(r,o,n,void 0,e);try{this.privConversationServiceConnector.canceled&&this.privConversationServiceConnector.canceled(this.privConversationServiceConnector,s)}catch{}}async conversationConnectImpl(e){return this.privConnectionLoop=this.startMessageLoop(),e}async receiveConversationMessageOverride(){if(this.isDisposed()||this.terminateMessageLoop)return Promise.resolve();const e=new n.Deferred;try{const r=await this.fetchConnection(),n=await r.read();if(this.isDisposed()||this.terminateMessageLoop)return e.resolve(),Promise.resolve();if(!n)return this.receiveConversationMessageOverride();const s=this.privConversationRequestSession.sessionId,a=n.conversationMessageType.toLowerCase();let p=!1;try{switch(a){case"info":case"participant_command":case"command":const e=u.CommandResponsePayload.fromJSON(n.textBody);switch(e.command.toLowerCase()){case"participantlist":const t=u.ParticipantsListPayloadResponse.fromJSON(n.textBody),r=t.participants.map((e=>({avatar:e.avatar,displayName:e.nickname,id:e.participantId,isHost:e.ishost,isMuted:e.ismuted,isUsingTts:e.usetts,preferredLanguage:e.locale})));this.privConversationServiceConnector.participantsListReceived&&this.privConversationServiceConnector.participantsListReceived(this.privConversationServiceConnector,new c.ParticipantsListEventArgs(t.roomid,t.token,t.translateTo,t.profanityFilter,t.roomProfanityFilter,t.roomLocked,t.muteAll,r,s));break;case"settranslatetolanguages":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setTranslateToLanguages,e.value,s));break;case"setprofanityfiltering":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setProfanityFiltering,e.value,s));break;case"setmute":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setMute,e.value,s));break;case"setmuteall":this.privConversationServiceConnector.muteAllCommandReceived&&this.privConversationServiceConnector.muteAllCommandReceived(this.privConversationServiceConnector,new c.MuteAllEventArgs(e.value,s));break;case"roomexpirationwarning":this.privConversationServiceConnector.conversationExpiration&&this.privConversationServiceConnector.conversationExpiration(this.privConversationServiceConnector,new i.ConversationExpirationEventArgs(e.value,this.privConversationRequestSession.sessionId));break;case"setusetts":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.setUseTTS,e.value,s));break;case"setlockstate":this.privConversationServiceConnector.lockRoomCommandReceived&&this.privConversationServiceConnector.lockRoomCommandReceived(this.privConversationServiceConnector,new c.LockRoomEventArgs(e.value,s));break;case"changenickname":this.privConversationServiceConnector.participantUpdateCommandReceived&&this.privConversationServiceConnector.participantUpdateCommandReceived(this.privConversationServiceConnector,new c.ParticipantAttributeEventArgs(e.participantId,l.ConversationTranslatorCommandTypes.changeNickname,e.value,s));break;case"joinsession":const a=u.ParticipantPayloadResponse.fromJSON(n.textBody),p={avatar:a.avatar,displayName:a.nickname,id:a.participantId,isHost:a.ishost,isMuted:a.ismuted,isUsingTts:a.usetts,preferredLanguage:a.locale};this.privConversationServiceConnector.participantJoinCommandReceived&&this.privConversationServiceConnector.participantJoinCommandReceived(this.privConversationServiceConnector,new c.ParticipantEventArgs(p,s));break;case"leavesession":const d={id:e.participantId};this.privConversationServiceConnector.participantLeaveCommandReceived&&this.privConversationServiceConnector.participantLeaveCommandReceived(this.privConversationServiceConnector,new c.ParticipantEventArgs(d,s));break;case"disconnectsession":e.participantId;break;case"token":const h=new o.CognitiveTokenAuthentication((()=>{const t=e.token;return Promise.resolve(t)}),(()=>{const t=e.token;return Promise.resolve(t)}));this.authentication=h,this.privConversationServiceConnector.onToken(h)}break;case"partial":case"final":const t=u.SpeechResponsePayload.fromJSON(n.textBody),r="final"===a?i.ResultReason.TranslatedParticipantSpeech:i.ResultReason.TranslatingParticipantSpeech,d=new i.ConversationTranslationResult(t.participantId,this.getTranslations(t.translations),t.language,t.id,r,t.recognition,void 0,void 0,n.textBody,void 0);t.isFinal?((void 0!==d.text&&d.text.length>0||t.id===this.privLastPartialUtteranceId)&&(p=!0),p&&this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.final,d,s))):void 0!==d.text&&(this.privLastPartialUtteranceId=t.id,this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.partial,d,s)));break;case"translated_message":const h=u.TextResponsePayload.fromJSON(n.textBody),v=new i.ConversationTranslationResult(h.participantId,this.getTranslations(h.translations),h.language,void 0,void 0,h.originalText,void 0,void 0,void 0,n.textBody,void 0);this.privConversationServiceConnector.translationReceived&&this.privConversationServiceConnector.translationReceived(this.privConversationServiceConnector,new c.ConversationReceivedTranslationEventArgs(l.ConversationTranslatorMessageTypes.instantMessage,v,s))}}catch(t){}return this.receiveConversationMessageOverride()}catch(t){this.terminateMessageLoop=!0}return e.promise}async startMessageLoop(){if(this.isDisposed())return Promise.resolve();this.terminateMessageLoop=!1;const e=this.receiveConversationMessageOverride();try{return await e}catch(t){return this.cancelRecognition(this.privRequestSession?this.privRequestSession.sessionId:"",this.privRequestSession?this.privRequestSession.requestId:"",i.CancellationReason.Error,i.CancellationErrorCode.RuntimeError,t),null}}configConnection(){return this.isDisposed()?Promise.resolve(void 0):void 0!==this.privConnectionConfigPromise?this.privConnectionConfigPromise.then((e=>e.state()===n.ConnectionState.Disconnected?(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()):this.privConnectionConfigPromise),(()=>(this.privConnectionId=null,this.privConnectionConfigPromise=void 0,this.configConnection()))):this.terminateMessageLoop?Promise.resolve(void 0):(this.privConnectionConfigPromise=this.connectImpl().then((e=>e)),this.privConnectionConfigPromise)}getTranslations(e){let t;if(void 0!==e){t=new i.Translations;for(const r of e)t.set(r.lang,r.translation)}return t}}t.ConversationServiceAdapter=p},8545:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ParticipantChangedReason=void 0,function(e){e[e.JoinedConversation=0]="JoinedConversation",e[e.LeftConversation=1]="LeftConversation",e[e.Updated=2]="Updated"}(t.ParticipantChangedReason||(t.ParticipantChangedReason={}))},8557:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceServiceRecognizer=void 0;const n=r(2277),i=r(2307),o=r(8040),s=r(9859),a=r(222);class c extends s.ServiceRecognizerBase{constructor(e,t,r,n,o){super(e,t,r,n,o),this.privDeferralMap=new i.DeferralMap,this.privSpeakerAudioSource=r,this.sendPrePayloadJSONOverride=()=>this.noOp()}set SpeakerAudioSource(e){this.privSpeakerAudioSource=e}processTypeSpecificMessages(e){let t=!1;const r=new o.PropertyCollection;switch(e.messageType===i.MessageType.Text&&r.setProperty(o.PropertyId.SpeechServiceResponse_JsonResult,e.textBody),e.path.toLowerCase()){case"speaker.profiles":const r=JSON.parse(e.textBody);switch(r.operation.toLowerCase()){case"create":this.handleCreateResponse(r,e.requestId);break;case"delete":case"reset":this.handleResultResponse(r,e.requestId);break;case"fetch":const t=JSON.parse(e.textBody);this.handleFetchResponse(t,e.requestId)}t=!0;break;case"speaker.phrases":const n=JSON.parse(e.textBody);this.handlePhrasesResponse(n,e.requestId),t=!0;break;case"speaker.profile.enrollment":const i=JSON.parse(e.textBody),s=new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(i.enrollment?i.enrollment.enrollmentStatus:i.status.statusCode),i.enrollment?JSON.stringify(i.enrollment):void 0,i.status.reason);this.privDeferralMap.getId(e.requestId)&&this.privDeferralMap.complete(e.requestId,s),this.privRequestSession.onSpeechEnded(),t=!0}const n=new i.Deferred;return n.resolve(t),n.promise}cancelRecognition(e,t,r,n,i){(new o.PropertyCollection).setProperty(s.CancellationErrorCodePropertyName,o.CancellationErrorCode[n]);const a=new o.VoiceProfileEnrollmentResult(o.ResultReason.Canceled,i,i);this.privDeferralMap.getId(t)&&this.privDeferralMap.complete(t,a)}async createProfile(e,t){this.voiceProfileType=e.toString();const r=this.connectImpl();try{const n=new i.Deferred;return await r,await this.sendCreateProfile(n,e,t),this.receiveMessage(),n.promise}catch(n){throw n}}async resetProfile(e){return this.voiceProfileType=e.profileType.toString(),this.sendCommonRequest("reset",e.profileType,e)}async deleteProfile(e){return this.voiceProfileType=e.profileType.toString(),this.sendCommonRequest("delete",e.profileType,e)}async retrieveEnrollmentResult(e){return this.voiceProfileType=e.profileType.toString(),this.privExpectedProfileId=e.profileId,this.sendCommonRequest("fetch",e.profileType,e)}async getAllProfiles(e){return this.voiceProfileType=e.toString(),this.sendCommonRequest("fetch",e)}async getActivationPhrases(e,t){this.voiceProfileType=e.toString();const r=this.connectImpl();try{const n=new i.Deferred;return await r,await this.sendPhrasesRequest(n,e,t),this.receiveMessage(),n.promise}catch(n){throw n}}async enrollProfile(e){this.voiceProfileType=e.profileType.toString();const t=new i.Deferred;this.privRequestSession.startNewRecognition(),this.privRequestSession.listenForServiceTelemetry(this.privSpeakerAudioSource.events),this.privRecognizerConfig.parameters.setProperty(o.PropertyId.Speech_SessionId,this.privRequestSession.sessionId);const r=this.connectImpl(),s=this.sendPreAudioMessages(e,t),a=await this.privSpeakerAudioSource.attach(this.privRequestSession.audioNodeId),c=await this.privSpeakerAudioSource.format,l=await this.privSpeakerAudioSource.deviceInfo,u=new n.ReplayableAudioNode(a,c.avgBytesPerSec);await this.privRequestSession.onAudioSourceAttachCompleted(u,!1),this.privRecognizerConfig.SpeechServiceConfig.Context.audio={source:l};try{await r,await s}catch(d){this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.ConnectionFailure,d)}const p=new o.SessionEventArgs(this.privRequestSession.sessionId);this.privRecognizer.sessionStarted&&this.privRecognizer.sessionStarted(this.privRecognizer,p),this.receiveMessage();return this.sendAudio(u).then((()=>{}),(e=>{this.cancelRecognition(this.privRequestSession.sessionId,this.privRequestSession.requestId,o.CancellationReason.Error,o.CancellationErrorCode.RuntimeError,e)})),t.promise}async sendPreAudioMessages(e,t){const r=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,t),await this.sendBaseRequest(r,"enroll",this.scenarioFrom(e.profileType),e)}async sendPhrasesRequest(e,t,r){const n=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e);const o={locale:r,scenario:this.scenarioFrom(t)};return n.send(new a.SpeechConnectionMessage(i.MessageType.Text,"speaker.profile.phrases",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(o)))}async sendCreateProfile(e,t,r){const n=await this.fetchConnection();this.privRequestSession.onSpeechContext(),this.privDeferralMap.add(this.privRequestSession.requestId,e);const s={locale:r,number:"1",scenario:t===o.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":t===o.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"};return n.send(new a.SpeechConnectionMessage(i.MessageType.Text,"speaker.profile.create",this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(s)))}async sendCommonRequest(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const n=this.connectImpl();try{const o=new i.Deferred;this.privRequestSession.onSpeechContext(),await n;const s=await this.fetchConnection();return this.privDeferralMap.add(this.privRequestSession.requestId,o),await this.sendBaseRequest(s,e,this.scenarioFrom(t),r),this.receiveMessage(),o.promise}catch(o){throw o}}async sendBaseRequest(e,t,r,n){const o={scenario:r};return n?o.profileIds=[n.profileId]:o.maxPageSize=-1,e.send(new a.SpeechConnectionMessage(i.MessageType.Text,`speaker.profile.${t}`,this.privRequestSession.requestId,"application/json; charset=utf-8",JSON.stringify(o)))}extractSpeakerContext(e){return{features:{interimResult:"enabled",progressiveDetection:"disabled"},profileIds:e.profileIds,scenario:e.scenario}}handlePhrasesResponse(e,t){if(!this.privDeferralMap.getId(t))throw new Error(`Voice Profile get activation phrases request for requestID ${t} not found`);if("success"!==e.status.statusCode.toLowerCase()){const r=o.ResultReason.Canceled,n=new o.VoiceProfilePhraseResult(r,e.status.statusCode,e.passPhraseType,[]);this.privDeferralMap.complete(t,n)}else{if(!(e.phrases&&e.phrases.length>0))throw new Error("Voice Profile get activation phrases failed, no phrases received");{const r=o.ResultReason.EnrollingVoiceProfile,n=new o.VoiceProfilePhraseResult(r,e.status.statusCode,e.passPhraseType,e.phrases);this.privDeferralMap.complete(t,n)}}}handleCreateResponse(e,t){if(!(e.profiles&&e.profiles.length>0))throw new Error("Voice Profile create failed, no profile id received");if(!this.privDeferralMap.getId(t))throw new Error(`Voice Profile create request for requestID ${t} not found`);{const r=e.profiles.map((e=>e.profileId));this.privDeferralMap.complete(t,r)}}handleResultResponse(e,t){if(!this.privDeferralMap.getId(t))throw new Error(`Voice Profile create request for requestID ${t} not found`);{const r="delete"===e.operation.toLowerCase()?o.ResultReason.DeletedVoiceProfile:o.ResultReason.ResetVoiceProfile,n="success"===e.status.statusCode.toLowerCase()?r:o.ResultReason.Canceled,i=new o.VoiceProfileResult(n,`statusCode: ${e.status.statusCode}, errorDetails: ${e.status.reason}`);this.privDeferralMap.complete(t,i)}}handleFetchResponse(e,t){if(!this.privDeferralMap.getId(t)||!e.profiles[0])throw new Error(`Voice Profile fetch request for requestID ${t} not found`);if(this.privExpectedProfileId&&1===e.profiles.length&&e.profiles[0].profileId===this.privExpectedProfileId){this.privExpectedProfileId=void 0;const r=e.profiles[0],n=new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(r.enrollmentStatus),JSON.stringify(r),e.status.reason);this.privDeferralMap.complete(t,n)}else if(e.profiles.length>0){const r=e.profiles,n=[];for(const t of r)n.push(new o.VoiceProfileEnrollmentResult(this.enrollmentReasonFrom(t.enrollmentStatus),JSON.stringify(t),e.status.reason));this.privDeferralMap.complete(t,n)}}enrollmentReasonFrom(e){switch(e.toLowerCase()){case"enrolled":return o.ResultReason.EnrolledVoiceProfile;case"invalidlocale":case"invalidphrase":case"invalidaudioformat":case"invalidscenario":case"invalidprofilecount":case"invalidoperation":case"audiotooshort":case"audiotoolong":case"toomanyenrollments":case"storageconflict":case"profilenotfound":case"incompatibleprofiles":case"incompleteenrollment":return o.ResultReason.Canceled;default:return o.ResultReason.EnrollingVoiceProfile}}scenarioFrom(e){return e===o.VoiceProfileType.TextIndependentIdentification?"TextIndependentIdentification":e===o.VoiceProfileType.TextIndependentVerification?"TextIndependentVerification":"TextDependentVerification"}}t.VoiceServiceRecognizer=c},8588:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationServiceRecognizer=void 0;const n=r(8040),i=r(9859);class o extends i.ServiceRecognizerBase{constructor(e,t,r,n,i){super(e,t,r,n,i),this.handleSpeechPhraseMessage=async e=>this.handleSpeechPhrase(e),this.handleSpeechHypothesisMessage=e=>this.handleSpeechHypothesis(e)}processTypeSpecificMessages(e){}handleRecognizedCallback(e,t,r){}handleRecognizingCallback(e,t,r){}async processSpeechMessages(e){let t=!1;switch(e.path.toLowerCase()){case"speech.hypothesis":case"speech.fragment":this.handleSpeechHypothesisMessage&&this.handleSpeechHypothesisMessage(e.textBody),t=!0;break;case"speech.phrase":this.handleSpeechPhraseMessage&&await this.handleSpeechPhraseMessage(e.textBody),t=!0}return t}cancelRecognition(e,t,r,n,i){}async handleSpeechPhrase(e){const t=i.SimpleSpeechPhrase.fromJSON(e,this.privRequestSession.currentTurnAudioOffset),r=i.EnumTranslation.implTranslateRecognitionResult(t.RecognitionStatus);let o;const s=new n.PropertyCollection;if(s.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,e),this.privRequestSession.onPhraseRecognized(t.Offset+t.Duration),n.ResultReason.Canceled===r){const e=i.EnumTranslation.implTranslateCancelResult(t.RecognitionStatus),r=i.EnumTranslation.implTranslateCancelErrorCode(t.RecognitionStatus);await this.cancelRecognitionLocal(e,r,i.EnumTranslation.implTranslateErrorDetails(r))}else if(t.RecognitionStatus!==i.RecognitionStatus.EndOfDictation){if(this.privRecognizerConfig.parameters.getProperty(i.OutputFormatPropertyName)===n.OutputFormat[n.OutputFormat.Simple])o=new n.SpeechRecognitionResult(this.privRequestSession.requestId,r,t.DisplayText,t.Duration,t.Offset,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,t.asJson(),s);else{const t=i.DetailedSpeechPhrase.fromJSON(e,this.privRequestSession.currentTurnAudioOffset);o=new n.SpeechRecognitionResult(this.privRequestSession.requestId,r,t.Text,t.Duration,t.Offset,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,t.asJson(),s)}this.handleRecognizedCallback(o,o.offset,this.privRequestSession.sessionId)}}handleSpeechHypothesis(e){const t=i.SpeechHypothesis.fromJSON(e,this.privRequestSession.currentTurnAudioOffset),r=new n.PropertyCollection;r.setProperty(n.PropertyId.SpeechServiceResponse_JsonResult,e);const o=new n.SpeechRecognitionResult(this.privRequestSession.requestId,n.ResultReason.RecognizingSpeech,t.Text,t.Duration,t.Offset,t.Language,t.LanguageDetectionConfidence,t.SpeakerId,void 0,t.asJson(),r);this.privRequestSession.onHypothesis(t.Offset),this.handleRecognizingCallback(o,t.Duration,this.privRequestSession.sessionId)}}t.ConversationServiceRecognizer=o},8608:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisWordBoundaryEventArgs=void 0;t.SpeechSynthesisWordBoundaryEventArgs=class{constructor(e,t,r,n,i,o){this.privAudioOffset=e,this.privDuration=t,this.privText=r,this.privWordLength=n,this.privTextOffset=i,this.privBoundaryType=o}get audioOffset(){return this.privAudioOffset}get duration(){return this.privDuration}get text(){return this.privText}get wordLength(){return this.privWordLength}get textOffset(){return this.privTextOffset}get boundaryType(){return this.privBoundaryType}}},8626:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamCallback=void 0;t.PushAudioOutputStreamCallback=class{}},8632:()=>{},8643:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderNames=void 0;class r{}t.HeaderNames=r,r.AuthKey="Ocp-Apim-Subscription-Key",r.Authorization="Authorization",r.SpIDAuthKey="Apim-Subscription-Id",r.ConnectionId="X-ConnectionId",r.ContentType="Content-Type",r.CustomCommandsAppId="X-CommandsAppId",r.Path="Path",r.RequestId="X-RequestId",r.RequestStreamId="X-StreamId",r.RequestTimestamp="X-Timestamp"},8685:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0});new(r(9859).AgentConfig),i(r(8040),t)},8705:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisAdapter=void 0;const n=r(8040),i=r(9859);class o extends i.SynthesisAdapterBase{constructor(e,t,r,n,i){super(e,t,r,i),this.privSpeechSynthesizer=n,this.privSynthesizer=n}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(this.privSpeechSynthesizer)}onSynthesisStarted(e){const t=new n.SpeechSynthesisEventArgs(new n.SpeechSynthesisResult(e,n.ResultReason.SynthesizingAudioStarted));this.privSpeechSynthesizer.synthesisStarted&&this.privSpeechSynthesizer.synthesisStarted(this.privSpeechSynthesizer,t)}onSynthesizing(e){if(this.privSpeechSynthesizer.synthesizing)try{const t=this.privSynthesisTurn.audioOutputFormat.addHeader(e),r=new n.SpeechSynthesisEventArgs(new n.SpeechSynthesisResult(this.privSynthesisTurn.requestId,n.ResultReason.SynthesizingAudio,t));this.privSpeechSynthesizer.synthesizing(this.privSpeechSynthesizer,r)}catch(t){}}onSynthesisCancelled(e){if(this.privSpeechSynthesizer.SynthesisCanceled){const t=new n.SpeechSynthesisEventArgs(e);try{this.privSpeechSynthesizer.SynthesisCanceled(this.privSpeechSynthesizer,t)}catch{}}}onSynthesisCompleted(e){if(this.privSpeechSynthesizer.synthesisCompleted)try{this.privSpeechSynthesizer.synthesisCompleted(this.privSpeechSynthesizer,new n.SpeechSynthesisEventArgs(e))}catch(t){}}onWordBoundary(e){if(this.privSpeechSynthesizer.wordBoundary)try{this.privSpeechSynthesizer.wordBoundary(this.privSpeechSynthesizer,e)}catch(t){}}onVisemeReceived(e){if(this.privSpeechSynthesizer.visemeReceived)try{this.privSpeechSynthesizer.visemeReceived(this.privSpeechSynthesizer,e)}catch(t){}}onBookmarkReached(e){if(this.privSpeechSynthesizer.bookmarkReached)try{this.privSpeechSynthesizer.bookmarkReached(this.privSpeechSynthesizer,e)}catch(t){}}}t.SpeechSynthesisAdapter=o},8706:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationEventArgsBase=void 0;const n=r(8040);class i extends n.RecognitionEventArgs{constructor(e,t,r,n,i){super(n,i),this.privReason=e,this.privErrorDetails=t,this.privErrorCode=r}get reason(){return this.privReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}t.CancellationEventArgsBase=i},8743:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t){super(t),this.privOffset=e}get offset(){return this.privOffset}}t.RecognitionEventArgs=i},8765:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisOutputFormat=void 0,function(e){e[e.Raw8Khz8BitMonoMULaw=0]="Raw8Khz8BitMonoMULaw",e[e.Riff16Khz16KbpsMonoSiren=1]="Riff16Khz16KbpsMonoSiren",e[e.Audio16Khz16KbpsMonoSiren=2]="Audio16Khz16KbpsMonoSiren",e[e.Audio16Khz32KBitRateMonoMp3=3]="Audio16Khz32KBitRateMonoMp3",e[e.Audio16Khz128KBitRateMonoMp3=4]="Audio16Khz128KBitRateMonoMp3",e[e.Audio16Khz64KBitRateMonoMp3=5]="Audio16Khz64KBitRateMonoMp3",e[e.Audio24Khz48KBitRateMonoMp3=6]="Audio24Khz48KBitRateMonoMp3",e[e.Audio24Khz96KBitRateMonoMp3=7]="Audio24Khz96KBitRateMonoMp3",e[e.Audio24Khz160KBitRateMonoMp3=8]="Audio24Khz160KBitRateMonoMp3",e[e.Raw16Khz16BitMonoTrueSilk=9]="Raw16Khz16BitMonoTrueSilk",e[e.Riff16Khz16BitMonoPcm=10]="Riff16Khz16BitMonoPcm",e[e.Riff8Khz16BitMonoPcm=11]="Riff8Khz16BitMonoPcm",e[e.Riff24Khz16BitMonoPcm=12]="Riff24Khz16BitMonoPcm",e[e.Riff8Khz8BitMonoMULaw=13]="Riff8Khz8BitMonoMULaw",e[e.Raw16Khz16BitMonoPcm=14]="Raw16Khz16BitMonoPcm",e[e.Raw24Khz16BitMonoPcm=15]="Raw24Khz16BitMonoPcm",e[e.Raw8Khz16BitMonoPcm=16]="Raw8Khz16BitMonoPcm",e[e.Ogg16Khz16BitMonoOpus=17]="Ogg16Khz16BitMonoOpus",e[e.Ogg24Khz16BitMonoOpus=18]="Ogg24Khz16BitMonoOpus",e[e.Raw48Khz16BitMonoPcm=19]="Raw48Khz16BitMonoPcm",e[e.Riff48Khz16BitMonoPcm=20]="Riff48Khz16BitMonoPcm",e[e.Audio48Khz96KBitRateMonoMp3=21]="Audio48Khz96KBitRateMonoMp3",e[e.Audio48Khz192KBitRateMonoMp3=22]="Audio48Khz192KBitRateMonoMp3",e[e.Ogg48Khz16BitMonoOpus=23]="Ogg48Khz16BitMonoOpus",e[e.Webm16Khz16BitMonoOpus=24]="Webm16Khz16BitMonoOpus",e[e.Webm24Khz16BitMonoOpus=25]="Webm24Khz16BitMonoOpus",e[e.Raw24Khz16BitMonoTrueSilk=26]="Raw24Khz16BitMonoTrueSilk",e[e.Raw8Khz8BitMonoALaw=27]="Raw8Khz8BitMonoALaw",e[e.Riff8Khz8BitMonoALaw=28]="Riff8Khz8BitMonoALaw",e[e.Webm24Khz16Bit24KbpsMonoOpus=29]="Webm24Khz16Bit24KbpsMonoOpus",e[e.Audio16Khz16Bit32KbpsMonoOpus=30]="Audio16Khz16Bit32KbpsMonoOpus",e[e.Audio24Khz16Bit48KbpsMonoOpus=31]="Audio24Khz16Bit48KbpsMonoOpus",e[e.Audio24Khz16Bit24KbpsMonoOpus=32]="Audio24Khz16Bit24KbpsMonoOpus",e[e.Raw22050Hz16BitMonoPcm=33]="Raw22050Hz16BitMonoPcm",e[e.Riff22050Hz16BitMonoPcm=34]="Riff22050Hz16BitMonoPcm",e[e.Raw44100Hz16BitMonoPcm=35]="Raw44100Hz16BitMonoPcm",e[e.Riff44100Hz16BitMonoPcm=36]="Riff44100Hz16BitMonoPcm",e[e.AmrWb16000Hz=37]="AmrWb16000Hz",e[e.G72216Khz64Kbps=38]="G72216Khz64Kbps"}(t.SpeechSynthesisOutputFormat||(t.SpeechSynthesisOutputFormat={}))},8777:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.AudioFileWriter=void 0;const s=o(r(952)),a=r(260);t.AudioFileWriter=class{constructor(e){a.Contracts.throwIfNullOrUndefined(s.openSync,"\nFile System access not available, please use Push or PullAudioOutputStream"),this.privFd=s.openSync(e,"w")}set format(e){a.Contracts.throwIfNotUndefined(this.privAudioFormat,"format is already set"),this.privAudioFormat=e;let t=0;this.privAudioFormat.hasHeader&&(t=this.privAudioFormat.header.byteLength),void 0!==this.privFd&&(this.privWriteStream=s.createWriteStream("",{fd:this.privFd,start:t,autoClose:!1}))}write(e){a.Contracts.throwIfNullOrUndefined(this.privAudioFormat,"must set format before writing."),void 0!==this.privWriteStream&&this.privWriteStream.write(new Uint8Array(e.slice(0)))}close(){void 0!==this.privFd&&(this.privWriteStream.on("finish",(()=>{this.privAudioFormat.hasHeader&&(this.privAudioFormat.updateHeader(this.privWriteStream.bytesWritten),s.writeSync(this.privFd,new Int8Array(this.privAudioFormat.header),0,this.privAudioFormat.header.byteLength,0)),s.closeSync(this.privFd),this.privFd=void 0})),this.privWriteStream.end())}id(){return this.privId}}},8833:(e,t)=>{"use strict";var r,n;Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceInfo=t.SynthesisVoiceType=t.SynthesisVoiceGender=void 0,function(e){e[e.Unknown=0]="Unknown",e[e.Female=1]="Female",e[e.Male=2]="Male",e[e.Neutral=3]="Neutral"}(r=t.SynthesisVoiceGender||(t.SynthesisVoiceGender={})),function(e){e[e.Unknown=0]="Unknown",e[e.OnlineNeural=1]="OnlineNeural",e[e.OnlineStandard=2]="OnlineStandard",e[e.OfflineNeural=3]="OfflineNeural",e[e.OfflineStandard=4]="OfflineStandard",e[e.OnlineNeuralHD=5]="OnlineNeuralHD"}(n=t.SynthesisVoiceType||(t.SynthesisVoiceType={}));const i={[r[r.Neutral]]:r.Neutral,[r[r.Male]]:r.Male,[r[r.Female]]:r.Female},o={Neural:n.OnlineNeural,NeuralHD:n.OnlineNeuralHD};t.VoiceInfo=class{constructor(e){if(this.privStyleList=[],e){if(this.privName=e.Name,this.privLocale=e.Locale,this.privShortName=e.ShortName,this.privLocaleName=e.LocaleName,this.privDisplayName=e.DisplayName,this.privLocalName=e.LocalName,this.privVoiceType=o[e.VoiceType]||n.Unknown,this.privGender=i[e.Gender]||r.Unknown,e.StyleList&&Array.isArray(e.StyleList))for(const t of e.StyleList)this.privStyleList.push(t);this.privSampleRateHertz=e.SampleRateHertz,this.privStatus=e.Status,e.ExtendedPropertyMap&&(this.privExtendedPropertyMap=e.ExtendedPropertyMap),this.privWordsPerMinute=e.WordsPerMinute,Array.isArray(e.SecondaryLocaleList)&&(this.privSecondaryLocaleList=[...e.SecondaryLocaleList]),Array.isArray(e.RolePlayList)&&(this.privRolePlayList=[...e.RolePlayList]),e.VoiceTag&&(this.privVoiceTag=e.VoiceTag)}}get name(){return this.privName}get locale(){return this.privLocale}get shortName(){return this.privShortName}get displayName(){return this.privDisplayName}get localName(){return this.privLocalName}get localeName(){return this.privLocaleName}get gender(){return this.privGender}get voiceType(){return this.privVoiceType}get styleList(){return this.privStyleList}get sampleRateHertz(){return this.privSampleRateHertz}get status(){return this.privStatus}get extendedPropertyMap(){return this.privExtendedPropertyMap}get wordsPerMinute(){return this.privWordsPerMinute}get secondaryLocaleList(){return this.privSecondaryLocaleList}get rolePlayList(){return this.privRolePlayList}get voiceTag(){return this.privVoiceTag}}},8853:(e,t,r)=>{"use strict";e.exports=r(7234)},8960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesizerConfig=t.SynthesisServiceType=void 0;const n=r(9859);var i;!function(e){e[e.Standard=0]="Standard",e[e.Custom=1]="Custom"}(i=t.SynthesisServiceType||(t.SynthesisServiceType={}));t.SynthesizerConfig=class{constructor(e,t){this.privSynthesisServiceType=i.Standard,this.avatarEnabled=!1,this.privSpeechServiceConfig=e||new n.SpeechServiceConfig(new n.Context(null)),this.privParameters=t}get parameters(){return this.privParameters}get synthesisServiceType(){return this.privSynthesisServiceType}set synthesisServiceType(e){this.privSynthesisServiceType=e}set synthesisVideoSection(e){this.privSpeechServiceConfig.Context.synthesis={video:e}}get SpeechServiceConfig(){return this.privSpeechServiceConfig}}},9070:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SessionEventArgs=void 0;t.SessionEventArgs=class{constructor(e){this.privSessionId=e}get sessionId(){return this.privSessionId}}},9099:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LogLevel=void 0;const n=r(2307);Object.defineProperty(t,"LogLevel",{enumerable:!0,get:function(){return n.EventType}})},9102:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},9135:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9169:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TranslationRecognitionCanceledEventArgs=void 0;t.TranslationRecognitionCanceledEventArgs=class{constructor(e,t,r,n,i){this.privCancelReason=t,this.privErrorDetails=r,this.privResult=i,this.privSessionId=e,this.privErrorCode=n}get result(){return this.privResult}get sessionId(){return this.privSessionId}get reason(){return this.privCancelReason}get errorCode(){return this.privErrorCode}get errorDetails(){return this.privErrorDetails}}},9173:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9225:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesisBoundaryType=void 0,function(e){e.Word="WordBoundary",e.Punctuation="PunctuationBoundary",e.Sentence="SentenceBoundary"}(t.SpeechSynthesisBoundaryType||(t.SpeechSynthesisBoundaryType={}))},9252:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechConnectionFactory=void 0;const n=r(2277),i=r(9859),o=r(8040),s=r(2679),a=r(9859),c=r(8643),l=r(7237);class u extends s.ConnectionFactoryBase{constructor(){super(...arguments),this.interactiveRelativeUri="/speech/recognition/interactive/cognitiveservices/v1",this.conversationRelativeUri="/speech/recognition/conversation/cognitiveservices/v1",this.dictationRelativeUri="/speech/recognition/dictation/cognitiveservices/v1",this.universalUri="/speech/universal/v"}create(e,t,r){let u=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Endpoint,void 0);const p=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Region,void 0),d=s.ConnectionFactoryBase.getHostSuffix(p),h=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_Host,"wss://"+p+".stt.speech"+d),v={},f=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_EndpointId,void 0),g=e.parameters.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,void 0);if(f?u&&-1!==u.search(l.QueryParameterNames.CustomSpeechDeploymentId)||(v[l.QueryParameterNames.CustomSpeechDeploymentId]=f):g&&(u&&-1!==u.search(l.QueryParameterNames.Language)||(v[l.QueryParameterNames.Language]=g)),u&&-1!==u.search(l.QueryParameterNames.Format)||(v[l.QueryParameterNames.Format]=e.parameters.getProperty(i.OutputFormatPropertyName,o.OutputFormat[o.OutputFormat.Simple]).toLowerCase()),void 0!==e.autoDetectSourceLanguages&&(v[l.QueryParameterNames.EnableLanguageId]="true"),this.setCommonUrlParams(e,v,u),!u)switch(e.recognitionMode){case a.RecognitionMode.Conversation:u="true"===e.parameters.getProperty(i.ForceDictationPropertyName,"false")?h+this.dictationRelativeUri:void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?`${h}${this.universalUri}${e.recognitionEndpointVersion}`:h+this.conversationRelativeUri;break;case a.RecognitionMode.Dictation:u=h+this.dictationRelativeUri;break;default:u=void 0!==e.recognitionEndpointVersion&&parseInt(e.recognitionEndpointVersion,10)>1?`${h}${this.universalUri}${e.recognitionEndpointVersion}`:h+this.interactiveRelativeUri}const m={};void 0!==t.token&&""!==t.token&&(m[t.headerName]=t.token),m[c.HeaderNames.ConnectionId]=r;const y="true"===e.parameters.getProperty("SPEECH-EnableWebsocketCompression","false"),S=new n.WebsocketConnection(u,v,m,new a.WebsocketMessageFormatter,n.ProxyInfo.fromRecognizerConfig(e),y,r),C=S.uri;return e.parameters.setProperty(o.PropertyId.SpeechServiceConnection_Url,C),S}}t.SpeechConnectionFactory=u},9290:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AvatarSynthesisAdapter=void 0;const n=r(8040),i=r(9859);class o extends i.SynthesisAdapterBase{constructor(e,t,r,n,i){super(e,t,r,void 0),this.privAvatarSynthesizer=n,this.privSynthesizer=n,this.privAvatarConfig=i}setSynthesisContextSynthesisSection(){this.privSynthesisContext.setSynthesisSection(void 0)}setSpeechConfigSynthesisSection(){this.privSynthesizerConfig.synthesisVideoSection={format:{bitrate:this.privAvatarConfig.videoFormat?.bitrate,codec:this.privAvatarConfig.videoFormat?.codec,crop:{bottomRight:{x:this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.x,y:this.privAvatarConfig.videoFormat?.cropRange?.bottomRight?.y},topLeft:{x:this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.x,y:this.privAvatarConfig.videoFormat?.cropRange?.topLeft?.y}},resolution:{height:this.privAvatarConfig.videoFormat?.height,width:this.privAvatarConfig.videoFormat?.width}},protocol:{name:"WebRTC",webrtcConfig:{clientDescription:btoa(this.privSynthesizerConfig.parameters.getProperty(n.PropertyId.TalkingAvatarService_WebRTC_SDP)),iceServers:this.privAvatarConfig.remoteIceServers??this.privAvatarSynthesizer.iceServers}},talkingAvatar:{background:{color:this.privAvatarConfig.backgroundColor,image:{url:this.privAvatarConfig.backgroundImage?.toString()}},character:this.privAvatarConfig.character,customized:this.privAvatarConfig.customized,style:this.privAvatarConfig.style,useBuiltInVoice:this.privAvatarConfig.useBuiltInVoice}}}onAvatarEvent(e){if(this.privAvatarSynthesizer.avatarEventReceived){const r=new n.AvatarEventArgs(e.Data.Offset,e.Data.Name);try{this.privAvatarSynthesizer.avatarEventReceived(this.privAvatarSynthesizer,r)}catch(t){}}}}t.AvatarSynthesisAdapter=o},9463:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createNoDashGuid=t.createGuid=void 0;const n=r(177),i=()=>n.v4();t.createGuid=i;t.createNoDashGuid=()=>i().replace(new RegExp("-","g"),"").toUpperCase()},9469:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationManager=void 0;const n=r(2277),i=r(260),o=r(8040),s=r(1666);t.ConversationManager=class{constructor(){this.privRequestParams=s.ConversationConnectionConfig.configParams,this.privErrors=s.ConversationConnectionConfig.restErrors,this.privHost=s.ConversationConnectionConfig.host,this.privApiVersion=s.ConversationConnectionConfig.apiVersion,this.privRestPath=s.ConversationConnectionConfig.restPath,this.privRestAdapter=new n.RestMessageAdapter({})}createOrJoin(e,t,r,a){try{i.Contracts.throwIfNullOrUndefined(e,"args");const c=e.getProperty(o.PropertyId.SpeechServiceConnection_RecoLanguage,s.ConversationConnectionConfig.defaultLanguageCode),l=e.getProperty(o.PropertyId.ConversationTranslator_Name,"conversation_host"),u=e.getProperty(o.PropertyId.ConversationTranslator_Host,this.privHost),p=e.getProperty(o.PropertyId.ConversationTranslator_CorrelationId),d=e.getProperty(o.PropertyId.SpeechServiceConnection_Key),h=e.getProperty(o.PropertyId.SpeechServiceConnection_Region),v=e.getProperty(o.PropertyId.SpeechServiceAuthorization_Token);i.Contracts.throwIfNullOrWhitespace(c,"languageCode"),i.Contracts.throwIfNullOrWhitespace(l,"nickname"),i.Contracts.throwIfNullOrWhitespace(u,"endpointHost");const f={};f[this.privRequestParams.apiVersion]=this.privApiVersion,f[this.privRequestParams.languageCode]=c,f[this.privRequestParams.nickname]=l;const g={};p&&(g[this.privRequestParams.correlationId]=p),g[this.privRequestParams.clientAppId]=s.ConversationConnectionConfig.clientAppId,void 0!==t?f[this.privRequestParams.roomId]=t:(i.Contracts.throwIfNullOrUndefined(h,this.privErrors.authInvalidSubscriptionRegion),g[this.privRequestParams.subscriptionRegion]=h,d?g[this.privRequestParams.subscriptionKey]=d:v?g[this.privRequestParams.authorization]=`Bearer ${v}`:i.Contracts.throwIfNullOrUndefined(d,this.privErrors.authInvalidSubscriptionKey));const m={};m.headers=g,this.privRestAdapter.options=m;const y=`https://${u}${this.privRestPath}`;this.privRestAdapter.request(n.RestRequestType.Post,y,f,null).then((e=>{const t=n.RestMessageAdapter.extractHeaderValue(this.privRequestParams.requestId,e.headers);if(!e.ok){if(a){let r,n=this.privErrors.invalidCreateJoinConversationResponse.replace("{status}",e.status.toString());try{r=JSON.parse(e.data),n+=` [${r.error.code}: ${r.error.message}]`}catch(o){n+=` [${e.data}]`}t&&(n+=` ${t}`),a(n)}return}const i=JSON.parse(e.data);if(i&&(i.requestId=t),r){try{r(i)}catch(o){a&&a(o)}r=void 0}})).catch((()=>{}))}catch(c){if(a)if(c instanceof Error){const e=c;a(e.name+": "+e.message)}else a(c)}}leave(e,t){return new Promise(((r,s)=>{try{i.Contracts.throwIfNullOrUndefined(e,this.privErrors.invalidArgs.replace("{arg}","config")),i.Contracts.throwIfNullOrWhitespace(t,this.privErrors.invalidArgs.replace("{arg}","token"));const s=e.getProperty(o.PropertyId.ConversationTranslator_Host,this.privHost),a=e.getProperty(o.PropertyId.ConversationTranslator_CorrelationId),c={};c[this.privRequestParams.apiVersion]=this.privApiVersion,c[this.privRequestParams.sessionToken]=t;const l={};a&&(l[this.privRequestParams.correlationId]=a);const u={};u.headers=l,this.privRestAdapter.options=u;const p=`https://${s}${this.privRestPath}`;this.privRestAdapter.request(n.RestRequestType.Delete,p,c,null).then((e=>{e.ok,r()})).catch((()=>{}))}catch(a){if(a instanceof Error){const e=a;s(e.name+": "+e.message)}else s(a)}}))}}},9502:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RecognitionStatus=t.SynthesisStatus=void 0,function(e){e[e.Success=0]="Success",e[e.SynthesisEnd=1]="SynthesisEnd",e[e.Error=2]="Error"}(t.SynthesisStatus||(t.SynthesisStatus={})),function(e){e[e.Success=0]="Success",e[e.NoMatch=1]="NoMatch",e[e.InitialSilenceTimeout=2]="InitialSilenceTimeout",e[e.BabbleTimeout=3]="BabbleTimeout",e[e.Error=4]="Error",e[e.EndOfDictation=5]="EndOfDictation",e[e.TooManyRequests=6]="TooManyRequests",e[e.BadRequest=7]="BadRequest",e[e.Forbidden=8]="Forbidden"}(t.RecognitionStatus||(t.RecognitionStatus={}))},9531:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LanguageIdMode=void 0,function(e){e[e.AtStart=0]="AtStart",e[e.Continuous=1]="Continuous"}(t.LanguageIdMode||(t.LanguageIdMode={}))},9537:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConversationReceivedTranslationEventArgs=t.ParticipantsListEventArgs=t.ParticipantAttributeEventArgs=t.ParticipantEventArgs=t.LockRoomEventArgs=t.MuteAllEventArgs=void 0;const n=r(8040);class i extends n.SessionEventArgs{constructor(e,t){super(t),this.privIsMuted=e}get isMuted(){return this.privIsMuted}}t.MuteAllEventArgs=i;class o extends n.SessionEventArgs{constructor(e,t){super(t),this.privIsLocked=e}get isMuted(){return this.privIsLocked}}t.LockRoomEventArgs=o;class s extends n.SessionEventArgs{constructor(e,t){super(t),this.privParticipant=e}get participant(){return this.privParticipant}}t.ParticipantEventArgs=s;class a extends n.SessionEventArgs{constructor(e,t,r,n){super(n),this.privKey=t,this.privValue=r,this.privParticipantId=e}get value(){return this.privValue}get key(){return this.privKey}get id(){return this.privParticipantId}}t.ParticipantAttributeEventArgs=a;class c extends n.SessionEventArgs{constructor(e,t,r,n,i,o,s,a,c){super(c),this.privRoomId=e,this.privSessionToken=t,this.privTranslateTo=r,this.privProfanityFilter=n,this.privRoomProfanityFilter=i,this.privIsRoomLocked=o,this.privIsRoomLocked=s,this.privParticipants=a}get sessionToken(){return this.privSessionToken}get conversationId(){return this.privRoomId}get translateTo(){return this.privTranslateTo}get profanityFilter(){return this.privProfanityFilter}get roomProfanityFilter(){return this.privRoomProfanityFilter}get isRoomLocked(){return this.privIsRoomLocked}get isMuteAll(){return this.privIsMuteAll}get participants(){return this.privParticipants}}t.ParticipantsListEventArgs=c;t.ConversationReceivedTranslationEventArgs=class{constructor(e,t,r){this.privPayload=t,this.privCommand=e,this.privSessionId=r}get payload(){return this.privPayload}get command(){return this.privCommand}get sessionId(){return this.privSessionId}}},9548:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SynthesisResult=void 0;t.SynthesisResult=class{constructor(e,t,r,n){this.privResultId=e,this.privReason=t,this.privErrorDetails=r,this.privProperties=n}get resultId(){return this.privResultId}get reason(){return this.privReason}get errorDetails(){return this.privErrorDetails}get properties(){return this.privProperties}}},9553:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerAudioDestination=void 0;const n=r(2307),i=r(9709),o=r(4175),s={[o.AudioFormatTag.PCM]:"audio/wav",[o.AudioFormatTag.MuLaw]:"audio/x-wav",[o.AudioFormatTag.MP3]:"audio/mpeg",[o.AudioFormatTag.OGG_OPUS]:"audio/ogg",[o.AudioFormatTag.WEBM_OPUS]:"audio/webm; codecs=opus",[o.AudioFormatTag.ALaw]:"audio/x-wav",[o.AudioFormatTag.FLAC]:"audio/flac",[o.AudioFormatTag.AMR_WB]:"audio/amr-wb",[o.AudioFormatTag.G722]:"audio/G722"};t.SpeakerAudioDestination=class{constructor(e){this.privPlaybackStarted=!1,this.privAppendingToBuffer=!1,this.privMediaSourceOpened=!1,this.privBytesReceived=0,this.privId=e||n.createNoDashGuid(),this.privIsPaused=!1,this.privIsClosed=!1}id(){return this.privId}write(e,t,r){void 0!==this.privAudioBuffer?(this.privAudioBuffer.push(e),this.updateSourceBuffer().then((()=>{t&&t()}),(e=>{r&&r(e)}))):void 0!==this.privAudioOutputStream&&(this.privAudioOutputStream.write(e),this.privBytesReceived+=e.byteLength)}close(e,t){if(this.privIsClosed=!0,void 0!==this.privSourceBuffer)this.handleSourceBufferUpdateEnd().then((()=>{e&&e()}),(e=>{t&&t(e)}));else if(void 0!==this.privAudioOutputStream&&"undefined"!==typeof window)if(this.privFormat.formatTag!==o.AudioFormatTag.PCM&&this.privFormat.formatTag!==o.AudioFormatTag.MuLaw&&this.privFormat.formatTag!==o.AudioFormatTag.ALaw||!1!==this.privFormat.hasHeader){let r=new ArrayBuffer(this.privBytesReceived);this.privAudioOutputStream.read(r).then((()=>{r=this.privFormat.addHeader(r);const n=new Blob([r],{type:s[this.privFormat.formatTag]});this.privAudio.src=window.URL.createObjectURL(n),this.notifyPlayback().then((()=>{e&&e()}),(e=>{t&&t(e)}))}),(e=>{t&&t(e)}))}else console.warn("Play back is not supported for raw PCM, mulaw or alaw format without header."),this.onAudioEnd&&this.onAudioEnd(this);else this.onAudioEnd&&this.onAudioEnd(this)}set format(e){if("undefined"!==typeof AudioContext||"undefined"!==typeof window&&"undefined"!==typeof window.webkitAudioContext){this.privFormat=e;const t=s[this.privFormat.formatTag];void 0===t?console.warn(`Unknown mimeType for format ${o.AudioFormatTag[this.privFormat.formatTag]}; playback is not supported.`):"undefined"!==typeof MediaSource&&MediaSource.isTypeSupported(t)?(this.privAudio=new Audio,this.privAudioBuffer=[],this.privMediaSource=new MediaSource,this.privAudio.src=URL.createObjectURL(this.privMediaSource),this.privAudio.load(),this.privMediaSource.onsourceopen=()=>{this.privMediaSourceOpened=!0,this.privMediaSource.duration=1800,this.privSourceBuffer=this.privMediaSource.addSourceBuffer(t),this.privSourceBuffer.onupdate=()=>{this.updateSourceBuffer().catch((e=>{n.Events.instance.onEvent(new n.BackgroundEvent(e))}))},this.privSourceBuffer.onupdateend=()=>{this.handleSourceBufferUpdateEnd().catch((e=>{n.Events.instance.onEvent(new n.BackgroundEvent(e))}))},this.privSourceBuffer.onupdatestart=()=>{this.privAppendingToBuffer=!1}},this.updateSourceBuffer().catch((e=>{n.Events.instance.onEvent(new n.BackgroundEvent(e))}))):(console.warn(`Format ${o.AudioFormatTag[this.privFormat.formatTag]} could not be played by MSE, streaming playback is not enabled.`),this.privAudioOutputStream=new i.PullAudioOutputStreamImpl,this.privAudioOutputStream.format=this.privFormat,this.privAudio=new Audio)}}get volume(){return this.privAudio?.volume??-1}set volume(e){this.privAudio&&(this.privAudio.volume=e)}mute(){this.privAudio&&(this.privAudio.muted=!0)}unmute(){this.privAudio&&(this.privAudio.muted=!1)}get isClosed(){return this.privIsClosed}get currentTime(){return void 0!==this.privAudio?this.privAudio.currentTime:-1}pause(){this.privIsPaused||void 0===this.privAudio||(this.privAudio.pause(),this.privIsPaused=!0)}resume(e,t){this.privIsPaused&&void 0!==this.privAudio&&(this.privAudio.play().then((()=>{e&&e()}),(e=>{t&&t(e)})),this.privIsPaused=!1)}get internalAudio(){return this.privAudio}async updateSourceBuffer(){if(void 0!==this.privAudioBuffer&&this.privAudioBuffer.length>0&&this.sourceBufferAvailable()){this.privAppendingToBuffer=!0;const t=this.privAudioBuffer.shift();try{this.privSourceBuffer.appendBuffer(t)}catch(e){return this.privAudioBuffer.unshift(t),void console.log("buffer filled, pausing addition of binaries until space is made")}await this.notifyPlayback()}else this.canEndStream()&&await this.handleSourceBufferUpdateEnd()}async handleSourceBufferUpdateEnd(){this.canEndStream()&&this.sourceBufferAvailable()&&(this.privMediaSource.endOfStream(),await this.notifyPlayback())}async notifyPlayback(){this.privPlaybackStarted||void 0===this.privAudio||(this.privPlaybackStarted=!0,this.onAudioStart&&this.onAudioStart(this),this.privAudio.onended=()=>{this.onAudioEnd&&this.onAudioEnd(this)},this.privIsPaused||await this.privAudio.play())}canEndStream(){return this.isClosed&&void 0!==this.privSourceBuffer&&0===this.privAudioBuffer.length&&this.privMediaSourceOpened&&!this.privAppendingToBuffer&&"open"===this.privMediaSource.readyState}sourceBufferAvailable(){return void 0!==this.privSourceBuffer&&!this.privSourceBuffer.updating}}},9638:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=o(r(495)),i=o(r(6733));function o(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,i.default);t.default=s},9645:()=>{},9709:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PushAudioOutputStreamImpl=t.PushAudioOutputStream=t.PullAudioOutputStreamImpl=t.PullAudioOutputStream=t.AudioOutputStream=void 0;const n=r(2307),i=r(260),o=r(7810);class s{constructor(){}static createPullStream(){return a.create()}}t.AudioOutputStream=s;class a extends s{static create(){return new c}}t.PullAudioOutputStream=a;class c extends a{constructor(){super(),this.privId=n.createNoDashGuid(),this.privStream=new n.Stream}set format(e){void 0!==e&&null!==e||(this.privFormat=o.AudioOutputFormatImpl.getDefaultOutputFormat()),this.privFormat=e}get format(){return this.privFormat}get isClosed(){return this.privStream.isClosed}id(){return this.privId}async read(e){const t=new Int8Array(e);let r=0;if(void 0!==this.privLastChunkView){if(this.privLastChunkView.length>e.byteLength)return t.set(this.privLastChunkView.slice(0,e.byteLength)),this.privLastChunkView=this.privLastChunkView.slice(e.byteLength),Promise.resolve(e.byteLength);t.set(this.privLastChunkView),r=this.privLastChunkView.length,this.privLastChunkView=void 0}for(;r<e.byteLength&&!this.privStream.isReadEnded;){const n=await this.privStream.read();if(void 0===n||n.isEnd)this.privStream.readEnded();else{let i;n.buffer.byteLength>e.byteLength-r?(i=n.buffer.slice(0,e.byteLength-r),this.privLastChunkView=new Int8Array(n.buffer.slice(e.byteLength-r))):i=n.buffer,t.set(new Int8Array(i),r),r+=i.byteLength}}return r}write(e){i.Contracts.throwIfNullOrUndefined(this.privStream,"must set format before writing"),this.privStream.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()})}close(){this.privStream.close()}}t.PullAudioOutputStreamImpl=c;class l extends s{constructor(){super()}static create(e){return new u(e)}}t.PushAudioOutputStream=l;class u extends l{constructor(e){super(),this.privId=n.createNoDashGuid(),this.privCallback=e}set format(e){}write(e){this.privCallback.write&&this.privCallback.write(e)}close(){this.privCallback.close&&this.privCallback.close()}id(){return this.privId}}t.PushAudioOutputStreamImpl=u},9783:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechSynthesizer=void 0;const n=r(9859),i=r(2307),o=r(8777),s=r(7810),a=r(9709),c=r(260),l=r(8040),u=r(8021);class p extends l.Synthesizer{constructor(e,t){super(e),null!==t&&(this.audioConfig=void 0===t?"undefined"===typeof window?void 0:l.AudioConfig.fromDefaultSpeakerOutput():t),this.privConnectionFactory=new n.SpeechSynthesisConnectionFactory,this.implCommonSynthesizeSetup()}static FromConfig(e,t,r){const n=e;return t.properties.mergeTo(n.properties),new p(e,r)}speakTextAsync(e,t,r,n){this.speakImpl(e,!1,t,r,n)}speakSsmlAsync(e,t,r,n){this.speakImpl(e,!0,t,r,n)}async getVoicesAsync(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.getVoices(e)}close(e,t){c.Contracts.throwIfDisposed(this.privDisposed),i.marshalPromiseToCallbacks(this.dispose(!0),e,t)}get internalData(){return this.privAdapter}createSynthesisAdapter(e,t,r){return new n.SpeechSynthesisAdapter(e,t,r,this,this.audioConfig)}createRestSynthesisAdapter(e,t){return new n.SynthesisRestAdapter(t,e)}implCommonSynthesizeSetup(){super.implCommonSynthesizeSetup(),this.privAdapter.audioOutputFormat=s.AudioOutputFormatImpl.fromSpeechSynthesisOutputFormat(l.SpeechSynthesisOutputFormat[this.properties.getProperty(l.PropertyId.SpeechServiceConnection_SynthOutputFormat,void 0)])}speakImpl(e,t,r,n,s){try{c.Contracts.throwIfDisposed(this.privDisposed);const p=i.createNoDashGuid();let d;d=s instanceof l.PushAudioOutputStreamCallback?new a.PushAudioOutputStreamImpl(s):s instanceof l.PullAudioOutputStream?s:void 0!==s?new o.AudioFileWriter(s):void 0,this.synthesisRequestQueue.enqueue(new u.SynthesisRequest(p,e,t,(e=>{if(this.privSynthesizing=!1,r)try{r(e)}catch(e){n&&n(e)}r=void 0,this.adapterSpeak().catch((()=>{}))}),(e=>{n&&n(e)}),d)),this.adapterSpeak().catch((()=>{}))}catch(p){if(n)if(p instanceof Error){const e=p;n(e.name+": "+e.message)}else n(p);this.dispose(!0).catch((()=>{}))}}async getVoices(e){const t=i.createNoDashGuid(),r=await this.privRestAdapter.getVoicesList(t);if(r.ok&&Array.isArray(r.json)){let n=r.json;return e&&e.length>0&&(n=n.filter((t=>!!t.Locale&&t.Locale.toLowerCase()===e.toLowerCase()))),new l.SynthesisVoicesResult(t,n,void 0)}return new l.SynthesisVoicesResult(t,void 0,`Error: ${r.status}: ${r.statusText}`)}}t.SpeechSynthesizer=p},9818:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeakerRecognitionCancellationDetails=t.SpeakerRecognitionResult=t.SpeakerRecognitionResultType=void 0;const n=r(9859),i=r(8040);var o;!function(e){e[e.Verify=0]="Verify",e[e.Identify=1]="Identify"}(o=t.SpeakerRecognitionResultType||(t.SpeakerRecognitionResultType={}));t.SpeakerRecognitionResult=class{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.ResultReason.RecognizedSpeaker,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.CancellationErrorCode.NoError,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";this.privProperties=new i.PropertyCollection;const a="TextIndependentIdentification"===e.scenario?o.Identify:o.Verify;this.privReason=t,this.privReason!==i.ResultReason.Canceled?a===o.Identify?(this.privProfileId=e.identificationResult.identifiedProfile.profileId,this.privScore=e.identificationResult.identifiedProfile.score,this.privReason=i.ResultReason.RecognizedSpeakers):(this.privScore=e.verificationResult.score,"accept"!==e.verificationResult.recognitionResult.toLowerCase()&&(this.privReason=i.ResultReason.NoMatch),void 0!==e.verificationResult.profileId&&""!==e.verificationResult.profileId&&(this.privProfileId=e.verificationResult.profileId)):(this.privErrorDetails=s,this.privProperties.setProperty(n.CancellationErrorCodePropertyName,i.CancellationErrorCode[r])),this.privProperties.setProperty(i.PropertyId.SpeechServiceResponse_JsonResult,JSON.stringify(e))}get properties(){return this.privProperties}get reason(){return this.privReason}get profileId(){return this.privProfileId}get errorDetails(){return this.privErrorDetails}get score(){return this.privScore}};class s extends i.CancellationDetailsBase{constructor(e,t,r){super(e,t,r)}static fromResult(e){const t=i.CancellationReason.Error;let r=i.CancellationErrorCode.NoError;return e.properties&&(r=i.CancellationErrorCode[e.properties.getProperty(n.CancellationErrorCodePropertyName,i.CancellationErrorCode[i.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,r)}}t.SpeakerRecognitionCancellationDetails=s},9853:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SpeechContext=void 0;t.SpeechContext=class{constructor(e){this.privContext={},this.privDynamicGrammar=e}getSection(e){return this.privContext[e]||{}}setSection(e,t){this.privContext[e]=t}setPronunciationAssessmentParams(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];void 0===this.privContext.phraseDetection&&(this.privContext.phraseDetection={enrichment:{pronunciationAssessment:{}}}),void 0===this.privContext.phraseDetection.enrichment&&(this.privContext.phraseDetection.enrichment={pronunciationAssessment:{}}),this.privContext.phraseDetection.enrichment.pronunciationAssessment=JSON.parse(e),r&&(this.privContext.phraseDetection.mode="Conversation"),this.setWordLevelTimings(),this.privContext.phraseOutput.detailed.options.push("PronunciationAssessment"),-1===this.privContext.phraseOutput.detailed.options.indexOf("SNR")&&this.privContext.phraseOutput.detailed.options.push("SNR"),t&&(this.privContext.phraseDetection.enrichment.contentAssessment={topic:t},this.privContext.phraseOutput.detailed.options.push("ContentAssessment"))}setDetailedOutputFormat(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed"}setWordLevelTimings(){void 0===this.privContext.phraseOutput&&(this.privContext.phraseOutput={detailed:{options:[]},format:{}}),void 0===this.privContext.phraseOutput.detailed&&(this.privContext.phraseOutput.detailed={options:[]}),this.privContext.phraseOutput.format="Detailed",-1===this.privContext.phraseOutput.detailed.options.indexOf("WordTimings")&&this.privContext.phraseOutput.detailed.options.push("WordTimings")}setSpeakerDiarizationAudioOffsetMs(e){this.privContext.phraseDetection.speakerDiarization.audioOffsetMs=e}toJSON(){const e=this.privDynamicGrammar.generateGrammarObject();this.setSection("dgi",e);return JSON.stringify(this.privContext)}}},9859:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||t.hasOwnProperty(r)||n(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguagesOpenRangeOptionName=t.ForceDictationPropertyName=t.ServicePropertiesPropertyName=t.CancellationErrorCodePropertyName=t.OutputFormatPropertyName=void 0,i(r(2070),t),i(r(7487),t),i(r(7339),t),i(r(7961),t),i(r(9135),t),i(r(4920),t),i(r(482),t),i(r(4142),t),i(r(8096),t),i(r(8588),t),i(r(6518),t),i(r(9173),t),i(r(3444),t),i(r(9252),t),i(r(4554),t),i(r(3505),t),i(r(2433),t),i(r(3344),t),i(r(3356),t),i(r(9502),t),i(r(3260),t),i(r(4261),t),i(r(1974),t),i(r(1086),t),i(r(6710),t),i(r(6702),t),i(r(8073),t),i(r(5007),t),i(r(1632),t),i(r(4183),t),i(r(3337),t),i(r(6391),t),i(r(3355),t),i(r(8243),t),i(r(2259),t),i(r(8162),t),i(r(3525),t),i(r(9853),t),i(r(4149),t),i(r(2696),t),i(r(5200),t),i(r(5619),t),i(r(2080),t),i(r(4543),t),i(r(1953),t),i(r(4526),t);var o=r(9290);Object.defineProperty(t,"AvatarSynthesisAdapter",{enumerable:!0,get:function(){return o.AvatarSynthesisAdapter}});var s=r(8705);Object.defineProperty(t,"SpeechSynthesisAdapter",{enumerable:!0,get:function(){return s.SpeechSynthesisAdapter}}),i(r(3309),t),i(r(8960),t),i(r(4855),t),i(r(4436),t),i(r(7544),t),i(r(8557),t),i(r(4863),t),t.OutputFormatPropertyName="OutputFormat",t.CancellationErrorCodePropertyName="CancellationErrorCode",t.ServicePropertiesPropertyName="ServiceProperties",t.ForceDictationPropertyName="ForceDictation",t.AutoDetectSourceLanguagesOpenRangeOptionName="UND"},9862:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackgroundEvent=void 0;const n=r(2307);class i extends n.PlatformEvent{constructor(e){super("BackgroundEvent",n.EventType.Error),this.privError=e}get error(){return this.privError}}t.BackgroundEvent=i},9868:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileAudioSource=void 0;const n=r(9859),i=r(2307),o=r(4175);t.FileAudioSource=class{constructor(e,t,r){this.privStreams={},this.privHeaderEnd=44,this.privId=r||i.createNoDashGuid(),this.privEvents=new i.EventSource,this.privSource=e,"undefined"!==typeof window&&"undefined"!==typeof Blob&&this.privSource instanceof Blob?this.privFilename=e.name:this.privFilename=t||"unknown.wav",this.privAudioFormatPromise=this.readHeader()}get format(){return this.privAudioFormatPromise}turnOn(){if(this.privFilename.lastIndexOf(".wav")!==this.privFilename.length-4){const e=this.privFilename+" is not supported. Only WAVE files are allowed at the moment.";return this.onEvent(new i.AudioSourceErrorEvent(e,"")),Promise.reject(e)}this.onEvent(new i.AudioSourceInitializingEvent(this.privId)),this.onEvent(new i.AudioSourceReadyEvent(this.privId))}id(){return this.privId}async attach(e){this.onEvent(new i.AudioStreamNodeAttachingEvent(this.privId,e));const t=await this.upload(e);return this.onEvent(new i.AudioStreamNodeAttachedEvent(this.privId,e)),Promise.resolve({detach:async()=>{t.readEnded(),delete this.privStreams[e],this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)),await this.turnOff()},id:()=>e,read:()=>t.read()})}detach(e){e&&this.privStreams[e]&&(this.privStreams[e].close(),delete this.privStreams[e],this.onEvent(new i.AudioStreamNodeDetachedEvent(this.privId,e)))}turnOff(){for(const e in this.privStreams)if(e){const t=this.privStreams[e];t&&!t.isClosed&&t.close()}return this.onEvent(new i.AudioSourceOffEvent(this.privId)),Promise.resolve()}get events(){return this.privEvents}get deviceInfo(){return this.privAudioFormatPromise.then((e=>Promise.resolve({bitspersample:e.bitsPerSample,channelcount:e.channels,connectivity:n.connectivity.Unknown,manufacturer:"Speech SDK",model:"File",samplerate:e.samplesPerSec,type:n.type.File})))}readHeader(){const e=this.privSource.slice(0,4296),t=new i.Deferred,r=e=>{const r=new DataView(e),n=e=>String.fromCharCode(r.getUint8(e),r.getUint8(e+1),r.getUint8(e+2),r.getUint8(e+3));if("RIFF"!==n(0))return void t.reject("Invalid WAV header in file, RIFF was not found");if("WAVE"!==n(8)||"fmt "!==n(12))return void t.reject("Invalid WAV header in file, WAVEfmt was not found");const i=r.getInt32(16,!0),s=r.getUint16(22,!0),a=r.getUint32(24,!0),c=r.getUint16(34,!0);let l=36+Math.max(i-16,0);for(;"data"!==n(l);l+=2)if(l>4288)return void t.reject("Invalid WAV header in file, data block was not found");this.privHeaderEnd=l+8,t.resolve(o.AudioStreamFormat.getWaveFormatPCM(a,c,s))};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&e instanceof Blob){const t=new FileReader;t.onload=e=>{const t=e.target.result;r(t)},t.readAsArrayBuffer(e)}else{const t=e;r(t.buffer.slice(t.byteOffset,t.byteOffset+t.byteLength))}return t.promise}async upload(e){const t=t=>{const r=`Error occurred while processing '${this.privFilename}'. ${t}`;throw this.onEvent(new i.AudioStreamNodeErrorEvent(this.privId,e,r)),new Error(r)};try{await this.turnOn();const r=await this.privAudioFormatPromise,n=new i.ChunkedArrayBufferStream(r.avgBytesPerSec/10,e);this.privStreams[e]=n;const o=this.privSource.slice(this.privHeaderEnd),s=e=>{n.isClosed||(n.writeStreamChunk({buffer:e,isEnd:!1,timeReceived:Date.now()}),n.close())};if("undefined"!==typeof window&&"undefined"!==typeof Blob&&o instanceof Blob){const e=new FileReader;e.onerror=e=>t(e.toString()),e.onload=e=>{const t=e.target.result;s(t)},e.readAsArrayBuffer(o)}else{const e=o;s(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}return n}catch(r){t(r)}}onEvent(e){this.privEvents.onEvent(e),i.Events.instance.onEvent(e)}}},9941:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VoiceProfileCancellationDetails=t.VoiceProfileResult=void 0;const n=r(9859),i=r(260),o=r(8040);t.VoiceProfileResult=class{constructor(e,t){this.privReason=e,this.privProperties=new o.PropertyCollection,e===o.ResultReason.Canceled&&(i.Contracts.throwIfNullOrUndefined(t,"statusText"),this.privErrorDetails=t,this.privProperties.setProperty(n.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.ServiceError]))}get reason(){return this.privReason}get properties(){return this.privProperties}get errorDetails(){return this.privErrorDetails}};class s extends o.CancellationDetailsBase{constructor(e,t,r){super(e,t,r)}static fromResult(e){const t=o.CancellationReason.Error;let r=o.CancellationErrorCode.NoError;return e.properties&&(r=o.CancellationErrorCode[e.properties.getProperty(n.CancellationErrorCodePropertyName,o.CancellationErrorCode[o.CancellationErrorCode.NoError])]),new s(t,e.errorDetails,r)}}t.VoiceProfileCancellationDetails=s},9973:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9982:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutoDetectSourceLanguageConfig=void 0;const n=r(9859),i=r(260),o=r(8040),s=r(9531);class a{constructor(){this.privProperties=new o.PropertyCollection,this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart"),this.privLanguageIdMode=s.LanguageIdMode.AtStart}static fromOpenRange(){const e=new a;return e.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,n.AutoDetectSourceLanguagesOpenRangeOptionName),e}static fromLanguages(e){i.Contracts.throwIfArrayEmptyOrWhitespace(e,"languages");const t=new a;return t.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,e.join()),t}static fromSourceLanguageConfigs(e){if(e.length<1)throw new Error("Expected non-empty SourceLanguageConfig array.");const t=new a,r=[];return e.forEach((e=>{if(r.push(e.language),void 0!==e.endpointId&&""!==e.endpointId){const r=e.language+o.PropertyId.SpeechServiceConnection_EndpointId.toString();t.properties.setProperty(r,e.endpointId)}})),t.properties.setProperty(o.PropertyId.SpeechServiceConnection_AutoDetectSourceLanguages,r.join()),t}get properties(){return this.privProperties}set mode(e){e===s.LanguageIdMode.Continuous?(this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"2"),this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"Continuous")):(this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_RecognitionEndpointVersion,"1"),this.privProperties.setProperty(o.PropertyId.SpeechServiceConnection_LanguageIdMode,"AtStart")),this.privLanguageIdMode=e}}t.AutoDetectSourceLanguageConfig=a}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var o=t[n]={exports:{}};return e[n].call(o.exports,o,o.exports,r),o.exports}r.m=e,r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".04ca8eb7.chunk.js",r.miniCssF=e=>{},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="hospital-app:";r.l=(n,i,o,s)=>{if(e[n])e[n].push(i);else{var a,c;if(void 0!==o)for(var l=document.getElementsByTagName("script"),u=0;u<l.length;u++){var p=l[u];if(p.getAttribute("src")==n||p.getAttribute("data-webpack")==t+o){a=p;break}}a||(c=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,r.nc&&a.setAttribute("nonce",r.nc),a.setAttribute("data-webpack",t+o),a.src=n),e[n]=[i];var d=(t,r)=>{a.onerror=a.onload=null,clearTimeout(h);var i=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(r))),t)return t(r)},h=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),c&&document.head.appendChild(a)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var i=r.o(e,t)?e[t]:void 0;if(0!==i)if(i)n.push(i[2]);else{var o=new Promise(((r,n)=>i=e[t]=[r,n]));n.push(i[2]=o);var s=r.p+r.u(t),a=new Error;r.l(s,(n=>{if(r.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var o=n&&("load"===n.type?"missing":n.type),s=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,i[1](a)}}),"chunk-"+t,t)}};var t=(t,n)=>{var i,o,s=n[0],a=n[1],c=n[2],l=0;if(s.some((t=>0!==e[t]))){for(i in a)r.o(a,i)&&(r.m[i]=a[i]);if(c)c(r)}for(t&&t(n);l<s.length;l++)o=s[l],r.o(e,o)&&e[o]&&e[o][0](),e[o]=0},n=self.webpackChunkhospital_app=self.webpackChunkhospital_app||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),(()=>{"use strict";var e={};r.r(e),r.d(e,{hasBrowserEnv:()=>Nn,hasStandardBrowserEnv:()=>Dn,hasStandardBrowserWebWorkerEnv:()=>_n,navigator:()=>Mn,origin:()=>zn});var t=r(5043),n=r(4391),i=(r(4358),"popstate");function o(){return d((function(e,t){let{pathname:r,search:n,hash:i}=e.location;return l("",{pathname:r,search:n,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:u(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function s(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function a(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function c(e,t){return{usr:e.state,key:e.key,idx:t}}function l(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,n=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?p(t):t,state:r,key:t&&t.key||n||Math.random().toString(36).substring(2,10)}}function u(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function p(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substring(r),e=e.substring(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substring(n),e=e.substring(0,n)),e&&(t.pathname=e)}return t}function d(e,t,r){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:o=document.defaultView,v5Compat:a=!1}=n,p=o.history,d="POP",h=null,v=f();function f(){return(p.state||{idx:null}).idx}function g(){d="POP";let e=f(),t=null==e?null:e-v;v=e,h&&h({action:d,location:y.location,delta:t})}function m(e){let t="null"!==o.location.origin?o.location.origin:o.location.href,r="string"===typeof e?e:u(e);return r=r.replace(/ $/,"%20"),s(t,`No window.location.(origin|href) available to create URL for href: ${r}`),new URL(r,t)}null==v&&(v=0,p.replaceState({...p.state,idx:v},""));let y={get action(){return d},get location(){return e(o,p)},listen(e){if(h)throw new Error("A history only accepts one active listener");return o.addEventListener(i,g),h=e,()=>{o.removeEventListener(i,g),h=null}},createHref:e=>t(o,e),createURL:m,encodeLocation(e){let t=m(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){d="PUSH";let n=l(y.location,e,t);r&&r(n,e),v=f()+1;let i=c(n,v),s=y.createHref(n);try{p.pushState(i,"",s)}catch(u){if(u instanceof DOMException&&"DataCloneError"===u.name)throw u;o.location.assign(s)}a&&h&&h({action:d,location:y.location,delta:1})},replace:function(e,t){d="REPLACE";let n=l(y.location,e,t);r&&r(n,e),v=f();let i=c(n,v),o=y.createHref(n);p.replaceState(i,"",o),a&&h&&h({action:d,location:y.location,delta:0})},go:e=>p.go(e)};return y}new WeakMap;function h(e,t){return v(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function v(e,t,r,n){let i=x(("string"===typeof t?p(t):t).pathname||"/",r);if(null==i)return null;let o=f(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(o);let s=null;for(let a=0;null==s&&a<o.length;++a){let e=T(i);s=I(o[a],e,n)}return s}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,o)=>{let a={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(s(a.relativePath.startsWith(n),`Absolute route path "${a.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),a.relativePath=a.relativePath.slice(n.length));let c=M([n,a.relativePath]),l=r.concat(a);e.children&&e.children.length>0&&(s(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),f(e.children,t,l,c)),(null!=e.path||e.index)&&t.push({path:c,score:R(c,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let r of g(e.path))i(e,t,r);else i(e,t)})),t}function g(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,i=r.endsWith("?"),o=r.replace(/\?$/,"");if(0===n.length)return i?[o,""]:[o];let s=g(n.join("/")),a=[];return a.push(...s.map((e=>""===e?o:[o,e].join("/")))),i&&a.push(...s),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var m=/^:[\w-]+$/,y=3,S=2,C=1,b=10,P=-2,w=e=>"*"===e;function R(e,t){let r=e.split("/"),n=r.length;return r.some(w)&&(n+=P),t&&(n+=S),r.filter((e=>!w(e))).reduce(((e,t)=>e+(m.test(t)?y:""===t?C:b)),n)}function I(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:n}=e,i={},o="/",s=[];for(let a=0;a<n.length;++a){let e=n[a],c=a===n.length-1,l="/"===o?t:t.slice(o.length)||"/",u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:c},l),p=e.route;if(!u&&c&&r&&!n[n.length-1].route.index&&(u=E({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},l)),!u)return null;Object.assign(i,u.params),s.push({params:i,pathname:M([o,u.pathname]),pathnameBase:D(M([o,u.pathnameBase])),route:p}),"/"!==u.pathnameBase&&(o=M([o,u.pathnameBase]))}return s}function E(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];a("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let n=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let o=new RegExp(i,t?void 0:"i");return[o,n]}(e.path,e.caseSensitive,e.end),i=t.match(r);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:i}=t;if("*"===n){let e=c[r]||"";s=o.slice(0,o.length-e.length).replace(/(.)\/+$/,"$1")}const a=c[r];return e[n]=i&&!a?void 0:(a||"").replace(/%2F/g,"/"),e}),{}),pathname:o,pathnameBase:s,pattern:e}}function T(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return a(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),e}}function x(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function A(e,t,r,n){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function O(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function k(e){let t=O(e);return t.map(((e,r)=>r===t.length-1?e.pathname:e.pathnameBase))}function N(e,t,r){let n,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?n=p(e):(n={...e},s(!n.pathname||!n.pathname.includes("?"),A("?","pathname","search",n)),s(!n.pathname||!n.pathname.includes("#"),A("#","pathname","hash",n)),s(!n.search||!n.search.includes("#"),A("#","search","hash",n)));let o,a=""===e||""===n.pathname,c=a?"/":n.pathname;if(null==c)o=r;else{let e=t.length-1;if(!i&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;n.pathname=t.join("/")}o=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:r,search:n="",hash:i=""}="string"===typeof e?p(e):e,o=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:o,search:_(n),hash:z(i)}}(n,o),u=c&&"/"!==c&&c.endsWith("/"),d=(a||"."===c)&&r.endsWith("/");return l.pathname.endsWith("/")||!u&&!d||(l.pathname+="/"),l}var M=e=>e.join("/").replace(/\/\/+/g,"/"),D=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),_=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",z=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function L(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var j=["POST","PUT","PATCH","DELETE"],F=(new Set(j),["GET",...j]);new Set(F),Symbol("ResetLoaderData");var B=t.createContext(null);B.displayName="DataRouter";var U=t.createContext(null);U.displayName="DataRouterState";var q=t.createContext({isTransitioning:!1});q.displayName="ViewTransition";var W=t.createContext(new Map);W.displayName="Fetchers";var H=t.createContext(null);H.displayName="Await";var V=t.createContext(null);V.displayName="Navigation";var K=t.createContext(null);K.displayName="Location";var J=t.createContext({outlet:null,matches:[],isDataRoute:!1});J.displayName="Route";var $=t.createContext(null);$.displayName="RouteError";function G(){return null!=t.useContext(K)}function Q(){return s(G(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(K).location}var Y="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function X(e){t.useContext(V).static||t.useLayoutEffect(e)}function Z(){let{isDataRoute:e}=t.useContext(J);return e?function(){let{router:e}=ce("useNavigate"),r=ue("useNavigate"),n=t.useRef(!1);X((()=>{n.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a(n.current,Y),n.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:r,...i}))}),[e,r]);return i}():function(){s(G(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(B),{basename:r,navigator:n}=t.useContext(V),{matches:i}=t.useContext(J),{pathname:o}=Q(),c=JSON.stringify(k(i)),l=t.useRef(!1);X((()=>{l.current=!0}));let u=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(a(l.current,Y),!l.current)return;if("number"===typeof t)return void n.go(t);let s=N(t,JSON.parse(c),o,"path"===i.relative);null==e&&"/"!==r&&(s.pathname="/"===s.pathname?r:M([r,s.pathname])),(i.replace?n.replace:n.push)(s,i.state,i)}),[r,n,c,o,e]);return u}()}t.createContext(null);function ee(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=t.useContext(J),{pathname:i}=Q(),o=JSON.stringify(k(n));return t.useMemo((()=>N(e,JSON.parse(o),i,"path"===r)),[e,o,i,r])}function te(e,r,n,i){s(G(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o,static:c}=t.useContext(V),{matches:l}=t.useContext(J),u=l[l.length-1],d=u?u.params:{},v=u?u.pathname:"/",f=u?u.pathnameBase:"/",g=u&&u.route;{let e=g&&g.path||"";he(v,!g||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${v}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let m,y=Q();if(r){let e="string"===typeof r?p(r):r;s("/"===f||e.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${e.pathname}" was given in the \`location\` prop.`),m=e}else m=y;let S=m.pathname||"/",C=S;if("/"!==f){let e=f.replace(/^\//,"").split("/");C="/"+S.replace(/^\//,"").split("/").slice(e.length).join("/")}let b=!c&&n&&n.matches&&n.matches.length>0?n.matches:h(e,{pathname:C});a(g||null!=b,`No routes matched location "${m.pathname}${m.search}${m.hash}" `),a(null==b||void 0!==b[b.length-1].route.element||void 0!==b[b.length-1].route.Component||void 0!==b[b.length-1].route.lazy,`Matched leaf route at location "${m.pathname}${m.search}${m.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let P=se(b&&b.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:M([f,o.encodeLocation?o.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?f:M([f,o.encodeLocation?o.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,i);return r&&P?t.createElement(K.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...m},navigationType:"POP"}},P):P}function re(){let e=pe(),r=L(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:i},s={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:s},"ErrorBoundary")," or"," ",t.createElement("code",{style:s},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},r),n?t.createElement("pre",{style:o},n):null,a)}var ne=t.createElement(re,null),ie=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(J.Provider,{value:this.props.routeContext},t.createElement($.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function oe(e){let{routeContext:r,match:n,children:i}=e,o=t.useContext(B);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),t.createElement(J.Provider,{value:r},i)}function se(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==r.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let i=e,o=n?.errors;if(null!=o){let e=i.findIndex((e=>e.route.id&&void 0!==o?.[e.route.id]));s(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let a=!1,c=-1;if(n)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(c=t),e.route.id){let{loaderData:t,errors:r}=n,o=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!r||void 0===r[e.route.id]);if(e.route.lazy||o){a=!0,i=c>=0?i.slice(0,c+1):[i[0]];break}}}return i.reduceRight(((e,s,l)=>{let u,p=!1,d=null,h=null;n&&(u=o&&s.route.id?o[s.route.id]:void 0,d=s.route.errorElement||ne,a&&(c<0&&0===l?(he("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,h=null):c===l&&(p=!0,h=s.route.hydrateFallbackElement||null)));let v=r.concat(i.slice(0,l+1)),f=()=>{let r;return r=u?d:p?h:s.route.Component?t.createElement(s.route.Component,null):s.route.element?s.route.element:e,t.createElement(oe,{match:s,routeContext:{outlet:e,matches:v,isDataRoute:null!=n},children:r})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===l)?t.createElement(ie,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):f()}),null)}function ae(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ce(e){let r=t.useContext(B);return s(r,ae(e)),r}function le(e){let r=t.useContext(U);return s(r,ae(e)),r}function ue(e){let r=function(e){let r=t.useContext(J);return s(r,ae(e)),r}(e),n=r.matches[r.matches.length-1];return s(n.route.id,`${e} can only be used on routes that contain a unique "id"`),n.route.id}function pe(){let e=t.useContext($),r=le("useRouteError"),n=ue("useRouteError");return void 0!==e?e:r.errors?.[n]}var de={};function he(e,t,r){t||de[e]||(de[e]=!0,a(!1,r))}t.memo((function(e){let{routes:t,future:r,state:n}=e;return te(t,void 0,n,r)}));function ve(e){let{to:r,replace:n,state:i,relative:o}=e;s(G(),"<Navigate> may be used only in the context of a <Router> component.");let{static:c}=t.useContext(V);a(!c,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:l}=t.useContext(J),{pathname:u}=Q(),p=Z(),d=N(r,k(l),u,"path"===o),h=JSON.stringify(d);return t.useEffect((()=>{p(JSON.parse(h),{replace:n,state:i,relative:o})}),[p,h,o,n,i]),null}function fe(e){s(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function ge(e){let{basename:r="/",children:n=null,location:i,navigationType:o="POP",navigator:c,static:l=!1}=e;s(!G(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let u=r.replace(/^\/*/,"/"),d=t.useMemo((()=>({basename:u,navigator:c,static:l,future:{}})),[u,c,l]);"string"===typeof i&&(i=p(i));let{pathname:h="/",search:v="",hash:f="",state:g=null,key:m="default"}=i,y=t.useMemo((()=>{let e=x(h,u);return null==e?null:{location:{pathname:e,search:v,hash:f,state:g,key:m},navigationType:o}}),[u,h,v,f,g,m,o]);return a(null!=y,`<Router basename="${u}"> is not able to match the URL "${h}${v}${f}" because it does not start with the basename, so the <Router> won't render anything.`),null==y?null:t.createElement(V.Provider,{value:d},t.createElement(K.Provider,{children:n,value:y}))}function me(e){let{children:t,location:r}=e;return te(ye(t),r)}t.Component;function ye(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let o=[...r,i];if(e.type===t.Fragment)return void n.push.apply(n,ye(e.props.children,o));s(e.type===fe,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),s(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||o.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=ye(e.props.children,o)),n.push(a)})),n}var Se="get",Ce="application/x-www-form-urlencoded";function be(e){return null!=e&&"string"===typeof e.tagName}var Pe=null;var we=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Re(e){return null==e||we.has(e)?e:(a(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ce}"`),null)}function Ie(e,t){let r,n,i,o,s;if(be(a=e)&&"form"===a.tagName.toLowerCase()){let s=e.getAttribute("action");n=s?x(s,t):null,r=e.getAttribute("method")||Se,i=Re(e.getAttribute("enctype"))||Ce,o=new FormData(e)}else if(function(e){return be(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return be(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let s=e.form;if(null==s)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||s.getAttribute("action");if(n=a?x(a,t):null,r=e.getAttribute("formmethod")||s.getAttribute("method")||Se,i=Re(e.getAttribute("formenctype"))||Re(s.getAttribute("enctype"))||Ce,o=new FormData(s,e),!function(){if(null===Pe)try{new FormData(document.createElement("form"),0),Pe=!1}catch(e){Pe=!0}return Pe}()){let{name:t,type:r,value:n}=e;if("image"===r){let e=t?`${t}.`:"";o.append(`${e}x`,"0"),o.append(`${e}y`,"0")}else t&&o.append(t,n)}}else{if(be(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Se,n=null,i=Ce,s=e}var a;return o&&"text/plain"===i&&(s=o,o=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:o,body:s}}function Ee(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Te(e,t){if(e.id in t)return t[e.id];try{let r=await import(e.module);return t[e.id]=r,r}catch(r){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function xe(e){return null!=e&&"string"===typeof e.page}function Ae(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Oe(e,t,r,n,i,o){let s=(e,t)=>!r[t]||e.route.id!==r[t].route.id,a=(e,t)=>r[t].pathname!==e.pathname||r[t].route.path?.endsWith("*")&&r[t].params["*"]!==e.params["*"];return"assets"===o?t.filter(((e,t)=>s(e,t)||a(e,t))):"data"===o?t.filter(((t,o)=>{let c=n.routes[t.route.id];if(!c||!c.hasLoader)return!1;if(s(t,o)||a(t,o))return!0;if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof n)return n}return!0})):[]}function ke(e,t){let{includeHydrateFallback:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let i=[n.module];return n.clientActionModule&&(i=i.concat(n.clientActionModule)),n.clientLoaderModule&&(i=i.concat(n.clientLoaderModule)),r&&n.hydrateFallbackModule&&(i=i.concat(n.hydrateFallbackModule)),n.imports&&(i=i.concat(n.imports)),i})).flat(1),[...new Set(n)];var n}function Ne(e,t){let r=new Set,n=new Set(t);return e.reduce(((e,i)=>{if(t&&!xe(i)&&"script"===i.as&&i.href&&n.has(i.href))return e;let o=JSON.stringify(function(e){let t={},r=Object.keys(e).sort();for(let n of r)t[n]=e[n];return t}(i));return r.has(o)||(r.add(o),e.push({key:o,link:i})),e}),[])}function Me(e){return{__html:e}}Symbol("SingleFetchRedirect");function De(e,t){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.data":t&&"/"===x(r.pathname,t)?r.pathname=`${t.replace(/\/$/,"")}/_root.data`:r.pathname=`${r.pathname.replace(/\/$/,"")}.data`,r}t.Component;function _e(e){let{error:r,isOutsideRemixApp:n}=e;console.error(r);let i,o=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if(L(r))return t.createElement(ze,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},r.status," ",r.statusText),o);if(r instanceof Error)0;else{let e=null==r?"Unknown Error":"object"===typeof r&&"toString"in r?r.toString():JSON.stringify(r);new Error(e)}return t.createElement(ze,{title:"Application Error!",isOutsideRemixApp:n},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),o)}function ze(e){let{title:r,renderScripts:n,isOutsideRemixApp:i,children:o}=e,{routeModules:s}=Ue();return s.root?.Layout&&!i?o:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},o,n?t.createElement($e,null):null)))}function Le(e){return!0===e}function je(){let e=t.useContext(B);return Ee(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Fe(){let e=t.useContext(U);return Ee(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Be=t.createContext(void 0);function Ue(){let e=t.useContext(Be);return Ee(e,"You must render this element inside a <HydratedRouter> element"),e}function qe(e,t){return r=>{e&&e(r),r.defaultPrevented||t(r)}}function We(e,t,r){if(r&&!Je)return[e[0]];if(t){let r=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,r+1)}return e}function He(e){let{page:r,...n}=e,{router:i}=je(),o=t.useMemo((()=>h(i.routes,r,i.basename)),[i.routes,r,i.basename]);return o?t.createElement(Ke,{page:r,matches:o,...n}):null}function Ve(e){let{manifest:r,routeModules:n}=Ue(),[i,o]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,r){let n=await Promise.all(e.map((async e=>{let n=t.routes[e.route.id];if(n){let e=await Te(n,r);return e.links?e.links():[]}return[]})));return Ne(n.flat(1).filter(Ae).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,r,n).then((e=>{t||o(e)})),()=>{t=!0}}),[e,r,n]),i}function Ke(e){let{page:r,matches:n,...i}=e,o=Q(),{manifest:s,routeModules:a}=Ue(),{basename:c}=je(),{loaderData:l,matches:u}=Fe(),p=t.useMemo((()=>Oe(r,n,u,s,o,"data")),[r,n,u,s,o]),d=t.useMemo((()=>Oe(r,n,u,s,o,"assets")),[r,n,u,s,o]),h=t.useMemo((()=>{if(r===o.pathname+o.search+o.hash)return[];let e=new Set,t=!1;if(n.forEach((r=>{let n=s.routes[r.route.id];n&&n.hasLoader&&(!p.some((e=>e.route.id===r.route.id))&&r.route.id in l&&a[r.route.id]?.shouldRevalidate||n.hasClientLoader?t=!0:e.add(r.route.id))})),0===e.size)return[];let i=De(r,c);return t&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,l,o,s,p,n,r,a]),v=t.useMemo((()=>ke(d,s)),[d,s]),f=Ve(d);return t.createElement(t.Fragment,null,h.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),v.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),f.map((e=>{let{key:r,link:n}=e;return t.createElement("link",{key:r,...n})})))}Be.displayName="FrameworkContext";var Je=!1;function $e(e){let{manifest:r,serverHandoffString:n,isSpaMode:i,ssr:o,renderMeta:s}=Ue(),{router:a,static:c,staticContext:l}=je(),{matches:u}=Fe(),p=Le(o);s&&(s.didRenderScripts=!0);let d=We(u,null,i);t.useEffect((()=>{0}),[]);let v=t.useMemo((()=>{let i=l?`window.__reactRouterContext = ${n};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",o=c?`${r.hmr?.runtime?`import ${JSON.stringify(r.hmr.runtime)};`:""}${p?"":`import ${JSON.stringify(r.url)}`};\n${d.map(((e,t)=>{let n=`route${t}`,i=r.routes[e.route.id];Ee(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:o,clientLoaderModule:s,clientMiddlewareModule:a,hydrateFallbackModule:c,module:l}=i,u=[...o?[{module:o,varName:`${n}_clientAction`}]:[],...s?[{module:s,varName:`${n}_clientLoader`}]:[],...a?[{module:a,varName:`${n}_clientMiddleware`}]:[],...c?[{module:c,varName:`${n}_HydrateFallback`}]:[],{module:l,varName:`${n}_main`}];return 1===u.length?`import * as ${n} from ${JSON.stringify(l)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${n} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${p?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:r,...n}=e,i=new Set(t.state.matches.map((e=>e.route.id))),o=t.state.location.pathname.split("/").filter(Boolean),s=["/"];for(o.pop();o.length>0;)s.push(`/${o.join("/")}`),o.pop();s.forEach((e=>{let r=h(t.routes,e,t.basename);r&&r.forEach((e=>i.add(e.route.id)))}));let a=[...i].reduce(((e,t)=>Object.assign(e,{[t]:n.routes[t]})),{});return{...n,routes:a,sri:!!r||void 0}}(r,a),null,2)};`:""}\n  window.__reactRouterRouteModules = {${d.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(r.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Me(o),type:"module",async:!0}))}),[]),f=Je?[]:(r.entry.imports.concat(ke(d,r,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let m="object"===typeof r.sri?r.sri:{};return Je?null:t.createElement(t.Fragment,null,"object"===typeof r.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:m})}}):null,p?null:t.createElement("link",{rel:"modulepreload",href:r.url,crossOrigin:e.crossOrigin,integrity:m[r.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:r.entry.module,crossOrigin:e.crossOrigin,integrity:m[r.entry.module],suppressHydrationWarning:!0}),f.map((r=>t.createElement("link",{key:r,rel:"modulepreload",href:r,crossOrigin:e.crossOrigin,integrity:m[r],suppressHydrationWarning:!0}))),v)}function Ge(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var Qe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{Qe&&(window.__reactRouterVersion="7.5.0")}catch(Xi){}function Ye(e){let{basename:r,children:n,window:i}=e,s=t.useRef();null==s.current&&(s.current=o({window:i,v5Compat:!0}));let a=s.current,[c,l]=t.useState({action:a.action,location:a.location}),u=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>a.listen(u)),[a,u]),t.createElement(ge,{basename:r,children:n,location:c.location,navigationType:c.action,navigator:a})}var Xe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=t.forwardRef((function(e,r){let n,{onClick:i,discover:o="render",prefetch:c="none",relative:l,reloadDocument:p,replace:d,state:h,target:v,to:f,preventScrollReset:g,viewTransition:m,...y}=e,{basename:S}=t.useContext(V),C="string"===typeof f&&Xe.test(f),b=!1;if("string"===typeof f&&C&&(n=f,Qe))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),r=x(t.pathname,S);t.origin===e.origin&&null!=r?f=r+t.search+t.hash:b=!0}catch(Xi){a(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let P=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s(G(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:i}=t.useContext(V),{hash:o,pathname:a,search:c}=ee(e,{relative:r}),l=a;return"/"!==n&&(l="/"===a?n:M([n,a])),i.createHref({pathname:l,search:c,hash:o})}(f,{relative:l}),[w,R,I]=function(e,r){let n=t.useContext(Be),[i,o]=t.useState(!1),[s,a]=t.useState(!1),{onFocus:c,onBlur:l,onMouseEnter:u,onMouseLeave:p,onTouchStart:d}=r,h=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return h.current&&e.observe(h.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let v=()=>{o(!0)},f=()=>{o(!1),a(!1)};return n?"intent"!==e?[s,h,{}]:[s,h,{onFocus:qe(c,v),onBlur:qe(l,f),onMouseEnter:qe(u,v),onMouseLeave:qe(p,f),onTouchStart:qe(d,v)}]:[!1,h,{}]}(c,y),E=function(e){let{target:r,replace:n,state:i,preventScrollReset:o,relative:s,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},c=Z(),l=Q(),p=ee(e,{relative:s});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:u(l)===u(p);c(e,{replace:r,state:i,preventScrollReset:o,relative:s,viewTransition:a})}}),[l,c,p,n,i,r,e,o,s,a])}(f,{replace:d,state:h,target:v,preventScrollReset:g,relative:l,viewTransition:m});let T=t.createElement("a",{...y,...I,href:n||P,onClick:b||p?i:function(e){i&&i(e),e.defaultPrevented||E(e)},ref:Ge(r,R),target:v,"data-discover":C||"render"!==o?void 0:"true"});return w&&!C?t.createElement(t.Fragment,null,T,t.createElement(He,{page:P})):T}));Ze.displayName="Link",t.forwardRef((function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:o="",end:a=!1,style:c,to:l,viewTransition:u,children:p,...d}=e,h=ee(l,{relative:d.relative}),v=Q(),f=t.useContext(U),{navigator:g,basename:m}=t.useContext(V),y=null!=f&&function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.useContext(q);s(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=rt("useViewTransitionState"),o=ee(e,{relative:r.relative});if(!n.isTransitioning)return!1;let a=x(n.currentLocation.pathname,i)||n.currentLocation.pathname,c=x(n.nextLocation.pathname,i)||n.nextLocation.pathname;return null!=E(o.pathname,c)||null!=E(o.pathname,a)}(h)&&!0===u,S=g.encodeLocation?g.encodeLocation(h).pathname:h.pathname,C=v.pathname,b=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;i||(C=C.toLowerCase(),b=b?b.toLowerCase():null,S=S.toLowerCase()),b&&m&&(b=x(b,m)||b);const P="/"!==S&&S.endsWith("/")?S.length-1:S.length;let w,R=C===S||!a&&C.startsWith(S)&&"/"===C.charAt(P),I=null!=b&&(b===S||!a&&b.startsWith(S)&&"/"===b.charAt(S.length)),T={isActive:R,isPending:I,isTransitioning:y},A=R?n:void 0;w="function"===typeof o?o(T):[o,R?"active":null,I?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let O="function"===typeof c?c(T):c;return t.createElement(Ze,{...d,"aria-current":A,className:w,ref:r,style:O,to:l,viewTransition:u},"function"===typeof p?p(T):p)})).displayName="NavLink";var et=t.forwardRef(((e,r)=>{let{discover:n="render",fetcherKey:i,navigate:o,reloadDocument:a,replace:c,state:l,method:p=Se,action:d,onSubmit:h,relative:v,preventScrollReset:f,viewTransition:g,...m}=e,y=ot(),S=function(e){let{relative:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=t.useContext(V),i=t.useContext(J);s(i,"useFormAction must be used inside a RouteContext");let[o]=i.matches.slice(-1),a={...ee(e||".",{relative:r})},c=Q();if(null==e){a.search=c.search;let e=new URLSearchParams(a.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let r=e.toString();a.search=r?`?${r}`:""}}e&&"."!==e||!o.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:M([n,a.pathname]));return u(a)}(d,{relative:v}),C="get"===p.toLowerCase()?"get":"post",b="string"===typeof d&&Xe.test(d);return t.createElement("form",{ref:r,method:C,action:S,onSubmit:a?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,r=t?.getAttribute("formmethod")||p;y(t||e.currentTarget,{fetcherKey:i,method:r,navigate:o,replace:c,state:l,relative:v,preventScrollReset:f,viewTransition:g})},...m,"data-discover":b||"render"!==n?void 0:"true"})}));function tt(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rt(e){let r=t.useContext(B);return s(r,tt(e)),r}et.displayName="Form";var nt=0,it=()=>`__${String(++nt)}__`;function ot(){let{router:e}=rt("useSubmit"),{basename:r}=t.useContext(V),n=ue("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:o,method:s,encType:a,formData:c,body:l}=Ie(t,r);if(!1===i.navigate){let t=i.fetcherKey||it();await e.fetch(t,n,i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||o,{preventScrollReset:i.preventScrollReset,formData:c,body:l,formMethod:i.method||s,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,r,n])}new TextEncoder;var st=r(579);const at=function(){const e=Q(),t=t=>e.pathname===t?"border-blue-500 text-gray-900":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700";return(0,st.jsx)("nav",{className:"bg-white shadow",children:(0,st.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,st.jsx)("div",{className:"flex justify-between h-16",children:(0,st.jsxs)("div",{className:"flex",children:[(0,st.jsx)("div",{className:"flex-shrink-0 flex items-center",children:(0,st.jsx)(Ze,{to:"/",className:"text-xl font-bold text-blue-600",children:"Hospital Management"})}),(0,st.jsxs)("div",{className:"hidden sm:ml-6 sm:flex sm:space-x-8",children:[(0,st.jsx)(Ze,{to:"/doctor-dashboard",className:`${t("/doctor-dashboard")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Doctor Dashboard"}),(0,st.jsx)(Ze,{to:"/patient-dashboard",className:`${t("/patient-dashboard")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Patient Dashboard"}),(0,st.jsx)(Ze,{to:"/appointments",className:`${t("/appointments")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Appointments"}),(0,st.jsx)(Ze,{to:"/patients",className:`${t("/patients")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Patients"}),(0,st.jsx)(Ze,{to:"/medical-records",className:`${t("/medical-records")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Medical Records"}),(0,st.jsx)(Ze,{to:"/prescriptions",className:`${t("/prescriptions")} inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium`,children:"Prescriptions"})]})]})})})})},ct={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function lt(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const ut={date:lt({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:lt({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:lt({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},pt={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function dt(e){return(t,r)=>{let n;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,i=r?.width?String(r.width):t;n=e.formattingValues[i]||e.formattingValues[t]}else{const t=e.defaultWidth,i=r?.width?String(r.width):e.defaultWidth;n=e.values[i]||e.values[t]}return n[e.argumentCallback?e.argumentCallback(t):t]}}function ht(e){return function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r.width,i=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],o=t.match(i);if(!o)return null;const s=o[0],a=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(a)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r;return}(a,(e=>e.test(s))):function(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r;return}(a,(e=>e.test(s)));let l;l=e.valueCallback?e.valueCallback(c):c,l=r.valueCallback?r.valueCallback(l):l;return{value:l,rest:t.slice(s.length)}}}var vt;const ft={code:"en-US",formatDistance:(e,t,r)=>{let n;const i=ct[e];return n="string"===typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n},formatLong:ut,formatRelative:(e,t,r,n)=>pt[e],localize:{ordinalNumber:(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:dt({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:dt({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:dt({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:dt({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:dt({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})},match:{ordinalNumber:(vt={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=e.match(vt.matchPattern);if(!r)return null;const n=r[0],i=e.match(vt.parsePattern);if(!i)return null;let o=vt.valueCallback?vt.valueCallback(i[0]):i[0];return o=t.valueCallback?t.valueCallback(o):o,{value:o,rest:e.slice(n.length)}}),era:ht({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:ht({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:ht({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:ht({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:ht({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};let gt={};function mt(){return gt}Math.pow(10,8);const yt=6048e5,St=6e4,Ct=36e5,bt=Symbol.for("constructDateFrom");function Pt(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&bt in e?e[bt](t):e instanceof Date?new e.constructor(t):new Date(t)}function wt(e,t){return Pt(t||e,e)}function Rt(e){const t=wt(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function It(e,t){const r=wt(e,t?.in);return r.setHours(0,0,0,0),r}function Et(e,t,r){const[n,i]=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];const i=Pt.bind(null,e||r.find((e=>"object"===typeof e)));return r.map(i)}(r?.in,e,t),o=It(n),s=It(i),a=+o-Rt(o),c=+s-Rt(s);return Math.round((a-c)/864e5)}function Tt(e,t){const r=wt(e,t?.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function xt(e,t){const r=wt(e,t?.in);return Et(r,Tt(r))+1}function At(e,t){const r=mt(),n=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,i=wt(e,t?.in),o=i.getDay(),s=(o<n?7:0)+o-n;return i.setDate(i.getDate()-s),i.setHours(0,0,0,0),i}function Ot(e,t){return At(e,{...t,weekStartsOn:1})}function kt(e,t){const r=wt(e,t?.in),n=r.getFullYear(),i=Pt(r,0);i.setFullYear(n+1,0,4),i.setHours(0,0,0,0);const o=Ot(i),s=Pt(r,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Ot(s);return r.getTime()>=o.getTime()?n+1:r.getTime()>=a.getTime()?n:n-1}function Nt(e,t){const r=kt(e,t),n=Pt(t?.in||e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Ot(n)}function Mt(e,t){const r=wt(e,t?.in),n=+Ot(r)-+Nt(r);return Math.round(n/yt)+1}function Dt(e,t){const r=wt(e,t?.in),n=r.getFullYear(),i=mt(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,s=Pt(t?.in||e,0);s.setFullYear(n+1,0,o),s.setHours(0,0,0,0);const a=At(s,t),c=Pt(t?.in||e,0);c.setFullYear(n,0,o),c.setHours(0,0,0,0);const l=At(c,t);return+r>=+a?n+1:+r>=+l?n:n-1}function _t(e,t){const r=mt(),n=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=Dt(e,t),o=Pt(t?.in||e,0);o.setFullYear(i,0,n),o.setHours(0,0,0,0);return At(o,t)}function zt(e,t){const r=wt(e,t?.in),n=+At(r,t)-+_t(r,t);return Math.round(n/yt)+1}function Lt(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const jt={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return Lt("yy"===t?n%100:n,t.length)},M(e,t){const r=e.getMonth();return"M"===t?String(r+1):Lt(r+1,2)},d:(e,t)=>Lt(e.getDate(),t.length),a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];default:return"am"===r?"a.m.":"p.m."}},h:(e,t)=>Lt(e.getHours()%12||12,t.length),H:(e,t)=>Lt(e.getHours(),t.length),m:(e,t)=>Lt(e.getMinutes(),t.length),s:(e,t)=>Lt(e.getSeconds(),t.length),S(e,t){const r=t.length,n=e.getMilliseconds();return Lt(Math.trunc(n*Math.pow(10,r-3)),t.length)}},Ft="midnight",Bt="noon",Ut="morning",qt="afternoon",Wt="evening",Ht="night",Vt={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if("yo"===t){const t=e.getFullYear(),n=t>0?t:1-t;return r.ordinalNumber(n,{unit:"year"})}return jt.y(e,t)},Y:function(e,t,r,n){const i=Dt(e,n),o=i>0?i:1-i;if("YY"===t){return Lt(o%100,2)}return"Yo"===t?r.ordinalNumber(o,{unit:"year"}):Lt(o,t.length)},R:function(e,t){return Lt(kt(e),t.length)},u:function(e,t){return Lt(e.getFullYear(),t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return Lt(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return Lt(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return jt.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return Lt(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const i=zt(e,n);return"wo"===t?r.ordinalNumber(i,{unit:"week"}):Lt(i,t.length)},I:function(e,t,r){const n=Mt(e);return"Io"===t?r.ordinalNumber(n,{unit:"week"}):Lt(n,t.length)},d:function(e,t,r){return"do"===t?r.ordinalNumber(e.getDate(),{unit:"date"}):jt.d(e,t)},D:function(e,t,r){const n=xt(e);return"Do"===t?r.ordinalNumber(n,{unit:"dayOfYear"}):Lt(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return Lt(o,2);case"eo":return r.ordinalNumber(o,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const i=e.getDay(),o=(i-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return Lt(o,t.length);case"co":return r.ordinalNumber(o,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),i=0===n?7:n;switch(t){case"i":return String(i);case"ii":return Lt(i,t.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(n,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(n,{width:"narrow",context:"formatting"});default:return r.dayPeriod(n,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let i;switch(i=12===n?Bt:0===n?Ft:n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let i;switch(i=n>=17?Wt:n>=12?qt:n>=4?Ut:Ht,t){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,r){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),r.ordinalNumber(t,{unit:"hour"})}return jt.h(e,t)},H:function(e,t,r){return"Ho"===t?r.ordinalNumber(e.getHours(),{unit:"hour"}):jt.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return"Ko"===t?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},k:function(e,t,r){let n=e.getHours();return 0===n&&(n=24),"ko"===t?r.ordinalNumber(n,{unit:"hour"}):Lt(n,t.length)},m:function(e,t,r){return"mo"===t?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):jt.m(e,t)},s:function(e,t,r){return"so"===t?r.ordinalNumber(e.getSeconds(),{unit:"second"}):jt.s(e,t)},S:function(e,t){return jt.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(0===n)return"Z";switch(t){case"X":return Jt(n);case"XXXX":case"XX":return $t(n);default:return $t(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return Jt(n);case"xxxx":case"xx":return $t(n);default:return $t(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Kt(n,":");default:return"GMT"+$t(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Kt(n,":");default:return"GMT"+$t(n,":")}},t:function(e,t,r){return Lt(Math.trunc(+e/1e3),t.length)},T:function(e,t,r){return Lt(+e,t.length)}};function Kt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e),i=Math.trunc(n/60),o=n%60;return 0===o?r+String(i):r+String(i)+t+Lt(o,2)}function Jt(e,t){if(e%60===0){return(e>0?"-":"+")+Lt(Math.abs(e)/60,2)}return $t(e,t)}function $t(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const r=e>0?"-":"+",n=Math.abs(e);return r+Lt(Math.trunc(n/60),2)+t+Lt(n%60,2)}const Gt=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},Qt=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},Yt={p:Qt,P:(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return Gt(e,t);let o;switch(n){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;default:o=t.dateTime({width:"full"})}return o.replace("{{date}}",Gt(n,t)).replace("{{time}}",Qt(i,t))}},Xt=/^D+$/,Zt=/^Y+$/,er=["D","DD","YY","YYYY"];function tr(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function rr(e){return!(!tr(e)&&"number"!==typeof e||isNaN(+wt(e)))}const nr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ir=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,or=/^'([^]*?)'?$/,sr=/''/g,ar=/[a-zA-Z]/;function cr(e,t,r){const n=mt(),i=r?.locale??n.locale??ft,o=r?.firstWeekContainsDate??r?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,s=r?.weekStartsOn??r?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,a=wt(e,r?.in);if(!rr(a))throw new RangeError("Invalid time value");let c=t.match(ir).map((e=>{const t=e[0];if("p"===t||"P"===t){return(0,Yt[t])(e,i.formatLong)}return e})).join("").match(nr).map((e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:lr(e)};if(Vt[t])return{isToken:!0,value:e};if(t.match(ar))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));i.localize.preprocessor&&(c=i.localize.preprocessor(a,c));const l={firstWeekContainsDate:o,weekStartsOn:s,locale:i};return c.map((n=>{if(!n.isToken)return n.value;const o=n.value;(!r?.useAdditionalWeekYearTokens&&function(e){return Zt.test(e)}(o)||!r?.useAdditionalDayOfYearTokens&&function(e){return Xt.test(e)}(o))&&function(e,t,r){const n=function(e,t,r){const n="Y"===e[0]?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}(e,t,r);if(console.warn(n),er.includes(e))throw new RangeError(n)}(o,t,String(e));return(0,Vt[o[0]])(a,o,i.localize,l)})).join("")}function lr(e){const t=e.match(or);return t?t[1].replace(sr,"'"):e}function ur(e,t){const r=()=>Pt(t?.in,NaN),n=t?.additionalDigits??2,i=function(e){const t={},r=e.split(pr.dateTimeDelimiter);let n;if(r.length>2)return t;/:/.test(r[0])?n=r[0]:(t.date=r[0],n=r[1],pr.timeZoneDelimiter.test(t.date)&&(t.date=e.split(pr.timeZoneDelimiter)[0],n=e.substr(t.date.length,e.length)));if(n){const e=pr.timezone.exec(n);e?(t.time=n.replace(e[1],""),t.timezone=e[1]):t.time=n}return t}(e);let o;if(i.date){const e=function(e,t){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),n=e.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,o=n[2]?parseInt(n[2]):null;return{year:null===o?i:100*o,restDateString:e.slice((n[1]||n[2]).length)}}(i.date,n);o=function(e,t){if(null===t)return new Date(NaN);const r=e.match(dr);if(!r)return new Date(NaN);const n=!!r[4],i=fr(r[1]),o=fr(r[2])-1,s=fr(r[3]),a=fr(r[4]),c=fr(r[5])-1;if(n)return function(e,t,r){return t>=1&&t<=53&&r>=0&&r<=6}(0,a,c)?function(e,t,r){const n=new Date(0);n.setUTCFullYear(e,0,4);const i=n.getUTCDay()||7,o=7*(t-1)+r+1-i;return n.setUTCDate(n.getUTCDate()+o),n}(t,a,c):new Date(NaN);{const e=new Date(0);return function(e,t,r){return t>=0&&t<=11&&r>=1&&r<=(mr[t]||(yr(e)?29:28))}(t,o,s)&&function(e,t){return t>=1&&t<=(yr(e)?366:365)}(t,i)?(e.setUTCFullYear(t,o,Math.max(i,s)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!o||isNaN(+o))return r();const s=+o;let a,c=0;if(i.time&&(c=function(e){const t=e.match(hr);if(!t)return NaN;const r=gr(t[1]),n=gr(t[2]),i=gr(t[3]);if(!function(e,t,r){if(24===e)return 0===t&&0===r;return r>=0&&r<60&&t>=0&&t<60&&e>=0&&e<25}(r,n,i))return NaN;return r*Ct+n*St+1e3*i}(i.time),isNaN(c)))return r();if(!i.timezone){const e=new Date(s+c),r=wt(0,t?.in);return r.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),r.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),r}return a=function(e){if("Z"===e)return 0;const t=e.match(vr);if(!t)return 0;const r="+"===t[1]?-1:1,n=parseInt(t[2]),i=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,i))return NaN;return r*(n*Ct+i*St)}(i.timezone),isNaN(a)?r():wt(s+c+a,t?.in)}const pr={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dr=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,hr=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,vr=/^([+-])(\d{2})(?::?(\d{2}))?$/;function fr(e){return e?parseInt(e):1}function gr(e){return e&&parseFloat(e.replace(",","."))||0}const mr=[31,null,31,30,31,30,31,31,30,31,30,31];function yr(e){return e%400===0||e%4===0&&e%100!==0}function Sr(e,t){return+wt(e)===+wt(t)}const Cr=function(e){let{appointments:r=[]}=e;const[n,i]=(0,t.useState)(new Date),o=(s=n,r.filter((e=>{const t=ur(e.date);return Sr(new Date(s.getFullYear(),s.getMonth(),s.getDate()),new Date(t.getFullYear(),t.getMonth(),t.getDate()))})));var s;return(0,st.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,st.jsxs)("div",{className:"mb-4",children:[(0,st.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700",children:"Select Date"}),(0,st.jsx)("input",{type:"date",id:"date",value:(e=>cr(e,"yyyy-MM-dd"))(n),onChange:e=>i(new Date(e.target.value)),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),(0,st.jsxs)("div",{className:"mt-6",children:[(0,st.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Appointments for ",cr(n,"MMMM d, yyyy")]}),0===o.length?(0,st.jsx)("p",{className:"mt-2 text-gray-500",children:"No appointments scheduled for this date."}):(0,st.jsx)("ul",{className:"mt-4 space-y-4",children:o.map((e=>(0,st.jsx)("li",{className:"bg-gray-50 p-4 rounded-md border border-gray-200",children:(0,st.jsxs)("div",{className:"flex justify-between items-start",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("h4",{className:"text-base font-medium text-gray-900",children:e.patientName}),(0,st.jsxs)("p",{className:"mt-1 text-sm text-gray-500",children:["Time: ",cr(ur(e.date),"h:mm a")]}),(0,st.jsxs)("p",{className:"text-sm text-gray-500",children:["Purpose: ",e.purpose]})]}),(0,st.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded "+("confirmed"===e.status?"bg-green-100 text-green-800":"pending"===e.status?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:e.status})]})},e.id)))})]})]})};const br=function(){const e=[{id:1,patientName:"John Doe",doctorName:"Smith",date:(new Date).toISOString().split("T")[0],time:"10:00 AM",duration:"30min",reason:"General Checkup"},{id:2,patientName:"Jane Smith",doctorName:"Johnson",date:(new Date).toISOString().split("T")[0],time:"2:30 PM",duration:"45min",reason:"Follow-up"}],t=e.filter((e=>e.date===(new Date).toISOString().split("T")[0]));return(0,st.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:(0,st.jsxs)("div",{className:"px-4 py-6 sm:px-0",children:[(0,st.jsxs)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-3 mb-8",children:[(0,st.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,st.jsx)("div",{className:"p-5",children:(0,st.jsxs)("div",{className:"flex items-center",children:[(0,st.jsx)("div",{className:"flex-shrink-0",children:(0,st.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,st.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,st.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,st.jsxs)("dl",{children:[(0,st.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Appointments"}),(0,st.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:e.length})]})})]})})}),(0,st.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,st.jsx)("div",{className:"p-5",children:(0,st.jsxs)("div",{className:"flex items-center",children:[(0,st.jsx)("div",{className:"flex-shrink-0",children:(0,st.jsx)("svg",{className:"h-6 w-6 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,st.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,st.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,st.jsxs)("dl",{children:[(0,st.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Today's Appointments"}),(0,st.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:t.length})]})})]})})})]}),(0,st.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,st.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Today's Schedule"}),t.length>0?(0,st.jsx)("div",{className:"space-y-4",children:t.map((e=>(0,st.jsxs)("div",{className:"flex items-center space-x-4 p-4 bg-gray-50 rounded-lg",children:[(0,st.jsxs)("div",{className:"flex-1",children:[(0,st.jsx)("p",{className:"font-medium text-gray-900",children:e.patientName}),(0,st.jsxs)("p",{className:"text-sm text-gray-500",children:[e.time," \u2022 ",e.duration]}),(0,st.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.reason})]}),(0,st.jsxs)("div",{className:"text-right text-sm text-gray-500",children:["Dr. ",e.doctorName]})]},e.id)))}):(0,st.jsx)("p",{className:"text-gray-500",children:"No appointments scheduled for today."})]}),(0,st.jsxs)("div",{className:"bg-white shadow rounded-lg p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Calendar"}),(0,st.jsx)(Cr,{appointments:e})]})]})]})})};var Pr=r(8685);const wr=function(e){let{onSaveNote:r,patientId:n}=e;const[i,o]=(0,t.useState)(!1),[s,a]=(0,t.useState)(""),[c,l]=(0,t.useState)(""),[u,p]=(0,t.useState)(!1),d=(0,t.useRef)(null),h=()=>{d.current&&d.current.stopContinuousRecognitionAsync((()=>{o(!1),l("Recording finished")}),(e=>{console.error("Error stopping speech recognition:",e),l(`Error stopping: ${e}`),o(!1)}))};return(0,t.useEffect)((()=>()=>{d.current&&d.current.close()}),[]),(0,st.jsxs)("div",{className:"bg-white shadow rounded-lg p-5",children:[(0,st.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Voice Notes"}),(0,st.jsxs)("div",{className:"space-y-4",children:[c&&(0,st.jsx)("div",{className:"text-sm text-gray-600",children:c}),(0,st.jsx)("div",{className:"border rounded-md p-3 min-h-[150px] bg-gray-50",children:s?(0,st.jsx)("p",{className:"text-gray-800",children:s}):(0,st.jsx)("p",{className:"text-gray-400 italic",children:"Transcript will appear here..."})}),(0,st.jsxs)("div",{className:"flex flex-wrap gap-2",children:[i?(0,st.jsxs)("button",{onClick:h,className:"bg-red-600 text-white px-4 py-2 rounded-md hover:bg-red-700 flex items-center",children:[(0,st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,st.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8 7a1 1 0 00-1 1v4a1 1 0 001 1h4a1 1 0 001-1V8a1 1 0 00-1-1H8z",clipRule:"evenodd"})}),"Stop Recording"]}):(0,st.jsxs)("button",{onClick:()=>{try{l("Initializing speech services...");const e=Pr.SpeechConfig.fromSubscription("3169dff8eb2e4b899157cfcee2a68e4f","eastasia");e.speechRecognitionLanguage="en-US";const t=Pr.AudioConfig.fromDefaultMicrophoneInput(),r=new Pr.SpeechRecognizer(e,t);d.current=r,r.startContinuousRecognitionAsync((()=>{o(!0),l("Recording... Speak now")}),(e=>{console.error("Error starting speech recognition:",e),l(`Error: ${e}`),o(!1)})),r.recognized=(e,t)=>{if(1===t.result.reason){const e=t.result.text;a((t=>t+" "+e))}},r.canceled=(e,t)=>{console.log(`CANCELED: Reason=${t.reason}`),3===t.reason&&(console.log(`ERROR: ${t.errorCode} ${t.errorDetails}`),l(`Error: ${t.errorDetails}`)),h()}}catch(e){console.error("Failed to initialize speech recognition:",e),l("Failed to start recording. Please try again.")}},disabled:u,className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center",children:[(0,st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,st.jsx)("path",{fillRule:"evenodd",d:"M7 4a3 3 0 016 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 015 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})}),"Start Recording"]}),(0,st.jsx)("button",{onClick:()=>{a(""),l("Transcript cleared")},disabled:!s||i||u,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-md hover:bg-gray-300 disabled:opacity-50",children:"Clear"}),(0,st.jsx)("button",{onClick:async()=>{if(s.trim()){p(!0),l("Saving note...");try{const e={content:s.trim(),timestamp:(new Date).toISOString(),patientId:n,type:"voice"};r(e),a(""),l("Note saved successfully")}catch(e){console.error("Error saving note:",e),l("Failed to save note. Please try again.")}finally{p(!1)}}else l("Cannot save empty note")},disabled:!s||i||u,className:"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700 disabled:opacity-50 ml-auto",children:u?"Saving...":"Save Note"})]})]})]})};const Rr=function(){const[e,r]=(0,t.useState)([]),[n,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(!0),[a,c]=(0,t.useState)(null),[l,u]=(0,t.useState)(!1),[p,d]=(0,t.useState)({name:"",age:"",gender:"",condition:""});(0,t.useEffect)((()=>{setTimeout((()=>{r([{id:1,name:"John Doe",age:45,gender:"Male",email:"john.doe@example.com",phone:"555-123-4567",condition:"Hypertension",lastVisit:"2024-03-15",nextAppointment:"2024-04-01",notes:[]},{id:2,name:"Jane Smith",age:32,gender:"Female",email:"jane.smith@example.com",phone:"555-987-6543",condition:"Diabetes Type 2",lastVisit:"2024-03-18",nextAppointment:"2024-03-25",notes:[]},{id:3,name:"Michael Johnson",age:58,gender:"Male",email:"michael.j@example.com",phone:"555-456-7890",condition:"Coronary Artery Disease",lastVisit:"2024-03-10",nextAppointment:"2024-03-30",notes:[]}]),s(!1)}),1e3)}),[]);const h=e.filter((e=>e.name.toLowerCase().includes(n.toLowerCase())||e.email.toLowerCase().includes(n.toLowerCase()))),v=e=>{const{name:t,value:r}=e.target;d({...p,[t]:r})};return(0,st.jsx)("div",{className:"max-w-7xl mx-auto py-6 sm:px-6 lg:px-8",children:a?(0,st.jsxs)("div",{className:"bg-white shadow rounded-lg overflow-hidden",children:[(0,st.jsxs)("div",{className:"flex justify-between items-center p-4 border-b",children:[(0,st.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:a.name}),(0,st.jsx)("button",{onClick:()=>{c(null)},className:"text-gray-500 hover:text-gray-700",children:(0,st.jsx)("svg",{className:"h-6 w-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,st.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,st.jsxs)("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Patient Information"}),(0,st.jsxs)("div",{className:"space-y-3",children:[(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Age:"}),(0,st.jsx)("span",{children:a.age})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Gender:"}),(0,st.jsx)("span",{children:a.gender})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Email:"}),(0,st.jsx)("span",{children:a.email})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Phone:"}),(0,st.jsx)("span",{children:a.phone})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Condition:"}),(0,st.jsx)("span",{children:a.condition})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Last Visit:"}),(0,st.jsx)("span",{children:a.lastVisit})]}),(0,st.jsxs)("div",{className:"grid grid-cols-2",children:[(0,st.jsx)("span",{className:"text-gray-500",children:"Next Appointment:"}),(0,st.jsx)("span",{children:a.nextAppointment})]})]}),(0,st.jsx)("h3",{className:"text-lg font-medium text-gray-900 mt-6 mb-4",children:"Patient Notes"}),a.notes&&a.notes.length>0?(0,st.jsx)("div",{className:"space-y-3",children:a.notes.map(((e,t)=>(0,st.jsxs)("div",{className:"p-3 bg-gray-50 rounded border border-gray-200",children:[(0,st.jsx)("p",{className:"text-gray-700",children:e.content}),(0,st.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:new Date(e.timestamp).toLocaleString()})]},t)))}):(0,st.jsx)("p",{className:"text-gray-500 italic",children:"No notes recorded yet"})]}),(0,st.jsx)("div",{children:(0,st.jsx)(wr,{onSaveNote:t=>{if(a){const n=e.map((e=>{if(e.id===a.id){const r={...e,notes:[...e.notes,t]};return c(r),r}return e}));r(n)}},patientId:a.id})})]})]}):(0,st.jsxs)("div",{children:[(0,st.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,st.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patients"}),(0,st.jsxs)("div",{className:"flex space-x-4",children:[(0,st.jsxs)("div",{className:"relative",children:[(0,st.jsx)("input",{type:"text",placeholder:"Search patients...",className:"border border-gray-300 rounded-md py-2 px-4 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:n,onChange:e=>i(e.target.value)}),(0,st.jsx)("div",{className:"absolute right-3 top-2.5 text-gray-400",children:(0,st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,st.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]}),(0,st.jsxs)("button",{onClick:()=>{u(!0)},className:"bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 flex items-center",children:[(0,st.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,st.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Add Patient"]})]})]}),l&&(0,st.jsxs)("div",{className:"bg-white shadow rounded-lg p-4 mb-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Add New Patient"}),(0,st.jsxs)("form",{onSubmit:t=>{t.preventDefault();const n=e.length>0?Math.max(...e.map((e=>e.id)))+1:1,i=(new Date).toISOString().slice(0,10),o={id:n,...p,email:`${p.name.toLowerCase().replace(/\s/g,".")}@example.com`,phone:"555-000-0000",lastVisit:i,nextAppointment:i,notes:[]};r([...e,o]),d({name:"",age:"",gender:"",condition:""}),u(!1)},children:[(0,st.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Name"}),(0,st.jsx)("input",{type:"text",name:"name",value:p.name,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Age"}),(0,st.jsx)("input",{type:"number",name:"age",value:p.age,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Gender"}),(0,st.jsxs)("select",{name:"gender",value:p.gender,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0,children:[(0,st.jsx)("option",{value:"",children:"Select Gender"}),(0,st.jsx)("option",{value:"Male",children:"Male"}),(0,st.jsx)("option",{value:"Female",children:"Female"}),(0,st.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Condition"}),(0,st.jsx)("input",{type:"text",name:"condition",value:p.condition,onChange:v,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",required:!0})]})]}),(0,st.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,st.jsx)("button",{type:"button",onClick:()=>u(!1),className:"bg-gray-200 px-4 py-2 rounded-md text-gray-700 hover:bg-gray-300",children:"Cancel"}),(0,st.jsx)("button",{type:"submit",className:"bg-blue-600 px-4 py-2 rounded-md text-white hover:bg-blue-700",children:"Save Patient"})]})]})]}),o?(0,st.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,st.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,st.jsx)("div",{className:"bg-white shadow overflow-hidden rounded-lg",children:(0,st.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,st.jsx)("thead",{className:"bg-gray-50",children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Age"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gender"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Condition"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Last Visit"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,st.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map((e=>(0,st.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.name}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.age}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.gender}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.condition}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.lastVisit}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,st.jsx)("button",{onClick:()=>(e=>{c(e)})(e),className:"text-blue-600 hover:text-blue-900",children:"View Details"})})]},e.id)))})]})})]})})};const Ir=function(){const e=[{id:1,patientName:"John Doe",date:"2024-03-25",time:"9:00 AM",reason:"Annual Checkup",duration:"30min"},{id:2,patientName:"Jane Smith",date:"2024-03-25",time:"10:00 AM",reason:"Follow-up",duration:"45min"},{id:3,patientName:"Robert Johnson",date:"2024-03-26",time:"2:30 PM",reason:"Initial Consultation",duration:"60min"}];return(0,st.jsxs)("div",{className:"space-y-6",children:[(0,st.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Doctor Dashboard"}),(0,st.jsx)("div",{className:"grid grid-cols-1 gap-5 sm:grid-cols-2 lg:grid-cols-4",children:[{name:"Total Patients",stat:"48",icon:"\ud83d\udc65"},{name:"Today's Appointments",stat:"8",icon:"\ud83d\udcc5"},{name:"Pending Reports",stat:"5",icon:"\ud83d\udccb"},{name:"Total Revenue",stat:"$12,420",icon:"\ud83d\udcb0"}].map((e=>(0,st.jsx)("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:(0,st.jsx)("div",{className:"p-5",children:(0,st.jsxs)("div",{className:"flex items-center",children:[(0,st.jsx)("div",{className:"flex-shrink-0",children:(0,st.jsx)("span",{className:"text-3xl",children:e.icon})}),(0,st.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,st.jsxs)("dl",{children:[(0,st.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:e.name}),(0,st.jsx)("dd",{className:"text-lg font-semibold text-gray-900",children:e.stat})]})})]})})},e.name)))}),(0,st.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,st.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Today's Schedule"}),(0,st.jsx)("div",{className:"space-y-4",children:e.filter((e=>new Date(e.date).toDateString()===(new Date).toDateString())).map((e=>(0,st.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,st.jsxs)("div",{className:"flex justify-between items-start",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.patientName}),(0,st.jsx)("p",{className:"text-sm text-gray-500",children:e.reason})]}),(0,st.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.time})]}),(0,st.jsx)("div",{className:"mt-2 text-sm text-gray-500",children:(0,st.jsxs)("p",{children:["Duration: ",e.duration]})})]},e.id)))})]})}),(0,st.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Calendar"}),(0,st.jsx)(Cr,{appointments:e})]})}),(0,st.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Patients"}),(0,st.jsx)("div",{className:"flow-root",children:(0,st.jsx)("ul",{className:"-my-5 divide-y divide-gray-200",children:[{id:1,name:"John Doe",time:"10:00 AM",type:"Follow-up",status:"Scheduled"},{id:2,name:"Jane Smith",time:"11:30 AM",type:"New Patient",status:"In Progress"},{id:3,name:"Mike Johnson",time:"2:00 PM",type:"Consultation",status:"Completed"}].map((e=>(0,st.jsx)("li",{className:"py-4",children:(0,st.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,st.jsx)("div",{className:"flex-shrink-0",children:(0,st.jsx)("span",{className:"inline-flex items-center justify-center h-8 w-8 rounded-full bg-blue-500",children:(0,st.jsx)("span",{className:"text-sm font-medium leading-none text-white",children:e.name.charAt(0)})})}),(0,st.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,st.jsx)("p",{className:"text-sm font-medium text-gray-900 truncate",children:e.name}),(0,st.jsxs)("p",{className:"text-sm text-gray-500",children:[e.time," - ",e.type]})]}),(0,st.jsx)("div",{children:(0,st.jsx)("span",{className:`\n                          inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium\n                          ${"Completed"===e.status?"bg-green-100 text-green-800":"In Progress"===e.status?"bg-yellow-100 text-yellow-800":"bg-blue-100 text-blue-800"}\n                        `,children:e.status})})]})},e.id)))})})]})})]})]})};const Er=function(){const e=[{id:1,doctor:"Dr. Sarah Wilson",specialty:"Cardiologist",date:"2024-03-25",time:"10:00 AM",type:"Follow-up",doctorName:"Dr. Sarah Wilson"},{id:2,doctor:"Dr. Michael Brown",specialty:"General Physician",date:"2024-04-01",time:"2:30 PM",type:"Regular Checkup",doctorName:"Dr. Michael Brown"}],t=e.map((e=>({id:e.id,date:e.date,time:e.time,doctorName:e.doctor,reason:e.type,duration:"30min"})));return(0,st.jsxs)("div",{className:"space-y-6",children:[(0,st.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Patient Dashboard"}),(0,st.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,st.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Your Appointments"}),(0,st.jsx)("div",{className:"space-y-4",children:e.map((e=>(0,st.jsxs)("div",{className:"border rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,st.jsxs)("div",{className:"flex justify-between items-start",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:e.doctor}),(0,st.jsx)("p",{className:"text-sm text-gray-500",children:e.specialty})]}),(0,st.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.type})]}),(0,st.jsxs)("div",{className:"mt-2 text-sm text-gray-500",children:[(0,st.jsxs)("p",{children:["Date: ",e.date]}),(0,st.jsxs)("p",{children:["Time: ",e.time]})]})]},e.id)))})]})}),(0,st.jsx)("div",{className:"bg-white shadow rounded-lg",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Calendar"}),(0,st.jsx)(Cr,{appointments:t})]})}),(0,st.jsx)("div",{className:"bg-white shadow rounded-lg lg:col-span-2",children:(0,st.jsxs)("div",{className:"p-6",children:[(0,st.jsx)("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Prescriptions"}),(0,st.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,st.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,st.jsx)("thead",{className:"bg-gray-50",children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Medication"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Dosage"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Frequency"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Prescribed By"}),(0,st.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"})]})}),(0,st.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:[{id:1,medication:"Amoxicillin",dosage:"500mg",frequency:"Twice daily",duration:"7 days",prescribedBy:"Dr. Sarah Wilson",date:"2024-03-15"},{id:2,medication:"Lisinopril",dosage:"10mg",frequency:"Once daily",duration:"30 days",prescribedBy:"Dr. Sarah Wilson",date:"2024-03-15"}].map((e=>(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.medication}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.dosage}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.frequency}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.duration}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.prescribedBy}),(0,st.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.date})]},e.id)))})]})})]})})]})]})};const Tr=function(){return(0,st.jsxs)("div",{className:"space-y-6",children:[(0,st.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,st.jsxs)("div",{className:"sm:flex-auto",children:[(0,st.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Medical Records"}),(0,st.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"A complete history of your medical records, diagnoses, and treatments."})]}),(0,st.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,st.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:"Export Records"})})]}),(0,st.jsx)("div",{className:"mt-8 flex flex-col",children:(0,st.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,st.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,st.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,st.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,st.jsx)("thead",{className:"bg-gray-50",children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Date"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Doctor"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Diagnosis"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Treatment"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Notes"}),(0,st.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,st.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,st.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:[{id:1,date:"2024-03-15",doctor:"Dr. Sarah Wilson",diagnosis:"Hypertension",treatment:"Prescribed Lisinopril",notes:"Blood pressure: 140/90. Follow-up in 2 weeks.",attachments:"BP_Chart.pdf"},{id:2,date:"2024-02-28",doctor:"Dr. Michael Brown",diagnosis:"Upper Respiratory Infection",treatment:"Prescribed Amoxicillin",notes:"Symptoms include cough and fever. Rest recommended.",attachments:"Chest_Xray.pdf"},{id:3,date:"2024-01-15",doctor:"Dr. Sarah Wilson",diagnosis:"Annual Checkup",treatment:"No treatment required",notes:"All vitals normal. Recommended regular exercise.",attachments:"Lab_Results.pdf"}].map((e=>(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:e.date}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.doctor}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.diagnosis}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:e.treatment}),(0,st.jsx)("td",{className:"px-3 py-4 text-sm text-gray-500",children:e.notes}),(0,st.jsxs)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:[(0,st.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-4",children:"View Details"}),(0,st.jsxs)("button",{className:"text-blue-600 hover:text-blue-900",children:["Download ",e.attachments]})]})]},e.id)))})]})})})})})]})};const xr=function(){const[e,r]=(0,t.useState)("active");return(0,st.jsxs)("div",{className:"space-y-6",children:[(0,st.jsxs)("div",{className:"sm:flex sm:items-center",children:[(0,st.jsxs)("div",{className:"sm:flex-auto",children:[(0,st.jsx)("h1",{className:"text-2xl font-semibold text-gray-900",children:"Prescriptions"}),(0,st.jsx)("p",{className:"mt-2 text-sm text-gray-700",children:"View and manage your current and past prescriptions."})]}),(0,st.jsx)("div",{className:"mt-4 sm:mt-0 sm:ml-16 sm:flex-none",children:(0,st.jsx)("button",{type:"button",className:"inline-flex items-center justify-center rounded-md border border-transparent bg-blue-600 px-4 py-2 text-sm font-medium text-white shadow-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 sm:w-auto",children:"Request Refill"})})]}),(0,st.jsx)("div",{className:"border-b border-gray-200",children:(0,st.jsxs)("nav",{className:"-mb-px flex space-x-8","aria-label":"Tabs",children:[(0,st.jsx)("button",{onClick:()=>r("active"),className:`\n              ${"active"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}\n              whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium\n            `,children:"Active Prescriptions"}),(0,st.jsx)("button",{onClick:()=>r("past"),className:`\n              ${"past"===e?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700"}\n              whitespace-nowrap border-b-2 py-4 px-1 text-sm font-medium\n            `,children:"Past Prescriptions"})]})}),(0,st.jsx)("div",{className:"mt-8 flex flex-col",children:(0,st.jsx)("div",{className:"-my-2 -mx-4 overflow-x-auto sm:-mx-6 lg:-mx-8",children:(0,st.jsx)("div",{className:"inline-block min-w-full py-2 align-middle md:px-6 lg:px-8",children:(0,st.jsx)("div",{className:"overflow-hidden shadow ring-1 ring-black ring-opacity-5 md:rounded-lg",children:(0,st.jsxs)("table",{className:"min-w-full divide-y divide-gray-300",children:[(0,st.jsx)("thead",{className:"bg-gray-50",children:(0,st.jsxs)("tr",{children:[(0,st.jsx)("th",{scope:"col",className:"py-3.5 pl-4 pr-3 text-left text-sm font-semibold text-gray-900 sm:pl-6",children:"Medication"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Dosage"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Frequency"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Start Date"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"End Date"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Prescribed By"}),(0,st.jsx)("th",{scope:"col",className:"px-3 py-3.5 text-left text-sm font-semibold text-gray-900",children:"Refills"}),(0,st.jsx)("th",{scope:"col",className:"relative py-3.5 pl-3 pr-4 sm:pr-6",children:(0,st.jsx)("span",{className:"sr-only",children:"Actions"})})]})}),(0,st.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:{active:[{id:1,medication:"Lisinopril",dosage:"10mg",frequency:"Once daily",startDate:"2024-03-15",endDate:"2024-04-15",prescribedBy:"Dr. Sarah Wilson",status:"Active",refills:2},{id:2,medication:"Metformin",dosage:"500mg",frequency:"Twice daily",startDate:"2024-03-10",endDate:"2024-04-10",prescribedBy:"Dr. Michael Brown",status:"Active",refills:3}],past:[{id:3,medication:"Amoxicillin",dosage:"500mg",frequency:"Three times daily",startDate:"2024-02-01",endDate:"2024-02-08",prescribedBy:"Dr. Sarah Wilson",status:"Completed",refills:0},{id:4,medication:"Ibuprofen",dosage:"400mg",frequency:"As needed",startDate:"2024-01-15",endDate:"2024-01-22",prescribedBy:"Dr. Michael Brown",status:"Completed",refills:0}]}[e].map((t=>(0,st.jsxs)("tr",{children:[(0,st.jsx)("td",{className:"whitespace-nowrap py-4 pl-4 pr-3 text-sm font-medium text-gray-900 sm:pl-6",children:t.medication}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.dosage}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.frequency}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.startDate}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.endDate}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.prescribedBy}),(0,st.jsx)("td",{className:"whitespace-nowrap px-3 py-4 text-sm text-gray-500",children:t.refills}),(0,st.jsx)("td",{className:"relative whitespace-nowrap py-4 pl-3 pr-4 text-right text-sm font-medium sm:pr-6",children:"active"===e&&(0,st.jsx)("button",{className:"text-blue-600 hover:text-blue-900",children:"Request Refill"})})]},t.id)))})]})})})})})]})};function Ar(e,t){return function(){return e.apply(t,arguments)}}const{toString:Or}=Object.prototype,{getPrototypeOf:kr}=Object,Nr=(Mr=Object.create(null),e=>{const t=Or.call(e);return Mr[t]||(Mr[t]=t.slice(8,-1).toLowerCase())});var Mr;const Dr=e=>(e=e.toLowerCase(),t=>Nr(t)===e),_r=e=>t=>typeof t===e,{isArray:zr}=Array,Lr=_r("undefined");const jr=Dr("ArrayBuffer");const Fr=_r("string"),Br=_r("function"),Ur=_r("number"),qr=e=>null!==e&&"object"===typeof e,Wr=e=>{if("object"!==Nr(e))return!1;const t=kr(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},Hr=Dr("Date"),Vr=Dr("File"),Kr=Dr("Blob"),Jr=Dr("FileList"),$r=Dr("URLSearchParams"),[Gr,Qr,Yr,Xr]=["ReadableStream","Request","Response","Headers"].map(Dr);function Zr(e,t){let r,n,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),zr(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=i?Object.getOwnPropertyNames(e):Object.keys(e),o=n.length;let s;for(r=0;r<o;r++)s=n[r],t.call(null,e[s],s,e)}}function en(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,i=r.length;for(;i-- >0;)if(n=r[i],t===n.toLowerCase())return n;return null}const tn="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,rn=e=>!Lr(e)&&e!==tn;const nn=(on="undefined"!==typeof Uint8Array&&kr(Uint8Array),e=>on&&e instanceof on);var on;const sn=Dr("HTMLFormElement"),an=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),cn=Dr("RegExp"),ln=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Zr(r,((r,i)=>{let o;!1!==(o=t(r,i,e))&&(n[i]=o||r)})),Object.defineProperties(e,n)};const un=Dr("AsyncFunction"),pn=((e,t)=>{return e?setImmediate:t?(r=`axios@${Math.random()}`,n=[],tn.addEventListener("message",(e=>{let{source:t,data:i}=e;t===tn&&i===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),tn.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,Br(tn.postMessage)),dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(tn):"undefined"!==typeof process&&process.nextTick||pn,hn={isArray:zr,isArrayBuffer:jr,isBuffer:function(e){return null!==e&&!Lr(e)&&null!==e.constructor&&!Lr(e.constructor)&&Br(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Br(e.append)&&("formdata"===(t=Nr(e))||"object"===t&&Br(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&jr(e.buffer),t},isString:Fr,isNumber:Ur,isBoolean:e=>!0===e||!1===e,isObject:qr,isPlainObject:Wr,isReadableStream:Gr,isRequest:Qr,isResponse:Yr,isHeaders:Xr,isUndefined:Lr,isDate:Hr,isFile:Vr,isBlob:Kr,isRegExp:cn,isFunction:Br,isStream:e=>qr(e)&&Br(e.pipe),isURLSearchParams:$r,isTypedArray:nn,isFileList:Jr,forEach:Zr,merge:function e(){const{caseless:t}=rn(this)&&this||{},r={},n=(n,i)=>{const o=t&&en(r,i)||i;Wr(r[o])&&Wr(n)?r[o]=e(r[o],n):Wr(n)?r[o]=e({},n):zr(n)?r[o]=n.slice():r[o]=n};for(let i=0,o=arguments.length;i<o;i++)arguments[i]&&Zr(arguments[i],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Zr(t,((t,n)=>{r&&Br(t)?e[n]=Ar(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let i,o,s;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),o=i.length;o-- >0;)s=i[o],n&&!n(s,e,t)||a[s]||(t[s]=e[s],a[s]=!0);e=!1!==r&&kr(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:Nr,kindOfTest:Dr,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(zr(e))return e;let t=e.length;if(!Ur(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:sn,hasOwnProperty:an,hasOwnProp:an,reduceDescriptors:ln,freezeMethods:e=>{ln(e,((t,r)=>{if(Br(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];Br(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return zr(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:en,global:tn,isContextDefined:rn,isSpecCompliantForm:function(e){return!!(e&&Br(e.append)&&"FormData"===e[Symbol.toStringTag]&&e[Symbol.iterator])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(qr(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const i=zr(e)?[]:{};return Zr(e,((e,t)=>{const o=r(e,n+1);!Lr(o)&&(i[t]=o)})),t[n]=void 0,i}}return e};return r(e,0)},isAsyncFn:un,isThenable:e=>e&&(qr(e)||Br(e))&&Br(e.then)&&Br(e.catch),setImmediate:pn,asap:dn};function vn(e,t,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}hn.inherits(vn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:hn.toJSONObject(this.config),code:this.code,status:this.status}}});const fn=vn.prototype,gn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{gn[e]={value:e}})),Object.defineProperties(vn,gn),Object.defineProperty(fn,"isAxiosError",{value:!0}),vn.from=(e,t,r,n,i,o)=>{const s=Object.create(fn);return hn.toFlatObject(e,s,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),vn.call(s,e.message,t,r,n,i),s.cause=e,s.name=e.name,o&&Object.assign(s,o),s};const mn=vn;function yn(e){return hn.isPlainObject(e)||hn.isArray(e)}function Sn(e){return hn.endsWith(e,"[]")?e.slice(0,-2):e}function Cn(e,t,r){return e?e.concat(t).map((function(e,t){return e=Sn(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const bn=hn.toFlatObject(hn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Pn=function(e,t,r){if(!hn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=hn.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!hn.isUndefined(t[e])}))).metaTokens,i=r.visitor||l,o=r.dots,s=r.indexes,a=(r.Blob||"undefined"!==typeof Blob&&Blob)&&hn.isSpecCompliantForm(t);if(!hn.isFunction(i))throw new TypeError("visitor must be a function");function c(e){if(null===e)return"";if(hn.isDate(e))return e.toISOString();if(!a&&hn.isBlob(e))throw new mn("Blob is not supported. Use a Buffer instead.");return hn.isArrayBuffer(e)||hn.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function l(e,r,i){let a=e;if(e&&!i&&"object"===typeof e)if(hn.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(hn.isArray(e)&&function(e){return hn.isArray(e)&&!e.some(yn)}(e)||(hn.isFileList(e)||hn.endsWith(r,"[]"))&&(a=hn.toArray(e)))return r=Sn(r),a.forEach((function(e,n){!hn.isUndefined(e)&&null!==e&&t.append(!0===s?Cn([r],n,o):null===s?r:r+"[]",c(e))})),!1;return!!yn(e)||(t.append(Cn(i,r,o),c(e)),!1)}const u=[],p=Object.assign(bn,{defaultVisitor:l,convertValue:c,isVisitable:yn});if(!hn.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!hn.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),hn.forEach(r,(function(r,o){!0===(!(hn.isUndefined(r)||null===r)&&i.call(t,r,hn.isString(o)?o.trim():o,n,p))&&e(r,n?n.concat(o):[o])})),u.pop()}}(e),t};function wn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Rn(e,t){this._pairs=[],e&&Pn(e,this,t)}const In=Rn.prototype;In.append=function(e,t){this._pairs.push([e,t])},In.toString=function(e){const t=e?function(t){return e.call(this,t,wn)}:wn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const En=Rn;function Tn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xn(e,t,r){if(!t)return e;const n=r&&r.encode||Tn;hn.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let o;if(o=i?i(t,r):hn.isURLSearchParams(t)?t.toString():new En(t,r).toString(n),o){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}const An=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){hn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},On={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},kn={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:En,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Nn="undefined"!==typeof window&&"undefined"!==typeof document,Mn="object"===typeof navigator&&navigator||void 0,Dn=Nn&&(!Mn||["ReactNative","NativeScript","NS"].indexOf(Mn.product)<0),_n="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,zn=Nn&&window.location.href||"http://localhost",Ln={...e,...kn};const jn=function(e){function t(e,r,n,i){let o=e[i++];if("__proto__"===o)return!0;const s=Number.isFinite(+o),a=i>=e.length;if(o=!o&&hn.isArray(n)?n.length:o,a)return hn.hasOwnProp(n,o)?n[o]=[n[o],r]:n[o]=r,!s;n[o]&&hn.isObject(n[o])||(n[o]=[]);return t(e,r,n[o],i)&&hn.isArray(n[o])&&(n[o]=function(e){const t={},r=Object.keys(e);let n;const i=r.length;let o;for(n=0;n<i;n++)o=r[n],t[o]=e[o];return t}(n[o])),!s}if(hn.isFormData(e)&&hn.isFunction(e.entries)){const r={};return hn.forEachEntry(e,((e,n)=>{t(function(e){return hn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const Fn={transitional:On,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,i=hn.isObject(e);i&&hn.isHTMLForm(e)&&(e=new FormData(e));if(hn.isFormData(e))return n?JSON.stringify(jn(e)):e;if(hn.isArrayBuffer(e)||hn.isBuffer(e)||hn.isStream(e)||hn.isFile(e)||hn.isBlob(e)||hn.isReadableStream(e))return e;if(hn.isArrayBufferView(e))return e.buffer;if(hn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Pn(e,new Ln.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return Ln.isNode&&hn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((o=hn.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Pn(o?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||n?(t.setContentType("application/json",!1),function(e,t,r){if(hn.isString(e))try{return(t||JSON.parse)(e),hn.trim(e)}catch(Xi){if("SyntaxError"!==Xi.name)throw Xi}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Fn.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(hn.isResponse(e)||hn.isReadableStream(e))return e;if(e&&hn.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Xi){if(r){if("SyntaxError"===Xi.name)throw mn.from(Xi,mn.ERR_BAD_RESPONSE,this,null,this.response);throw Xi}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ln.classes.FormData,Blob:Ln.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};hn.forEach(["delete","get","head","post","put","patch"],(e=>{Fn.headers[e]={}}));const Bn=Fn,Un=hn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),qn=Symbol("internals");function Wn(e){return e&&String(e).trim().toLowerCase()}function Hn(e){return!1===e||null==e?e:hn.isArray(e)?e.map(Hn):String(e)}function Vn(e,t,r,n,i){return hn.isFunction(n)?n.call(this,t,r):(i&&(t=r),hn.isString(t)?hn.isString(n)?-1!==t.indexOf(n):hn.isRegExp(n)?n.test(t):void 0:void 0)}class Kn{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function i(e,t,r){const i=Wn(t);if(!i)throw new Error("header name must be a non-empty string");const o=hn.findKey(n,i);(!o||void 0===n[o]||!0===r||void 0===r&&!1!==n[o])&&(n[o||t]=Hn(e))}const o=(e,t)=>hn.forEach(e,((e,r)=>i(e,r,t)));if(hn.isPlainObject(e)||e instanceof this.constructor)o(e,t);else if(hn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))o((e=>{const t={};let r,n,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),r=e.substring(0,i).trim().toLowerCase(),n=e.substring(i+1).trim(),!r||t[r]&&Un[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(hn.isHeaders(e))for(const[s,a]of e.entries())i(a,s,r);else null!=e&&i(t,e,r);return this}get(e,t){if(e=Wn(e)){const r=hn.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(hn.isFunction(t))return t.call(this,e,r);if(hn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Wn(e)){const r=hn.findKey(this,e);return!(!r||void 0===this[r]||t&&!Vn(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function i(e){if(e=Wn(e)){const i=hn.findKey(r,e);!i||t&&!Vn(0,r[i],i,t)||(delete r[i],n=!0)}}return hn.isArray(e)?e.forEach(i):i(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const i=t[r];e&&!Vn(0,this[i],i,e,!0)||(delete this[i],n=!0)}return n}normalize(e){const t=this,r={};return hn.forEach(this,((n,i)=>{const o=hn.findKey(r,i);if(o)return t[o]=Hn(n),void delete t[i];const s=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(i):String(i).trim();s!==i&&delete t[i],t[s]=Hn(n),r[s]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return hn.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&hn.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[qn]=this[qn]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=Wn(e);t[n]||(!function(e,t){const r=hn.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,i){return this[n].call(this,t,e,r,i)},configurable:!0})}))}(r,e),t[n]=!0)}return hn.isArray(e)?e.forEach(n):n(e),this}}Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),hn.reduceDescriptors(Kn.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),hn.freezeMethods(Kn);const Jn=Kn;function $n(e,t){const r=this||Bn,n=t||r,i=Jn.from(n.headers);let o=n.data;return hn.forEach(e,(function(e){o=e.call(r,o,i.normalize(),t?t.status:void 0)})),i.normalize(),o}function Gn(e){return!(!e||!e.__CANCEL__)}function Qn(e,t,r){mn.call(this,null==e?"canceled":e,mn.ERR_CANCELED,t,r),this.name="CanceledError"}hn.inherits(Qn,mn,{__CANCEL__:!0});const Yn=Qn;function Xn(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new mn("Request failed with status code "+r.status,[mn.ERR_BAD_REQUEST,mn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const Zn=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let i,o=0,s=0;return t=void 0!==t?t:1e3,function(a){const c=Date.now(),l=n[s];i||(i=c),r[o]=a,n[o]=c;let u=s,p=0;for(;u!==o;)p+=r[u++],u%=e;if(o=(o+1)%e,o===s&&(s=(s+1)%e),c-i<t)return;const d=l&&c-l;return d?Math.round(1e3*p/d):void 0}};const ei=function(e,t){let r,n,i=0,o=1e3/t;const s=function(t){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=o,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,c=new Array(a),l=0;l<a;l++)c[l]=arguments[l];t>=o?s(c,e):(r=c,n||(n=setTimeout((()=>{n=null,s(r)}),o-t)))},()=>r&&s(r)]},ti=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const i=Zn(50,250);return ei((r=>{const o=r.loaded,s=r.lengthComputable?r.total:void 0,a=o-n,c=i(a);n=o;e({loaded:o,total:s,progress:s?o/s:void 0,bytes:a,rate:c||void 0,estimated:c&&s&&o<=s?(s-o)/c:void 0,event:r,lengthComputable:null!=s,[t?"download":"upload"]:!0})}),r)},ri=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},ni=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return hn.asap((()=>e(...r)))},ii=Ln.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,Ln.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(Ln.origin),Ln.navigator&&/(msie|trident)/i.test(Ln.navigator.userAgent)):()=>!0,oi=Ln.hasStandardBrowserEnv?{write(e,t,r,n,i,o){const s=[e+"="+encodeURIComponent(t)];hn.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),hn.isString(n)&&s.push("path="+n),hn.isString(i)&&s.push("domain="+i),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function si(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const ai=e=>e instanceof Jn?{...e}:e;function ci(e,t){t=t||{};const r={};function n(e,t,r,n){return hn.isPlainObject(e)&&hn.isPlainObject(t)?hn.merge.call({caseless:n},e,t):hn.isPlainObject(t)?hn.merge({},t):hn.isArray(t)?t.slice():t}function i(e,t,r,i){return hn.isUndefined(t)?hn.isUndefined(e)?void 0:n(void 0,e,0,i):n(e,t,0,i)}function o(e,t){if(!hn.isUndefined(t))return n(void 0,t)}function s(e,t){return hn.isUndefined(t)?hn.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function a(r,i,o){return o in t?n(r,i):o in e?n(void 0,r):void 0}const c={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(e,t,r)=>i(ai(e),ai(t),0,!0)};return hn.forEach(Object.keys(Object.assign({},e,t)),(function(n){const o=c[n]||i,s=o(e[n],t[n],n);hn.isUndefined(s)&&o!==a||(r[n]=s)})),r}const li=e=>{const t=ci({},e);let r,{data:n,withXSRFToken:i,xsrfHeaderName:o,xsrfCookieName:s,headers:a,auth:c}=t;if(t.headers=a=Jn.from(a),t.url=xn(si(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),c&&a.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),hn.isFormData(n))if(Ln.hasStandardBrowserEnv||Ln.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(r=a.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ln.hasStandardBrowserEnv&&(i&&hn.isFunction(i)&&(i=i(t)),i||!1!==i&&ii(t.url))){const e=o&&s&&oi.read(s);e&&a.set(o,e)}return t},ui="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=li(e);let i=n.data;const o=Jn.from(n.headers).normalize();let s,a,c,l,u,{responseType:p,onUploadProgress:d,onDownloadProgress:h}=n;function v(){l&&l(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(s),n.signal&&n.signal.removeEventListener("abort",s)}let f=new XMLHttpRequest;function g(){if(!f)return;const n=Jn.from("getAllResponseHeaders"in f&&f.getAllResponseHeaders());Xn((function(e){t(e),v()}),(function(e){r(e),v()}),{data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:n,config:e,request:f}),f=null}f.open(n.method.toUpperCase(),n.url,!0),f.timeout=n.timeout,"onloadend"in f?f.onloadend=g:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(g)},f.onabort=function(){f&&(r(new mn("Request aborted",mn.ECONNABORTED,e,f)),f=null)},f.onerror=function(){r(new mn("Network Error",mn.ERR_NETWORK,e,f)),f=null},f.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const i=n.transitional||On;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new mn(t,i.clarifyTimeoutError?mn.ETIMEDOUT:mn.ECONNABORTED,e,f)),f=null},void 0===i&&o.setContentType(null),"setRequestHeader"in f&&hn.forEach(o.toJSON(),(function(e,t){f.setRequestHeader(t,e)})),hn.isUndefined(n.withCredentials)||(f.withCredentials=!!n.withCredentials),p&&"json"!==p&&(f.responseType=n.responseType),h&&([c,u]=ti(h,!0),f.addEventListener("progress",c)),d&&f.upload&&([a,l]=ti(d),f.upload.addEventListener("progress",a),f.upload.addEventListener("loadend",l)),(n.cancelToken||n.signal)&&(s=t=>{f&&(r(!t||t.type?new Yn(null,e,f):t),f.abort(),f=null)},n.cancelToken&&n.cancelToken.subscribe(s),n.signal&&(n.signal.aborted?s():n.signal.addEventListener("abort",s)));const m=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);m&&-1===Ln.protocols.indexOf(m)?r(new mn("Unsupported protocol "+m+":",mn.ERR_BAD_REQUEST,e)):f.send(i||null)}))},pi=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const i=function(e){if(!r){r=!0,s();const t=e instanceof Error?e:this.reason;n.abort(t instanceof mn?t:new Yn(t instanceof Error?t.message:t))}};let o=t&&setTimeout((()=>{o=null,i(new mn(`timeout ${t} of ms exceeded`,mn.ETIMEDOUT))}),t);const s=()=>{e&&(o&&clearTimeout(o),o=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=n;return a.unsubscribe=()=>hn.asap(s),a}},di=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,i=0;for(;i<r;)n=i+t,yield e.slice(i,n),i=n},hi=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:r}=await t.read();if(e)break;yield r}}finally{await t.cancel()}},vi=(e,t,r,n)=>{const i=async function*(e,t){for await(const r of hi(e))yield*di(r,t)}(e,t);let o,s=0,a=e=>{o||(o=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await i.next();if(t)return a(),void e.close();let o=n.byteLength;if(r){let e=s+=o;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},fi="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,gi=fi&&"function"===typeof ReadableStream,mi=fi&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),yi=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Xi){return!1}},Si=gi&&yi((()=>{let e=!1;const t=new Request(Ln.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),Ci=gi&&yi((()=>hn.isReadableStream(new Response("").body))),bi={stream:Ci&&(e=>e.body)};var Pi;fi&&(Pi=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!bi[e]&&(bi[e]=hn.isFunction(Pi[e])?t=>t[e]():(t,r)=>{throw new mn(`Response type '${e}' is not supported`,mn.ERR_NOT_SUPPORT,r)})})));const wi=async(e,t)=>{const r=hn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(hn.isBlob(e))return e.size;if(hn.isSpecCompliantForm(e)){const t=new Request(Ln.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return hn.isArrayBufferView(e)||hn.isArrayBuffer(e)?e.byteLength:(hn.isURLSearchParams(e)&&(e+=""),hn.isString(e)?(await mi(e)).byteLength:void 0)})(t):r},Ri=fi&&(async e=>{let{url:t,method:r,data:n,signal:i,cancelToken:o,timeout:s,onDownloadProgress:a,onUploadProgress:c,responseType:l,headers:u,withCredentials:p="same-origin",fetchOptions:d}=li(e);l=l?(l+"").toLowerCase():"text";let h,v=pi([i,o&&o.toAbortSignal()],s);const f=v&&v.unsubscribe&&(()=>{v.unsubscribe()});let g;try{if(c&&Si&&"get"!==r&&"head"!==r&&0!==(g=await wi(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(hn.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=ri(g,ti(ni(c)));n=vi(r.body,65536,e,t)}}hn.isString(p)||(p=p?"include":"omit");const i="credentials"in Request.prototype;h=new Request(t,{...d,signal:v,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:i?p:void 0});let o=await fetch(h);const s=Ci&&("stream"===l||"response"===l);if(Ci&&(a||s&&f)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=o[t]}));const t=hn.toFiniteNumber(o.headers.get("content-length")),[r,n]=a&&ri(t,ti(ni(a),!0))||[];o=new Response(vi(o.body,65536,r,(()=>{n&&n(),f&&f()})),e)}l=l||"text";let m=await bi[hn.findKey(bi,l)||"text"](o,e);return!s&&f&&f(),await new Promise(((t,r)=>{Xn(t,r,{data:m,headers:Jn.from(o.headers),status:o.status,statusText:o.statusText,config:e,request:h})}))}catch(m){if(f&&f(),m&&"TypeError"===m.name&&/fetch/i.test(m.message))throw Object.assign(new mn("Network Error",mn.ERR_NETWORK,e,h),{cause:m.cause||m});throw mn.from(m,m&&m.code,e,h)}}),Ii={http:null,xhr:ui,fetch:Ri};hn.forEach(Ii,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Xi){}Object.defineProperty(e,"adapterName",{value:t})}}));const Ei=e=>`- ${e}`,Ti=e=>hn.isFunction(e)||null===e||!1===e,xi=e=>{e=hn.isArray(e)?e:[e];const{length:t}=e;let r,n;const i={};for(let o=0;o<t;o++){let t;if(r=e[o],n=r,!Ti(r)&&(n=Ii[(t=String(r)).toLowerCase()],void 0===n))throw new mn(`Unknown adapter '${t}'`);if(n)break;i[t||"#"+o]=n}if(!n){const e=Object.entries(i).map((e=>{let[t,r]=e;return`adapter ${t} `+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(Ei).join("\n"):" "+Ei(e[0]):"as no adapter specified";throw new mn("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function Ai(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Yn(null,e)}function Oi(e){Ai(e),e.headers=Jn.from(e.headers),e.data=$n.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return xi(e.adapter||Bn.adapter)(e).then((function(t){return Ai(e),t.data=$n.call(e,e.transformResponse,t),t.headers=Jn.from(t.headers),t}),(function(t){return Gn(t)||(Ai(e),t&&t.response&&(t.response.data=$n.call(e,e.transformResponse,t.response),t.response.headers=Jn.from(t.response.headers))),Promise.reject(t)}))}const ki="1.8.4",Ni={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Ni[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const Mi={};Ni.transitional=function(e,t,r){function n(e,t){return"[Axios v1.8.4] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,i,o)=>{if(!1===e)throw new mn(n(i," has been removed"+(t?" in "+t:"")),mn.ERR_DEPRECATED);return t&&!Mi[i]&&(Mi[i]=!0,console.warn(n(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,i,o)}},Ni.spelling=function(e){return(t,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};const Di={assertOptions:function(e,t,r){if("object"!==typeof e)throw new mn("options must be an object",mn.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let i=n.length;for(;i-- >0;){const o=n[i],s=t[o];if(s){const t=e[o],r=void 0===t||s(t,o,e);if(!0!==r)throw new mn("option "+o+" must be "+r,mn.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new mn("Unknown option "+o,mn.ERR_BAD_OPTION)}},validators:Ni},_i=Di.validators;class zi{constructor(e){this.defaults=e,this.interceptors={request:new An,response:new An}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Xi){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ci(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:i}=t;void 0!==r&&Di.assertOptions(r,{silentJSONParsing:_i.transitional(_i.boolean),forcedJSONParsing:_i.transitional(_i.boolean),clarifyTimeoutError:_i.transitional(_i.boolean)},!1),null!=n&&(hn.isFunction(n)?t.paramsSerializer={serialize:n}:Di.assertOptions(n,{encode:_i.function,serialize:_i.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Di.assertOptions(t,{baseUrl:_i.spelling("baseURL"),withXsrfToken:_i.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let o=i&&hn.merge(i.common,i[t.method]);i&&hn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Jn.concat(o,i);const s=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,s.unshift(e.fulfilled,e.rejected))}));const c=[];let l;this.interceptors.response.forEach((function(e){c.push(e.fulfilled,e.rejected)}));let u,p=0;if(!a){const e=[Oi.bind(this),void 0];for(e.unshift.apply(e,s),e.push.apply(e,c),u=e.length,l=Promise.resolve(t);p<u;)l=l.then(e[p++],e[p++]);return l}u=s.length;let d=t;for(p=0;p<u;){const e=s[p++],t=s[p++];try{d=e(d)}catch(h){t.call(this,h);break}}try{l=Oi.call(this,d)}catch(h){return Promise.reject(h)}for(p=0,u=c.length;p<u;)l=l.then(c[p++],c[p++]);return l}getUri(e){return xn(si((e=ci(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}hn.forEach(["delete","get","head","options"],(function(e){zi.prototype[e]=function(t,r){return this.request(ci(r||{},{method:e,url:t,data:(r||{}).data}))}})),hn.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,i){return this.request(ci(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}zi.prototype[e]=t(),zi.prototype[e+"Form"]=t(!0)}));const Li=zi;class ji{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,i){r.reason||(r.reason=new Yn(e,n,i),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new ji((function(t){e=t})),cancel:e}}}const Fi=ji;const Bi={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Bi).forEach((e=>{let[t,r]=e;Bi[r]=t}));const Ui=Bi;const qi=function e(t){const r=new Li(t),n=Ar(Li.prototype.request,r);return hn.extend(n,Li.prototype,r,{allOwnKeys:!0}),hn.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(ci(t,r))},n}(Bn);qi.Axios=Li,qi.CanceledError=Yn,qi.CancelToken=Fi,qi.isCancel=Gn,qi.VERSION=ki,qi.toFormData=Pn,qi.AxiosError=mn,qi.Cancel=qi.CanceledError,qi.all=function(e){return Promise.all(e)},qi.spread=function(e){return function(t){return e.apply(null,t)}},qi.isAxiosError=function(e){return hn.isObject(e)&&!0===e.isAxiosError},qi.mergeConfig=ci,qi.AxiosHeaders=Jn,qi.formToJSON=e=>jn(hn.isHTMLForm(e)?new FormData(e):e),qi.getAdapter=xi,qi.HttpStatusCode=Ui,qi.default=qi;const Wi=qi,Hi=(0,t.createContext)(),Vi=()=>(0,t.useContext)(Hi),Ki=e=>{let{children:r}=e;const[n,i]=(0,t.useState)(null),[o,s]=(0,t.useState)(!0),[a,c]=(0,t.useState)(null);(0,t.useEffect)((()=>{const e=localStorage.getItem("token"),t=localStorage.getItem("user");e&&t&&(i(JSON.parse(t)),Wi.defaults.headers.common.Authorization=`Bearer ${e}`),s(!1)}),[]);const l={user:n,loading:o,error:a,login:async(e,t)=>{try{const r=await Wi.post("http://localhost:3001/api/auth/login",{email:e,password:t}),{token:n,user:o}=r.data;return localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(o)),Wi.defaults.headers.common.Authorization=`Bearer ${n}`,i(o),c(null),o}catch(o){var r,n;throw c((null===(r=o.response)||void 0===r||null===(n=r.data)||void 0===n?void 0:n.error)||"Login failed"),o}},register:async e=>{try{const t=await Wi.post("http://localhost:3001/api/auth/register",e),{token:r,user:n}=t.data;return localStorage.setItem("token",r),localStorage.setItem("user",JSON.stringify(n)),Wi.defaults.headers.common.Authorization=`Bearer ${r}`,i(n),c(null),n}catch(n){var t,r;throw c((null===(t=n.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.error)||"Registration failed"),n}},logout:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),delete Wi.defaults.headers.common.Authorization,i(null)}};return(0,st.jsx)(Hi.Provider,{value:l,children:!o&&r})},Ji=()=>{const[e,r]=(0,t.useState)(""),[n,i]=(0,t.useState)(""),[o,s]=(0,t.useState)(""),{login:a}=Vi(),c=Z();return(0,st.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,st.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,st.jsx)("div",{children:(0,st.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Sign in to your account"})}),(0,st.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{t.preventDefault(),s("");try{await a(e,n),c("/dashboard")}catch(r){s(r.message)}},children:[o&&(0,st.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,st.jsx)("span",{className:"block sm:inline",children:o})}),(0,st.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,st.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e,onChange:e=>r(e.target.value)})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,st.jsx)("input",{id:"password",name:"password",type:"password",autoComplete:"current-password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:n,onChange:e=>i(e.target.value)})]})]}),(0,st.jsx)("div",{children:(0,st.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Sign in"})})]})]})})},$i=()=>{const[e,r]=(0,t.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",userType:"patient"}),[n,i]=(0,t.useState)(""),{register:o}=Vi(),s=Z(),a=e=>{const{name:t,value:n}=e.target;r((e=>({...e,[t]:n})))};return(0,st.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,st.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,st.jsx)("div",{children:(0,st.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Create your account"})}),(0,st.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:async t=>{if(t.preventDefault(),i(""),e.password===e.confirmPassword)try{await o({email:e.email,password:e.password,userType:e.userType,firstName:e.firstName,lastName:e.lastName}),s("/dashboard")}catch(r){i(r.message)}else i("Passwords do not match")},children:[n&&(0,st.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",role:"alert",children:(0,st.jsx)("span",{className:"block sm:inline",children:n})}),(0,st.jsxs)("div",{className:"rounded-md shadow-sm -space-y-px",children:[(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"first-name",className:"sr-only",children:"First Name"}),(0,st.jsx)("input",{id:"first-name",name:"firstName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"First Name",value:e.firstName,onChange:a})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"last-name",className:"sr-only",children:"Last Name"}),(0,st.jsx)("input",{id:"last-name",name:"lastName",type:"text",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Last Name",value:e.lastName,onChange:a})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"email-address",className:"sr-only",children:"Email address"}),(0,st.jsx)("input",{id:"email-address",name:"email",type:"email",autoComplete:"email",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Email address",value:e.email,onChange:a})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"password",className:"sr-only",children:"Password"}),(0,st.jsx)("input",{id:"password",name:"password",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Password",value:e.password,onChange:a})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"confirm-password",className:"sr-only",children:"Confirm Password"}),(0,st.jsx)("input",{id:"confirm-password",name:"confirmPassword",type:"password",required:!0,className:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password",value:e.confirmPassword,onChange:a})]})]}),(0,st.jsxs)("div",{children:[(0,st.jsx)("label",{htmlFor:"user-type",className:"block text-sm font-medium text-gray-700",children:"Account Type"}),(0,st.jsxs)("select",{id:"user-type",name:"userType",className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border-gray-300 focus:outline-none focus:ring-indigo-500 focus:border-indigo-500 sm:text-sm rounded-md",value:e.userType,onChange:a,children:[(0,st.jsx)("option",{value:"patient",children:"Patient"}),(0,st.jsx)("option",{value:"doctor",children:"Doctor"})]})]}),(0,st.jsx)("div",{children:(0,st.jsx)("button",{type:"submit",className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"Register"})})]})]})})},Gi=e=>{let{children:t}=e;const{user:r}=Vi();return r?t:(0,st.jsx)(ve,{to:"/login"})};const Qi=function(){const[e,r]=(0,t.useState)([{id:1,patientName:"John Doe",doctorName:"Dr. Sarah Wilson",date:"2024-03-25",time:"9:00 AM",reason:"Annual Checkup",duration:"30min"},{id:2,patientName:"Jane Smith",doctorName:"Dr. Michael Brown",date:"2024-03-25",time:"10:00 AM",reason:"Follow-up",duration:"45min"},{id:3,patientName:"Robert Johnson",doctorName:"Dr. Sarah Wilson",date:"2024-03-26",time:"2:30 PM",reason:"Initial Consultation",duration:"60min"}]);return(0,st.jsx)(Ki,{children:(0,st.jsx)(Ye,{children:(0,st.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,st.jsx)(at,{}),(0,st.jsx)("main",{className:"container mx-auto px-4 py-8",children:(0,st.jsxs)(me,{children:[(0,st.jsx)(fe,{path:"/login",element:(0,st.jsx)(Ji,{})}),(0,st.jsx)(fe,{path:"/register",element:(0,st.jsx)($i,{})}),(0,st.jsx)(fe,{path:"/dashboard",element:(0,st.jsx)(Gi,{children:(0,st.jsx)(br,{appointments:e})})}),(0,st.jsx)(fe,{path:"/",element:(0,st.jsx)(ve,{to:"/login"})}),(0,st.jsx)(fe,{path:"/doctor-dashboard",element:(0,st.jsx)(Ir,{appointments:e})}),(0,st.jsx)(fe,{path:"/patient-dashboard",element:(0,st.jsx)(Er,{})}),(0,st.jsx)(fe,{path:"/appointments",element:(0,st.jsx)(Cr,{})}),(0,st.jsx)(fe,{path:"/patients",element:(0,st.jsx)(Rr,{appointments:e,setAppointments:r})}),(0,st.jsx)(fe,{path:"/medical-records",element:(0,st.jsx)(Tr,{})}),(0,st.jsx)(fe,{path:"/prescriptions",element:(0,st.jsx)(xr,{})})]})})]})})})},Yi=e=>{e&&e instanceof Function&&r.e(453).then(r.bind(r,6453)).then((t=>{let{getCLS:r,getFID:n,getFCP:i,getLCP:o,getTTFB:s}=t;r(e),n(e),i(e),o(e),s(e)}))};n.createRoot(document.getElementById("root")).render((0,st.jsx)(t.StrictMode,{children:(0,st.jsx)(Qi,{})})),Yi()})()})();
//# sourceMappingURL=main.cd93e4d8.js.map